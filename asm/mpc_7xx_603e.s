# mpc_7xx_603e.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel TRKSaveExtended1Block
/* 0D3C38 800D91D8 3C408014 */  lis		r2, gTRKCPUState@h
/* 0D3C3C 800D91DC 604243A0 */  ori		r2, r2, gTRKCPUState@l
/* 0D3C40 800D91E0 7E0004A6 */  mfsr	r16, 0
/* 0D3C44 800D91E4 7E2104A6 */  mfsr	r17, 1
/* 0D3C48 800D91E8 7E4204A6 */  mfsr	r18, 2
/* 0D3C4C 800D91EC 7E6304A6 */  mfsr	r19, 3
/* 0D3C50 800D91F0 7E8404A6 */  mfsr	r20, 4
/* 0D3C54 800D91F4 7EA504A6 */  mfsr	r21, 5
/* 0D3C58 800D91F8 7EC604A6 */  mfsr	r22, 6
/* 0D3C5C 800D91FC 7EE704A6 */  mfsr	r23, 7
/* 0D3C60 800D9200 7F0804A6 */  mfsr	r24, 8
/* 0D3C64 800D9204 7F2904A6 */  mfsr	r25, 9
/* 0D3C68 800D9208 7F4A04A6 */  mfsr	r26, 0xa
/* 0D3C6C 800D920C 7F6B04A6 */  mfsr	r27, 0xb
/* 0D3C70 800D9210 7F8C04A6 */  mfsr	r28, 0xc
/* 0D3C74 800D9214 7FAD04A6 */  mfsr	r29, 0xd
/* 0D3C78 800D9218 7FCE04A6 */  mfsr	r30, 0xe
/* 0D3C7C 800D921C 7FEF04A6 */  mfsr	r31, 0xf
/* 0D3C80 800D9220 BE0201A8 */  stmw	r16, 0x1a8(r2)
/* 0D3C84 800D9224 7D4C42E6 */  mftb	r10, 0x10c
/* 0D3C88 800D9228 7D6D42E6 */  mftbu	r11
/* 0D3C8C 800D922C 7D90FAA6 */  mfspr	r12, 0x3f0
/* 0D3C90 800D9230 7DB1FAA6 */  mfspr	r13, 0x3f1
/* 0D3C94 800D9234 7DDB02A6 */  mfspr	r14, 0x1b
/* 0D3C98 800D9238 7DFF42A6 */  mfpvr	r15
/* 0D3C9C 800D923C 7E1082A6 */  mfibatu	r16, 0
/* 0D3CA0 800D9240 7E3182A6 */  mfibatl	r17, 0
/* 0D3CA4 800D9244 7E5282A6 */  mfibatu	r18, 1
/* 0D3CA8 800D9248 7E7382A6 */  mfibatl	r19, 1
/* 0D3CAC 800D924C 7E9482A6 */  mfibatu	r20, 2
/* 0D3CB0 800D9250 7EB582A6 */  mfibatl	r21, 2
/* 0D3CB4 800D9254 7ED682A6 */  mfibatu	r22, 3
/* 0D3CB8 800D9258 7EF782A6 */  mfibatl	r23, 3
/* 0D3CBC 800D925C 7F1882A6 */  mfdbatu	r24, 0
/* 0D3CC0 800D9260 7F3982A6 */  mfdbatl	r25, 0
/* 0D3CC4 800D9264 7F5A82A6 */  mfdbatu	r26, 1
/* 0D3CC8 800D9268 7F7B82A6 */  mfdbatl	r27, 1
/* 0D3CCC 800D926C 7F9C82A6 */  mfdbatu	r28, 2
/* 0D3CD0 800D9270 7FBD82A6 */  mfdbatl	r29, 2
/* 0D3CD4 800D9274 7FDE82A6 */  mfdbatu	r30, 3
/* 0D3CD8 800D9278 7FFF82A6 */  mfdbatl	r31, 3
/* 0D3CDC 800D927C BD4201E8 */  stmw	r10, 0x1e8(r2)
/* 0D3CE0 800D9280 7ED902A6 */  mfspr	r22, 0x19
/* 0D3CE4 800D9284 7EF302A6 */  mfdar	r23
/* 0D3CE8 800D9288 7F1202A6 */  mfdsisr	r24
/* 0D3CEC 800D928C 7F3042A6 */  mfspr	r25, 0x110
/* 0D3CF0 800D9290 7F5142A6 */  mfspr	r26, 0x111
/* 0D3CF4 800D9294 7F7242A6 */  mfspr	r27, 0x112
/* 0D3CF8 800D9298 7F9342A6 */  mfspr	r28, 0x113
/* 0D3CFC 800D929C 3BA00000 */  li		r29, 0
/* 0D3D00 800D92A0 7FD2FAA6 */  mfspr	r30, 0x3f2
/* 0D3D04 800D92A4 7FFA42A6 */  mfspr	r31, 0x11a
/* 0D3D08 800D92A8 BEC2025C */  stmw	r22, 0x25c(r2)
/* 0D3D0C 800D92AC 7E90E2A6 */  mfspr	r20, 0x390
/* 0D3D10 800D92B0 7EB1E2A6 */  mfspr	r21, 0x391
/* 0D3D14 800D92B4 7ED2E2A6 */  mfspr	r22, 0x392
/* 0D3D18 800D92B8 7EF3E2A6 */  mfspr	r23, 0x393
/* 0D3D1C 800D92BC 7F14E2A6 */  mfspr	r24, 0x394
/* 0D3D20 800D92C0 7F35E2A6 */  mfspr	r25, 0x395
/* 0D3D24 800D92C4 7F56E2A6 */  mfspr	r26, 0x396
/* 0D3D28 800D92C8 7F77E2A6 */  mfspr	r27, 0x397
/* 0D3D2C 800D92CC 7F98E2A6 */  mfspr	r28, 0x398
/* 0D3D30 800D92D0 7FB9E2A6 */  mfspr	r29, 0x399
/* 0D3D34 800D92D4 7FDAE2A6 */  mfspr	r30, 0x39a
/* 0D3D38 800D92D8 7FFBE2A6 */  mfspr	r31, 0x39b
/* 0D3D3C 800D92DC BE8202FC */  stmw	r20, 0x2fc(r2)
/* 0D3D40 800D92E0 48000048 */  b		lbl_800D9328
/* 0D3D44 800D92E4 7E00EAA6 */  mfspr	r16, 0x3a0
/* 0D3D48 800D92E8 7E27EAA6 */  mfspr	r17, 0x3a7
/* 0D3D4C 800D92EC 7E48EAA6 */  mfspr	r18, 0x3a8
/* 0D3D50 800D92F0 7E69EAA6 */  mfspr	r19, 0x3a9
/* 0D3D54 800D92F4 7E8AEAA6 */  mfspr	r20, 0x3aa
/* 0D3D58 800D92F8 7EABEAA6 */  mfspr	r21, 0x3ab
/* 0D3D5C 800D92FC 7ECCEAA6 */  mfspr	r22, 0x3ac
/* 0D3D60 800D9300 7EEDEAA6 */  mfspr	r23, 0x3ad
/* 0D3D64 800D9304 7F0EEAA6 */  mfspr	r24, 0x3ae
/* 0D3D68 800D9308 7F2FEAA6 */  mfspr	r25, 0x3af
/* 0D3D6C 800D930C 7F50EAA6 */  mfspr	r26, 0x3b0
/* 0D3D70 800D9310 7F77EAA6 */  mfspr	r27, 0x3b7
/* 0D3D74 800D9314 7F9FEAA6 */  mfspr	r28, 0x3bf
/* 0D3D78 800D9318 7FB6FAA6 */  mfspr	r29, 0x3f6
/* 0D3D7C 800D931C 7FD7FAA6 */  mfspr	r30, 0x3f7
/* 0D3D80 800D9320 7FFFFAA6 */  mfspr	r31, 0x3ff
/* 0D3D84 800D9324 BE0202B8 */  stmw	r16, 0x2b8(r2)
lbl_800D9328:
/* 0D3D88 800D9328 7E75FAA6 */  mfspr	r19, 0x3f5
/* 0D3D8C 800D932C 7E99EAA6 */  mfspr	r20, 0x3b9
/* 0D3D90 800D9330 7EBAEAA6 */  mfspr	r21, 0x3ba
/* 0D3D94 800D9334 7EDDEAA6 */  mfspr	r22, 0x3bd
/* 0D3D98 800D9338 7EFEEAA6 */  mfspr	r23, 0x3be
/* 0D3D9C 800D933C 7F1BEAA6 */  mfspr	r24, 0x3bb
/* 0D3DA0 800D9340 7F38EAA6 */  mfspr	r25, 0x3b8
/* 0D3DA4 800D9344 7F5CEAA6 */  mfspr	r26, 0x3bc
/* 0D3DA8 800D9348 7F7CFAA6 */  mfspr	r27, 0x3fc
/* 0D3DAC 800D934C 7F9DFAA6 */  mfspr	r28, 0x3fd
/* 0D3DB0 800D9350 7FBEFAA6 */  mfspr	r29, 0x3fe
/* 0D3DB4 800D9354 7FDBFAA6 */  mfspr	r30, 0x3FB
/* 0D3DB8 800D9358 7FF9FAA6 */  mfspr	r31, 0x3f9
/* 0D3DBC 800D935C BE620284 */  stmw	r19, 0x284(r2)
/* 0D3DC0 800D9360 4800002C */  b		lbl_800D938C
/* 0D3DC4 800D9364 7F30F2A6 */  mfspr	r25, 0x3d0
/* 0D3DC8 800D9368 7F51F2A6 */  mfspr	r26, 0x3d1
/* 0D3DCC 800D936C 7F72F2A6 */  mfspr	r27, 0x3d2
/* 0D3DD0 800D9370 7F93F2A6 */  mfspr	r28, 0x3d3
/* 0D3DD4 800D9374 7FB4F2A6 */  mfspr	r29, 0x3D4
/* 0D3DD8 800D9378 7FD5F2A6 */  mfspr	r30, 0x3D5
/* 0D3DDC 800D937C 7FF6F2A6 */  mfspr	r31, 0x3d6
/* 0D3DE0 800D9380 BF220240 */  stmw	r25, 0x240(r2)
/* 0D3DE4 800D9384 7FF602A6 */  mfspr	r31, 0x16
/* 0D3DE8 800D9388 93E20278 */  stw		r31, 0x278(r2)
lbl_800D938C:
/* 0D3DEC 800D938C 4E800020 */  blr		

glabel TRKRestoreExtended1Block
/* 0D3DF0 800D9390 3C408014 */  lis		r2, gTRKCPUState@h
/* 0D3DF4 800D9394 604243A0 */  ori		r2, r2, gTRKCPUState@l
/* 0D3DF8 800D9398 3CA08010 */  lis		r5, gTRKRestoreFlags@h
/* 0D3DFC 800D939C 60A51D88 */  ori		r5, r5, gTRKRestoreFlags@l
/* 0D3E00 800D93A0 88650000 */  lbz		r3, 0(r5)
/* 0D3E04 800D93A4 88C50001 */  lbz		r6, 1(r5)
/* 0D3E08 800D93A8 38000000 */  li		r0, 0
/* 0D3E0C 800D93AC 98050000 */  stb		r0, 0(r5)
/* 0D3E10 800D93B0 98050001 */  stb		r0, 1(r5)
/* 0D3E14 800D93B4 2C030000 */  cmpwi	r3, 0
/* 0D3E18 800D93B8 41820014 */  beq		lbl_800D93CC
/* 0D3E1C 800D93BC 830201E8 */  lwz		r24, 0x1e8(r2)
/* 0D3E20 800D93C0 832201EC */  lwz		r25, 0x1ec(r2)
/* 0D3E24 800D93C4 7F1C43A6 */  mttbl	r24
/* 0D3E28 800D93C8 7F3D43A6 */  mttbu	r25
lbl_800D93CC:
/* 0D3E2C 800D93CC BA8202FC */  lmw		r20, 0x2fc(r2)
/* 0D3E30 800D93D0 7E90E3A6 */  mtspr	0x390, r20
/* 0D3E34 800D93D4 7EB1E3A6 */  mtspr	0x391, r21
/* 0D3E38 800D93D8 7ED2E3A6 */  mtspr	0x392, r22
/* 0D3E3C 800D93DC 7EF3E3A6 */  mtspr	0x393, r23
/* 0D3E40 800D93E0 7F14E3A6 */  mtspr	0x394, r24
/* 0D3E44 800D93E4 7F35E3A6 */  mtspr	0x395, r25
/* 0D3E48 800D93E8 7F56E3A6 */  mtspr	0x396, r26
/* 0D3E4C 800D93EC 7F77E3A6 */  mtspr	0x397, r27
/* 0D3E50 800D93F0 7F98E3A6 */  mtspr	0x398, r28
/* 0D3E54 800D93F4 7FDAE3A6 */  mtspr	0x39a, r30
/* 0D3E58 800D93F8 7FFBE3A6 */  mtspr	0x39b, r31
/* 0D3E5C 800D93FC 4800001C */  b		lbl_800D9418
/* 0D3E60 800D9400 BB4202E0 */  lmw		r26, 0x2e0(r2)
/* 0D3E64 800D9404 7F50EBA6 */  mtspr	0x3b0, r26
/* 0D3E68 800D9408 7F77EBA6 */  mtspr	0x3b7, r27
/* 0D3E6C 800D940C 7FB6FBA6 */  mtspr	0x3f6, r29
/* 0D3E70 800D9410 7FD7FBA6 */  mtspr	0x3f7, r30
/* 0D3E74 800D9414 7FFFFBA6 */  mtspr	0x3ff, r31
lbl_800D9418:
/* 0D3E78 800D9418 BA620284 */  lmw		r19, 0x284(r2)
/* 0D3E7C 800D941C 7E75FBA6 */  mtspr	0x3f5, r19
/* 0D3E80 800D9420 7E99EBA6 */  mtspr	0x3b9, r20
/* 0D3E84 800D9424 7EBAEBA6 */  mtspr	0x3ba, r21
/* 0D3E88 800D9428 7EDDEBA6 */  mtspr	0x3bd, r22
/* 0D3E8C 800D942C 7EFEEBA6 */  mtspr	0x3be, r23
/* 0D3E90 800D9430 7F1BEBA6 */  mtspr	0x3bb, r24
/* 0D3E94 800D9434 7F38EBA6 */  mtspr	0x3b8, r25
/* 0D3E98 800D9438 7F5CEBA6 */  mtspr	0x3bc, r26
/* 0D3E9C 800D943C 7F7CFBA6 */  mtspr	0x3fc, r27
/* 0D3EA0 800D9440 7F9DFBA6 */  mtspr	0x3fd, r28
/* 0D3EA4 800D9444 7FBEFBA6 */  mtspr	0x3fe, r29
/* 0D3EA8 800D9448 7FDBFBA6 */  mtictc	r30
/* 0D3EAC 800D944C 7FF9FBA6 */  mtspr	0x3f9, r31
/* 0D3EB0 800D9450 48000034 */  b		lbl_800D9484
/* 0D3EB4 800D9454 2C060000 */  cmpwi	r6, 0
/* 0D3EB8 800D9458 4182000C */  beq		lbl_800D9464
/* 0D3EBC 800D945C 83420278 */  lwz		r26, 0x278(r2)
/* 0D3EC0 800D9460 7F5603A6 */  mtspr	0x16, r26
lbl_800D9464:
/* 0D3EC4 800D9464 BB220240 */  lmw		r25, 0x240(r2)
/* 0D3EC8 800D9468 7F30F3A6 */  mtspr	0x3d0, r25
/* 0D3ECC 800D946C 7F51F3A6 */  mtspr	0x3d1, r26
/* 0D3ED0 800D9470 7F72F3A6 */  mtspr	0x3d2, r27
/* 0D3ED4 800D9474 7F93F3A6 */  mtspr	0x3d3, r28
/* 0D3ED8 800D9478 7FB4F3A6 */  mtspr	0x3D4, r29
/* 0D3EDC 800D947C 7FD5F3A6 */  mtspr	0x3D5, r30
/* 0D3EE0 800D9480 7FF6F3A6 */  mtspr	0x3d6, r31
lbl_800D9484:
/* 0D3EE4 800D9484 BA0201A8 */  lmw		r16, 0x1a8(r2)
/* 0D3EE8 800D9488 7E0001A4 */  mtsr	0, r16
/* 0D3EEC 800D948C 7E2101A4 */  mtsr	1, r17
/* 0D3EF0 800D9490 7E4201A4 */  mtsr	2, r18
/* 0D3EF4 800D9494 7E6301A4 */  mtsr	3, r19
/* 0D3EF8 800D9498 7E8401A4 */  mtsr	4, r20
/* 0D3EFC 800D949C 7EA501A4 */  mtsr	5, r21
/* 0D3F00 800D94A0 7EC601A4 */  mtsr	6, r22
/* 0D3F04 800D94A4 7EE701A4 */  mtsr	7, r23
/* 0D3F08 800D94A8 7F0801A4 */  mtsr	8, r24
/* 0D3F0C 800D94AC 7F2901A4 */  mtsr	9, r25
/* 0D3F10 800D94B0 7F4A01A4 */  mtsr	0xa, r26
/* 0D3F14 800D94B4 7F6B01A4 */  mtsr	0xb, r27
/* 0D3F18 800D94B8 7F8C01A4 */  mtsr	0xc, r28
/* 0D3F1C 800D94BC 7FAD01A4 */  mtsr	0xd, r29
/* 0D3F20 800D94C0 7FCE01A4 */  mtsr	0xe, r30
/* 0D3F24 800D94C4 7FEF01A4 */  mtsr	0xf, r31
/* 0D3F28 800D94C8 B98201F0 */  lmw		r12, 0x1f0(r2)
/* 0D3F2C 800D94CC 7D90FBA6 */  mtspr	0x3f0, r12
/* 0D3F30 800D94D0 7DB1FBA6 */  mtspr	0x3f1, r13
/* 0D3F34 800D94D4 7DDB03A6 */  mtspr	0x1b, r14
/* 0D3F38 800D94D8 7DFF43A6 */  mtspr	0x11f, r15
/* 0D3F3C 800D94DC 7E1083A6 */  mtibatu	0, r16
/* 0D3F40 800D94E0 7E3183A6 */  mtibatl	0, r17
/* 0D3F44 800D94E4 7E5283A6 */  mtibatu	1, r18
/* 0D3F48 800D94E8 7E7383A6 */  mtibatl	1, r19
/* 0D3F4C 800D94EC 7E9483A6 */  mtibatu	2, r20
/* 0D3F50 800D94F0 7EB583A6 */  mtibatl	2, r21
/* 0D3F54 800D94F4 7ED683A6 */  mtibatu	3, r22
/* 0D3F58 800D94F8 7EF783A6 */  mtibatl	3, r23
/* 0D3F5C 800D94FC 7F1883A6 */  mtdbatu	0, r24
/* 0D3F60 800D9500 7F3983A6 */  mtdbatl	0, r25
/* 0D3F64 800D9504 7F5A83A6 */  mtdbatu	1, r26
/* 0D3F68 800D9508 7F7B83A6 */  mtdbatl	1, r27
/* 0D3F6C 800D950C 7F9C83A6 */  mtdbatu	2, r28
/* 0D3F70 800D9510 7FBD83A6 */  mtdbatl	2, r29
/* 0D3F74 800D9514 7FDE83A6 */  mtdbatu	3, r30
/* 0D3F78 800D9518 7FFF83A6 */  mtdbatl	3, r31
/* 0D3F7C 800D951C BAC2025C */  lmw		r22, 0x25c(r2)
/* 0D3F80 800D9520 7ED903A6 */  mtspr	0x19, r22
/* 0D3F84 800D9524 7EF303A6 */  mtdar	r23
/* 0D3F88 800D9528 7F1203A6 */  mtdsisr	r24
/* 0D3F8C 800D952C 7F3043A6 */  mtspr	0x110, r25
/* 0D3F90 800D9530 7F5143A6 */  mtspr	0x111, r26
/* 0D3F94 800D9534 7F7243A6 */  mtspr	0x112, r27
/* 0D3F98 800D9538 7F9343A6 */  mtspr	0x113, r28
/* 0D3F9C 800D953C 7FD2FBA6 */  mtspr	0x3f2, r30
/* 0D3FA0 800D9540 7FFA43A6 */  mtspr	0x11a, r31
/* 0D3FA4 800D9544 4E800020 */  blr		


