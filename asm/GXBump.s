# GXBump.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel GXSetTevIndirect
/* 0B3A70 800B9010 9421FFD0 */  stwu    r1, -0x30(r1)
/* 0B3A74 800B9014 38000000 */  li      r0, 0
/* 0B3A78 800B9018 508007BE */  rlwimi  r0, r4, 0, 0x1e, 0x1f
/* 0B3A7C 800B901C 93E1002C */  stw     r31, 0x2c(r1)
/* 0B3A80 800B9020 7C0B0378 */  mr      r11, r0
/* 0B3A84 800B9024 50AB173A */  rlwimi  r11, r5, 2, 0x1c, 0x1d
/* 0B3A88 800B9028 8181003C */  lwz     r12, 0x3c(r1)
/* 0B3A8C 800B902C 8BE1003B */  lbz     r31, 0x3b(r1)
/* 0B3A90 800B9030 50CB2676 */  rlwimi  r11, r6, 4, 0x19, 0x1b
/* 0B3A94 800B9034 808284B0 */  lwz     r4, __GXData-_SDA2_BASE_(r2)
/* 0B3A98 800B9038 518B3DF0 */  rlwimi  r11, r12, 7, 0x17, 0x18
/* 0B3A9C 800B903C 50EB4CEC */  rlwimi  r11, r7, 9, 0x13, 0x16
/* 0B3AA0 800B9040 510B6C24 */  rlwimi  r11, r8, 0xd, 0x10, 0x12
/* 0B3AA4 800B9044 512B835E */  rlwimi  r11, r9, 0x10, 0xd, 0xf
/* 0B3AA8 800B9048 53EB9B18 */  rlwimi  r11, r31, 0x13, 0xc, 0xc
/* 0B3AAC 800B904C 38000061 */  li      r0, 0x61
/* 0B3AB0 800B9050 3CA0CC01 */  lis     r5, 0xcc01
/* 0B3AB4 800B9054 98058000 */  stb     r0, -0x8000(r5)
/* 0B3AB8 800B9058 38030010 */  addi    r0, r3, 0x10
/* 0B3ABC 800B905C 514BA2D6 */  rlwimi  r11, r10, 0x14, 0xb, 0xb
/* 0B3AC0 800B9060 500BC00E */  rlwimi  r11, r0, 0x18, 0, 7
/* 0B3AC4 800B9064 91658000 */  stw     r11, -0x8000(r5)
/* 0B3AC8 800B9068 38000000 */  li      r0, 0
/* 0B3ACC 800B906C B0040002 */  sth     r0, 2(r4)
/* 0B3AD0 800B9070 83E1002C */  lwz     r31, 0x2c(r1)
/* 0B3AD4 800B9074 38210030 */  addi    r1, r1, 0x30
/* 0B3AD8 800B9078 4E800020 */  blr     

glabel GXSetIndTexCoordScale
/* 0B3ADC 800B907C 2C030002 */  cmpwi   r3, 2
/* 0B3AE0 800B9080 418200AC */  beq     lbl_800B912C
/* 0B3AE4 800B9084 40800014 */  bge     lbl_800B9098
/* 0B3AE8 800B9088 2C030000 */  cmpwi   r3, 0
/* 0B3AEC 800B908C 41820018 */  beq     lbl_800B90A4
/* 0B3AF0 800B9090 40800058 */  bge     lbl_800B90E8
/* 0B3AF4 800B9094 4800011C */  b       lbl_800B91B0
lbl_800B9098:
/* 0B3AF8 800B9098 2C030004 */  cmpwi   r3, 4
/* 0B3AFC 800B909C 40800114 */  bge     lbl_800B91B0
/* 0B3B00 800B90A0 480000D0 */  b       lbl_800B9170
lbl_800B90A4:
/* 0B3B04 800B90A4 810284B0 */  lwz     r8, __GXData-_SDA2_BASE_(r2)
/* 0B3B08 800B90A8 38C00025 */  li      r6, 0x25
/* 0B3B0C 800B90AC 38000061 */  li      r0, 0x61
/* 0B3B10 800B90B0 80E80128 */  lwz     r7, 0x128(r8)
/* 0B3B14 800B90B4 5087073E */  rlwimi  r7, r4, 0, 0x1c, 0x1f
/* 0B3B18 800B90B8 3C60CC01 */  lis     r3, 0xcc01
/* 0B3B1C 800B90BC 90E80128 */  stw     r7, 0x128(r8)
/* 0B3B20 800B90C0 80880128 */  lwz     r4, 0x128(r8)
/* 0B3B24 800B90C4 50A42636 */  rlwimi  r4, r5, 4, 0x18, 0x1b
/* 0B3B28 800B90C8 90880128 */  stw     r4, 0x128(r8)
/* 0B3B2C 800B90CC 80880128 */  lwz     r4, 0x128(r8)
/* 0B3B30 800B90D0 50C4C00E */  rlwimi  r4, r6, 0x18, 0, 7
/* 0B3B34 800B90D4 90880128 */  stw     r4, 0x128(r8)
/* 0B3B38 800B90D8 98038000 */  stb     r0, -0x8000(r3)
/* 0B3B3C 800B90DC 80080128 */  lwz     r0, 0x128(r8)
/* 0B3B40 800B90E0 90038000 */  stw     r0, -0x8000(r3)
/* 0B3B44 800B90E4 480000CC */  b       lbl_800B91B0
lbl_800B90E8:
/* 0B3B48 800B90E8 810284B0 */  lwz     r8, __GXData-_SDA2_BASE_(r2)
/* 0B3B4C 800B90EC 38C00025 */  li      r6, 0x25
/* 0B3B50 800B90F0 38000061 */  li      r0, 0x61
/* 0B3B54 800B90F4 80E80128 */  lwz     r7, 0x128(r8)
/* 0B3B58 800B90F8 5087452E */  rlwimi  r7, r4, 8, 0x14, 0x17
/* 0B3B5C 800B90FC 3C60CC01 */  lis     r3, 0xcc01
/* 0B3B60 800B9100 90E80128 */  stw     r7, 0x128(r8)
/* 0B3B64 800B9104 80880128 */  lwz     r4, 0x128(r8)
/* 0B3B68 800B9108 50A46426 */  rlwimi  r4, r5, 0xc, 0x10, 0x13
/* 0B3B6C 800B910C 90880128 */  stw     r4, 0x128(r8)
/* 0B3B70 800B9110 80880128 */  lwz     r4, 0x128(r8)
/* 0B3B74 800B9114 50C4C00E */  rlwimi  r4, r6, 0x18, 0, 7
/* 0B3B78 800B9118 90880128 */  stw     r4, 0x128(r8)
/* 0B3B7C 800B911C 98038000 */  stb     r0, -0x8000(r3)
/* 0B3B80 800B9120 80080128 */  lwz     r0, 0x128(r8)
/* 0B3B84 800B9124 90038000 */  stw     r0, -0x8000(r3)
/* 0B3B88 800B9128 48000088 */  b       lbl_800B91B0
lbl_800B912C:
/* 0B3B8C 800B912C 810284B0 */  lwz     r8, __GXData-_SDA2_BASE_(r2)
/* 0B3B90 800B9130 38C00026 */  li      r6, 0x26
/* 0B3B94 800B9134 38000061 */  li      r0, 0x61
/* 0B3B98 800B9138 80E8012C */  lwz     r7, 0x12c(r8)
/* 0B3B9C 800B913C 5087073E */  rlwimi  r7, r4, 0, 0x1c, 0x1f
/* 0B3BA0 800B9140 3C60CC01 */  lis     r3, 0xcc01
/* 0B3BA4 800B9144 90E8012C */  stw     r7, 0x12c(r8)
/* 0B3BA8 800B9148 8088012C */  lwz     r4, 0x12c(r8)
/* 0B3BAC 800B914C 50A42636 */  rlwimi  r4, r5, 4, 0x18, 0x1b
/* 0B3BB0 800B9150 9088012C */  stw     r4, 0x12c(r8)
/* 0B3BB4 800B9154 8088012C */  lwz     r4, 0x12c(r8)
/* 0B3BB8 800B9158 50C4C00E */  rlwimi  r4, r6, 0x18, 0, 7
/* 0B3BBC 800B915C 9088012C */  stw     r4, 0x12c(r8)
/* 0B3BC0 800B9160 98038000 */  stb     r0, -0x8000(r3)
/* 0B3BC4 800B9164 8008012C */  lwz     r0, 0x12c(r8)
/* 0B3BC8 800B9168 90038000 */  stw     r0, -0x8000(r3)
/* 0B3BCC 800B916C 48000044 */  b       lbl_800B91B0
lbl_800B9170:
/* 0B3BD0 800B9170 810284B0 */  lwz     r8, __GXData-_SDA2_BASE_(r2)
/* 0B3BD4 800B9174 38C00026 */  li      r6, 0x26
/* 0B3BD8 800B9178 38000061 */  li      r0, 0x61
/* 0B3BDC 800B917C 80E8012C */  lwz     r7, 0x12c(r8)
/* 0B3BE0 800B9180 5087452E */  rlwimi  r7, r4, 8, 0x14, 0x17
/* 0B3BE4 800B9184 3C60CC01 */  lis     r3, 0xcc01
/* 0B3BE8 800B9188 90E8012C */  stw     r7, 0x12c(r8)
/* 0B3BEC 800B918C 8088012C */  lwz     r4, 0x12c(r8)
/* 0B3BF0 800B9190 50A46426 */  rlwimi  r4, r5, 0xc, 0x10, 0x13
/* 0B3BF4 800B9194 9088012C */  stw     r4, 0x12c(r8)
/* 0B3BF8 800B9198 8088012C */  lwz     r4, 0x12c(r8)
/* 0B3BFC 800B919C 50C4C00E */  rlwimi  r4, r6, 0x18, 0, 7
/* 0B3C00 800B91A0 9088012C */  stw     r4, 0x12c(r8)
/* 0B3C04 800B91A4 98038000 */  stb     r0, -0x8000(r3)
/* 0B3C08 800B91A8 8008012C */  lwz     r0, 0x12c(r8)
/* 0B3C0C 800B91AC 90038000 */  stw     r0, -0x8000(r3)
lbl_800B91B0:
/* 0B3C10 800B91B0 806284B0 */  lwz     r3, __GXData-_SDA2_BASE_(r2)
/* 0B3C14 800B91B4 38000000 */  li      r0, 0
/* 0B3C18 800B91B8 B0030002 */  sth     r0, 2(r3)
/* 0B3C1C 800B91BC 4E800020 */  blr     

glabel GXSetNumIndStages
/* 0B3C20 800B91C0 808284B0 */  lwz     r4, __GXData-_SDA2_BASE_(r2)
/* 0B3C24 800B91C4 5460063E */  clrlwi  r0, r3, 0x18
/* 0B3C28 800B91C8 80640204 */  lwz     r3, 0x204(r4)
/* 0B3C2C 800B91CC 5003835E */  rlwimi  r3, r0, 0x10, 0xd, 0xf
/* 0B3C30 800B91D0 90640204 */  stw     r3, 0x204(r4)
/* 0B3C34 800B91D4 800405AC */  lwz     r0, 0x5ac(r4)
/* 0B3C38 800B91D8 60000006 */  ori     r0, r0, 6
/* 0B3C3C 800B91DC 900405AC */  stw     r0, 0x5ac(r4)
/* 0B3C40 800B91E0 4E800020 */  blr     

glabel GXSetTevDirect
/* 0B3C44 800B91E4 7C0802A6 */  mflr    r0
/* 0B3C48 800B91E8 38800000 */  li      r4, 0
/* 0B3C4C 800B91EC 90010004 */  stw     r0, 4(r1)
/* 0B3C50 800B91F0 38000000 */  li      r0, 0
/* 0B3C54 800B91F4 38A00000 */  li      r5, 0
/* 0B3C58 800B91F8 9421FFE8 */  stwu    r1, -0x18(r1)
/* 0B3C5C 800B91FC 38C00000 */  li      r6, 0
/* 0B3C60 800B9200 38E00000 */  li      r7, 0
/* 0B3C64 800B9204 90010008 */  stw     r0, 8(r1)
/* 0B3C68 800B9208 39000000 */  li      r8, 0
/* 0B3C6C 800B920C 39200000 */  li      r9, 0
/* 0B3C70 800B9210 9001000C */  stw     r0, 0xc(r1)
/* 0B3C74 800B9214 39400000 */  li      r10, 0
/* 0B3C78 800B9218 4BFFFDF9 */  bl      GXSetTevIndirect
/* 0B3C7C 800B921C 8001001C */  lwz     r0, 0x1c(r1)
/* 0B3C80 800B9220 38210018 */  addi    r1, r1, 0x18
/* 0B3C84 800B9224 7C0803A6 */  mtlr    r0
/* 0B3C88 800B9228 4E800020 */  blr     

glabel __GXUpdateBPMask
/* 0B3C8C 800B922C 4E800020 */  blr     

glabel __GXSetIndirectMask
/* 0B3C90 800B9230 80E284B0 */  lwz     r7, __GXData-_SDA2_BASE_(r2)
/* 0B3C94 800B9234 38A00061 */  li      r5, 0x61
/* 0B3C98 800B9238 3C80CC01 */  lis     r4, 0xcc01
/* 0B3C9C 800B923C 80C70124 */  lwz     r6, 0x124(r7)
/* 0B3CA0 800B9240 5066063E */  rlwimi  r6, r3, 0, 0x18, 0x1f
/* 0B3CA4 800B9244 38000000 */  li      r0, 0
/* 0B3CA8 800B9248 90C70124 */  stw     r6, 0x124(r7)
/* 0B3CAC 800B924C 98A48000 */  stb     r5, -0x8000(r4)
/* 0B3CB0 800B9250 80670124 */  lwz     r3, 0x124(r7)
/* 0B3CB4 800B9254 90648000 */  stw     r3, -0x8000(r4)
/* 0B3CB8 800B9258 B0070002 */  sth     r0, 2(r7)
/* 0B3CBC 800B925C 4E800020 */  blr     

glabel __GXFlushTextureState
/* 0B3CC0 800B9260 38000061 */  li      r0, 0x61
/* 0B3CC4 800B9264 808284B0 */  lwz     r4, __GXData-_SDA2_BASE_(r2)
/* 0B3CC8 800B9268 3CA0CC01 */  lis     r5, 0xcc01
/* 0B3CCC 800B926C 98058000 */  stb     r0, -0x8000(r5)
/* 0B3CD0 800B9270 38000000 */  li      r0, 0
/* 0B3CD4 800B9274 80640124 */  lwz     r3, 0x124(r4)
/* 0B3CD8 800B9278 90658000 */  stw     r3, -0x8000(r5)
/* 0B3CDC 800B927C B0040002 */  sth     r0, 2(r4)
/* 0B3CE0 800B9280 4E800020 */  blr     


