# OS.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel __OSFPRInit
/* 0A20A4 800A7644 7C6000A6 */  mfmsr   r3
/* 0A20A8 800A7648 60632000 */  ori     r3, r3, 0x2000
/* 0A20AC 800A764C 7C600124 */  mtmsr   r3
/* 0A20B0 800A7650 7C78E2A6 */  mfspr   r3, 0x398
/* 0A20B4 800A7654 54631FFF */  rlwinm. r3, r3, 3, 0x1f, 0x1f
/* 0A20B8 800A7658 4182008C */  beq     lbl_800A76E4
/* 0A20BC 800A765C 3C608014 */  lis     r3, ZeroPS@ha
/* 0A20C0 800A7660 38635AB0 */  addi    r3, r3, ZeroPS@l
/* 0A20C4 800A7664 E0030000 */  psq_l   f0, 0(r3), 0, qr0
/* 0A20C8 800A7668 10200090 */  ps_mr   f1, f0
/* 0A20CC 800A766C 10400090 */  ps_mr   f2, f0
/* 0A20D0 800A7670 10600090 */  ps_mr   f3, f0
/* 0A20D4 800A7674 10800090 */  ps_mr   f4, f0
/* 0A20D8 800A7678 10A00090 */  ps_mr   f5, f0
/* 0A20DC 800A767C 10C00090 */  ps_mr   f6, f0
/* 0A20E0 800A7680 10E00090 */  ps_mr   f7, f0
/* 0A20E4 800A7684 11000090 */  ps_mr   f8, f0
/* 0A20E8 800A7688 11200090 */  ps_mr   f9, f0
/* 0A20EC 800A768C 11400090 */  ps_mr   f10, f0
/* 0A20F0 800A7690 11600090 */  ps_mr   f11, f0
/* 0A20F4 800A7694 11800090 */  ps_mr   f12, f0
/* 0A20F8 800A7698 11A00090 */  ps_mr   f13, f0
/* 0A20FC 800A769C 11C00090 */  ps_mr   f14, f0
/* 0A2100 800A76A0 11E00090 */  ps_mr   f15, f0
/* 0A2104 800A76A4 12000090 */  ps_mr   f16, f0
/* 0A2108 800A76A8 12200090 */  ps_mr   f17, f0
/* 0A210C 800A76AC 12400090 */  ps_mr   f18, f0
/* 0A2110 800A76B0 12600090 */  ps_mr   f19, f0
/* 0A2114 800A76B4 12800090 */  ps_mr   f20, f0
/* 0A2118 800A76B8 12A00090 */  ps_mr   f21, f0
/* 0A211C 800A76BC 12C00090 */  ps_mr   f22, f0
/* 0A2120 800A76C0 12E00090 */  ps_mr   f23, f0
/* 0A2124 800A76C4 13000090 */  ps_mr   f24, f0
/* 0A2128 800A76C8 13200090 */  ps_mr   f25, f0
/* 0A212C 800A76CC 13400090 */  ps_mr   f26, f0
/* 0A2130 800A76D0 13600090 */  ps_mr   f27, f0
/* 0A2134 800A76D4 13800090 */  ps_mr   f28, f0
/* 0A2138 800A76D8 13A00090 */  ps_mr   f29, f0
/* 0A213C 800A76DC 13C00090 */  ps_mr   f30, f0
/* 0A2140 800A76E0 13E00090 */  ps_mr   f31, f0
lbl_800A76E4:
/* 0A2144 800A76E4 C80D90C8 */  lfd     f0, ZeroF-_SDA_BASE_(r13)
/* 0A2148 800A76E8 FC200090 */  fmr     f1, f0
/* 0A214C 800A76EC FC400090 */  fmr     f2, f0
/* 0A2150 800A76F0 FC600090 */  fmr     f3, f0
/* 0A2154 800A76F4 FC800090 */  fmr     f4, f0
/* 0A2158 800A76F8 FCA00090 */  fmr     f5, f0
/* 0A215C 800A76FC FCC00090 */  fmr     f6, f0
/* 0A2160 800A7700 FCE00090 */  fmr     f7, f0
/* 0A2164 800A7704 FD000090 */  fmr     f8, f0
/* 0A2168 800A7708 FD200090 */  fmr     f9, f0
/* 0A216C 800A770C FD400090 */  fmr     f10, f0
/* 0A2170 800A7710 FD600090 */  fmr     f11, f0
/* 0A2174 800A7714 FD800090 */  fmr     f12, f0
/* 0A2178 800A7718 FDA00090 */  fmr     f13, f0
/* 0A217C 800A771C FDC00090 */  fmr     f14, f0
/* 0A2180 800A7720 FDE00090 */  fmr     f15, f0
/* 0A2184 800A7724 FE000090 */  fmr     f16, f0
/* 0A2188 800A7728 FE200090 */  fmr     f17, f0
/* 0A218C 800A772C FE400090 */  fmr     f18, f0
/* 0A2190 800A7730 FE600090 */  fmr     f19, f0
/* 0A2194 800A7734 FE800090 */  fmr     f20, f0
/* 0A2198 800A7738 FEA00090 */  fmr     f21, f0
/* 0A219C 800A773C FEC00090 */  fmr     f22, f0
/* 0A21A0 800A7740 FEE00090 */  fmr     f23, f0
/* 0A21A4 800A7744 FF000090 */  fmr     f24, f0
/* 0A21A8 800A7748 FF200090 */  fmr     f25, f0
/* 0A21AC 800A774C FF400090 */  fmr     f26, f0
/* 0A21B0 800A7750 FF600090 */  fmr     f27, f0
/* 0A21B4 800A7754 FF800090 */  fmr     f28, f0
/* 0A21B8 800A7758 FFA00090 */  fmr     f29, f0
/* 0A21BC 800A775C FFC00090 */  fmr     f30, f0
/* 0A21C0 800A7760 FFE00090 */  fmr     f31, f0
/* 0A21C4 800A7764 FDFE058E */  mtfsf   0xff, f0
/* 0A21C8 800A7768 4E800020 */  blr     

glabel OSGetConsoleType
/* 0A21CC 800A776C 806D90B8 */  lwz     r3, BootInfo-_SDA_BASE_(r13)
/* 0A21D0 800A7770 28030000 */  cmplwi  r3, 0
/* 0A21D4 800A7774 41820010 */  beq     lbl_800A7784
/* 0A21D8 800A7778 8063002C */  lwz     r3, 0x2c(r3)
/* 0A21DC 800A777C 28030000 */  cmplwi  r3, 0
/* 0A21E0 800A7780 40820010 */  bne     lbl_800A7790
lbl_800A7784:
/* 0A21E4 800A7784 3C601000 */  lis     r3, 0x1000
/* 0A21E8 800A7788 38630002 */  addi    r3, r3, 2
/* 0A21EC 800A778C 48000004 */  b       lbl_800A7790
lbl_800A7790:
/* 0A21F0 800A7790 4E800020 */  blr     

ClearArena:
/* 0A21F4 800A7794 7C0802A6 */  mflr    r0
/* 0A21F8 800A7798 90010004 */  stw     r0, 4(r1)
/* 0A21FC 800A779C 9421FFF0 */  stwu    r1, -0x10(r1)
/* 0A2200 800A77A0 93E1000C */  stw     r31, 0xc(r1)
/* 0A2204 800A77A4 480044ED */  bl      OSGetResetCode
/* 0A2208 800A77A8 3C038000 */  addis   r0, r3, 0x8000
/* 0A220C 800A77AC 28000000 */  cmplwi  r0, 0
/* 0A2210 800A77B0 41820034 */  beq     lbl_800A77E4
/* 0A2214 800A77B4 38000000 */  li      r0, 0
/* 0A2218 800A77B8 900D90E4 */  stw     r0, __OSSavedRegionStart-_SDA_BASE_(r13)
/* 0A221C 800A77BC 900D90E0 */  stw     r0, __OSSavedRegionEnd-_SDA_BASE_(r13)
/* 0A2220 800A77C0 4800173D */  bl      OSGetArenaHi
/* 0A2224 800A77C4 7C7F1B78 */  mr      r31, r3
/* 0A2228 800A77C8 4800173D */  bl      OSGetArenaLo
/* 0A222C 800A77CC 7FE3F850 */  subf    r31, r3, r31
/* 0A2230 800A77D0 48001735 */  bl      OSGetArenaLo
/* 0A2234 800A77D4 7FE5FB78 */  mr      r5, r31
/* 0A2238 800A77D8 38800000 */  li      r4, 0
/* 0A223C 800A77DC 4BF5DBF5 */  bl      memset
/* 0A2240 800A77E0 480000C8 */  b       lbl_800A78A8
lbl_800A77E4:
/* 0A2244 800A77E4 3C808130 */  lis     r4, 0x8130
/* 0A2248 800A77E8 8064DFF0 */  lwz     r3, -0x2010(r4)
/* 0A224C 800A77EC 8004DFEC */  lwz     r0, -0x2014(r4)
/* 0A2250 800A77F0 28030000 */  cmplwi  r3, 0
/* 0A2254 800A77F4 906D90E4 */  stw     r3, __OSSavedRegionStart-_SDA_BASE_(r13)
/* 0A2258 800A77F8 900D90E0 */  stw     r0, __OSSavedRegionEnd-_SDA_BASE_(r13)
/* 0A225C 800A77FC 40820028 */  bne     lbl_800A7824
/* 0A2260 800A7800 480016FD */  bl      OSGetArenaHi
/* 0A2264 800A7804 7C7F1B78 */  mr      r31, r3
/* 0A2268 800A7808 480016FD */  bl      OSGetArenaLo
/* 0A226C 800A780C 7FE3F850 */  subf    r31, r3, r31
/* 0A2270 800A7810 480016F5 */  bl      OSGetArenaLo
/* 0A2274 800A7814 7FE5FB78 */  mr      r5, r31
/* 0A2278 800A7818 38800000 */  li      r4, 0
/* 0A227C 800A781C 4BF5DBB5 */  bl      memset
/* 0A2280 800A7820 48000088 */  b       lbl_800A78A8
lbl_800A7824:
/* 0A2284 800A7824 480016E1 */  bl      OSGetArenaLo
/* 0A2288 800A7828 800D90E4 */  lwz     r0, __OSSavedRegionStart-_SDA_BASE_(r13)
/* 0A228C 800A782C 7C030040 */  cmplw   r3, r0
/* 0A2290 800A7830 40800078 */  bge     lbl_800A78A8
/* 0A2294 800A7834 480016C9 */  bl      OSGetArenaHi
/* 0A2298 800A7838 800D90E4 */  lwz     r0, __OSSavedRegionStart-_SDA_BASE_(r13)
/* 0A229C 800A783C 7C030040 */  cmplw   r3, r0
/* 0A22A0 800A7840 41810028 */  bgt     lbl_800A7868
/* 0A22A4 800A7844 480016B9 */  bl      OSGetArenaHi
/* 0A22A8 800A7848 7C7F1B78 */  mr      r31, r3
/* 0A22AC 800A784C 480016B9 */  bl      OSGetArenaLo
/* 0A22B0 800A7850 7FE3F850 */  subf    r31, r3, r31
/* 0A22B4 800A7854 480016B1 */  bl      OSGetArenaLo
/* 0A22B8 800A7858 7FE5FB78 */  mr      r5, r31
/* 0A22BC 800A785C 38800000 */  li      r4, 0
/* 0A22C0 800A7860 4BF5DB71 */  bl      memset
/* 0A22C4 800A7864 48000044 */  b       lbl_800A78A8
lbl_800A7868:
/* 0A22C8 800A7868 4800169D */  bl      OSGetArenaLo
/* 0A22CC 800A786C 800D90E4 */  lwz     r0, __OSSavedRegionStart-_SDA_BASE_(r13)
/* 0A22D0 800A7870 7FE30050 */  subf    r31, r3, r0
/* 0A22D4 800A7874 48001691 */  bl      OSGetArenaLo
/* 0A22D8 800A7878 7FE5FB78 */  mr      r5, r31
/* 0A22DC 800A787C 38800000 */  li      r4, 0
/* 0A22E0 800A7880 4BF5DB51 */  bl      memset
/* 0A22E4 800A7884 48001679 */  bl      OSGetArenaHi
/* 0A22E8 800A7888 83ED90E0 */  lwz     r31, __OSSavedRegionEnd-_SDA_BASE_(r13)
/* 0A22EC 800A788C 7C03F840 */  cmplw   r3, r31
/* 0A22F0 800A7890 40810018 */  ble     lbl_800A78A8
/* 0A22F4 800A7894 48001669 */  bl      OSGetArenaHi
/* 0A22F8 800A7898 7CBF1850 */  subf    r5, r31, r3
/* 0A22FC 800A789C 7FE3FB78 */  mr      r3, r31
/* 0A2300 800A78A0 38800000 */  li      r4, 0
/* 0A2304 800A78A4 4BF5DB2D */  bl      memset
lbl_800A78A8:
/* 0A2308 800A78A8 80010014 */  lwz     r0, 0x14(r1)
/* 0A230C 800A78AC 83E1000C */  lwz     r31, 0xc(r1)
/* 0A2310 800A78B0 38210010 */  addi    r1, r1, 0x10
/* 0A2314 800A78B4 7C0803A6 */  mtlr    r0
/* 0A2318 800A78B8 4E800020 */  blr     

InquiryCallback:
/* 0A231C 800A78BC 8004000C */  lwz     r0, 0xc(r4)
/* 0A2320 800A78C0 2C000000 */  cmpwi   r0, 0
/* 0A2324 800A78C4 41820008 */  beq     lbl_800A78CC
/* 0A2328 800A78C8 48000020 */  b       lbl_800A78E8
lbl_800A78CC:
/* 0A232C 800A78CC 3C608014 */  lis     r3, DriveInfo@ha
/* 0A2330 800A78D0 38630C20 */  addi    r3, r3, DriveInfo@l
/* 0A2334 800A78D4 A0030002 */  lhz     r0, 2(r3)
/* 0A2338 800A78D8 3C608000 */  lis     r3, 0x8000
/* 0A233C 800A78DC 60008000 */  ori     r0, r0, 0x8000
/* 0A2340 800A78E0 B00330E6 */  sth     r0, 0x30e6(r3)
/* 0A2344 800A78E4 48000010 */  b       lbl_800A78F4
lbl_800A78E8:
/* 0A2348 800A78E8 38000001 */  li      r0, 1
/* 0A234C 800A78EC 3C608000 */  lis     r3, 0x8000
/* 0A2350 800A78F0 B00330E6 */  sth     r0, 0x30e6(r3)
lbl_800A78F4:
/* 0A2354 800A78F4 4E800020 */  blr     

glabel OSInit
/* 0A2358 800A78F8 7C0802A6 */  mflr    r0
/* 0A235C 800A78FC 90010004 */  stw     r0, 4(r1)
/* 0A2360 800A7900 9421FFE8 */  stwu    r1, -0x18(r1)
/* 0A2364 800A7904 93E10014 */  stw     r31, 0x14(r1)
/* 0A2368 800A7908 93C10010 */  stw     r30, 0x10(r1)
/* 0A236C 800A790C 93A1000C */  stw     r29, 0xc(r1)
/* 0A2370 800A7910 800D90D8 */  lwz     r0, AreWeInitialized-_SDA_BASE_(r13)
/* 0A2374 800A7914 3C608014 */  lis     r3, DriveInfo@ha
/* 0A2378 800A7918 3BC30C20 */  addi    r30, r3, DriveInfo@l
/* 0A237C 800A791C 2C000000 */  cmpwi   r0, 0
/* 0A2380 800A7920 3C608010 */  lis     r3, D_800FE678@ha
/* 0A2384 800A7924 3BE3E678 */  addi    r31, r3, D_800FE678@l
/* 0A2388 800A7928 4082038C */  bne     lbl_800A7CB4
/* 0A238C 800A792C 38000001 */  li      r0, 1
/* 0A2390 800A7930 900D90D8 */  stw     r0, AreWeInitialized-_SDA_BASE_(r13)
/* 0A2394 800A7934 48006409 */  bl      __OSGetSystemTime
/* 0A2398 800A7938 908D90F4 */  stw     r4, (__OSStartTime + 4)-_SDA_BASE_(r13)
/* 0A239C 800A793C 906D90F0 */  stw     r3, __OSStartTime-_SDA_BASE_(r13)
/* 0A23A0 800A7940 48002E31 */  bl      OSDisableInterrupts
/* 0A23A4 800A7944 38600000 */  li      r3, 0
/* 0A23A8 800A7948 4BFFFC3D */  bl      PPCMtmmcr0
/* 0A23AC 800A794C 38600000 */  li      r3, 0
/* 0A23B0 800A7950 4BFFFC3D */  bl      PPCMtmmcr1
/* 0A23B4 800A7954 38600000 */  li      r3, 0
/* 0A23B8 800A7958 4BFFFC3D */  bl      PPCMtpmc1
/* 0A23BC 800A795C 38600000 */  li      r3, 0
/* 0A23C0 800A7960 4BFFFC3D */  bl      PPCMtpmc2
/* 0A23C4 800A7964 38600000 */  li      r3, 0
/* 0A23C8 800A7968 4BFFFC3D */  bl      PPCMtpmc3
/* 0A23CC 800A796C 38600000 */  li      r3, 0
/* 0A23D0 800A7970 4BFFFC3D */  bl      PPCMtpmc4
/* 0A23D4 800A7974 4BFFFCA1 */  bl      PPCDisableSpeculation
/* 0A23D8 800A7978 4BFFFCC5 */  bl      PPCSetFpNonIEEEMode
/* 0A23DC 800A797C 38000000 */  li      r0, 0
/* 0A23E0 800A7980 3C808000 */  lis     r4, 0x8000
/* 0A23E4 800A7984 900D90BC */  stw     r0, BI2DebugFlag-_SDA_BASE_(r13)
/* 0A23E8 800A7988 908D90B8 */  stw     r4, BootInfo-_SDA_BASE_(r13)
/* 0A23EC 800A798C 900D930C */  stw     r0, __DVDLongFileNameFlag-_SDA_BASE_(r13)
/* 0A23F0 800A7990 806400F4 */  lwz     r3, 0xf4(r4)
/* 0A23F4 800A7994 28030000 */  cmplwi  r3, 0
/* 0A23F8 800A7998 41820034 */  beq     lbl_800A79CC
/* 0A23FC 800A799C 3803000C */  addi    r0, r3, 0xc
/* 0A2400 800A79A0 900D90BC */  stw     r0, BI2DebugFlag-_SDA_BASE_(r13)
/* 0A2404 800A79A4 80030024 */  lwz     r0, 0x24(r3)
/* 0A2408 800A79A8 806D90BC */  lwz     r3, BI2DebugFlag-_SDA_BASE_(r13)
/* 0A240C 800A79AC 900D92A8 */  stw     r0, __PADSpec-_SDA_BASE_(r13)
/* 0A2410 800A79B0 80030000 */  lwz     r0, 0(r3)
/* 0A2414 800A79B4 5400063E */  clrlwi  r0, r0, 0x18
/* 0A2418 800A79B8 980430E8 */  stb     r0, 0x30e8(r4)
/* 0A241C 800A79BC 800D92A8 */  lwz     r0, __PADSpec-_SDA_BASE_(r13)
/* 0A2420 800A79C0 5400063E */  clrlwi  r0, r0, 0x18
/* 0A2424 800A79C4 980430E9 */  stb     r0, 0x30e9(r4)
/* 0A2428 800A79C8 48000028 */  b       lbl_800A79F0
lbl_800A79CC:
/* 0A242C 800A79CC 80040034 */  lwz     r0, 0x34(r4)
/* 0A2430 800A79D0 28000000 */  cmplwi  r0, 0
/* 0A2434 800A79D4 4182001C */  beq     lbl_800A79F0
/* 0A2438 800A79D8 886430E8 */  lbz     r3, 0x30e8(r4)
/* 0A243C 800A79DC 380D90C0 */  addi    r0, r13, BI2DebugFlagHolder-_SDA_BASE_
/* 0A2440 800A79E0 906D90C0 */  stw     r3, BI2DebugFlagHolder-_SDA_BASE_(r13)
/* 0A2444 800A79E4 900D90BC */  stw     r0, BI2DebugFlag-_SDA_BASE_(r13)
/* 0A2448 800A79E8 880430E9 */  lbz     r0, 0x30e9(r4)
/* 0A244C 800A79EC 900D92A8 */  stw     r0, __PADSpec-_SDA_BASE_(r13)
lbl_800A79F0:
/* 0A2450 800A79F0 38000001 */  li      r0, 1
/* 0A2454 800A79F4 806D90B8 */  lwz     r3, BootInfo-_SDA_BASE_(r13)
/* 0A2458 800A79F8 900D930C */  stw     r0, __DVDLongFileNameFlag-_SDA_BASE_(r13)
/* 0A245C 800A79FC 80630030 */  lwz     r3, 0x30(r3)
/* 0A2460 800A7A00 28030000 */  cmplwi  r3, 0
/* 0A2464 800A7A04 40820010 */  bne     lbl_800A7A14
/* 0A2468 800A7A08 3C608016 */  lis     r3, __ArenaLo@ha
/* 0A246C 800A7A0C 386387C0 */  addi    r3, r3, __ArenaLo@l
/* 0A2470 800A7A10 48000004 */  b       lbl_800A7A14
lbl_800A7A14:
/* 0A2474 800A7A14 48001501 */  bl      OSSetArenaLo
/* 0A2478 800A7A18 806D90B8 */  lwz     r3, BootInfo-_SDA_BASE_(r13)
/* 0A247C 800A7A1C 80030030 */  lwz     r0, 0x30(r3)
/* 0A2480 800A7A20 28000000 */  cmplwi  r0, 0
/* 0A2484 800A7A24 40820030 */  bne     lbl_800A7A54
/* 0A2488 800A7A28 806D90BC */  lwz     r3, BI2DebugFlag-_SDA_BASE_(r13)
/* 0A248C 800A7A2C 28030000 */  cmplwi  r3, 0
/* 0A2490 800A7A30 41820024 */  beq     lbl_800A7A54
/* 0A2494 800A7A34 80030000 */  lwz     r0, 0(r3)
/* 0A2498 800A7A38 28000002 */  cmplwi  r0, 2
/* 0A249C 800A7A3C 40800018 */  bge     lbl_800A7A54
/* 0A24A0 800A7A40 3C608015 */  lis     r3, _stack_addr@ha
/* 0A24A4 800A7A44 386367B0 */  addi    r3, r3, _stack_addr@l
/* 0A24A8 800A7A48 3803001F */  addi    r0, r3, 0x1f
/* 0A24AC 800A7A4C 54030034 */  rlwinm  r3, r0, 0, 0, 0x1a
/* 0A24B0 800A7A50 480014C5 */  bl      OSSetArenaLo
lbl_800A7A54:
/* 0A24B4 800A7A54 806D90B8 */  lwz     r3, BootInfo-_SDA_BASE_(r13)
/* 0A24B8 800A7A58 80630034 */  lwz     r3, 0x34(r3)
/* 0A24BC 800A7A5C 28030000 */  cmplwi  r3, 0
/* 0A24C0 800A7A60 40820010 */  bne     lbl_800A7A70
/* 0A24C4 800A7A64 3C608170 */  lis     r3, __ArenaHi@ha
/* 0A24C8 800A7A68 38630000 */  addi    r3, r3, __ArenaHi@l
/* 0A24CC 800A7A6C 48000004 */  b       lbl_800A7A70
lbl_800A7A70:
/* 0A24D0 800A7A70 4800149D */  bl      OSSetArenaHi
/* 0A24D4 800A7A74 4800025D */  bl      OSExceptionInit
/* 0A24D8 800A7A78 48005071 */  bl      __OSInitSystemCall
/* 0A24DC 800A7A7C 480006B5 */  bl      OSInitAlarm
/* 0A24E0 800A7A80 4800355D */  bl      __OSModuleInit
/* 0A24E4 800A7A84 48002D69 */  bl      __OSInterruptInit
/* 0A24E8 800A7A88 3C60800B */  lis     r3, __OSResetSWInterruptHandler@ha
/* 0A24EC 800A7A8C 3883BCC0 */  addi    r4, r3, __OSResetSWInterruptHandler@l
/* 0A24F0 800A7A90 38600016 */  li      r3, 0x16
/* 0A24F4 800A7A94 48002D29 */  bl      __OSSetInterruptHandler
/* 0A24F8 800A7A98 4800258D */  bl      __OSContextInit
/* 0A24FC 800A7A9C 48001C6D */  bl      __OSCacheInit
/* 0A2500 800A7AA0 48007981 */  bl      EXIInit
/* 0A2504 800A7AA4 48008FE1 */  bl      SIInit
/* 0A2508 800A7AA8 4800471D */  bl      __OSInitSram
/* 0A250C 800A7AAC 480050A5 */  bl      __OSThreadInit
/* 0A2510 800A7AB0 4800146D */  bl      __OSInitAudioSystem
/* 0A2514 800A7AB4 4BFFFB49 */  bl      PPCMfhid2
/* 0A2518 800A7AB8 54630080 */  rlwinm  r3, r3, 0, 2, 0
/* 0A251C 800A7ABC 4BFFFB49 */  bl      PPCMthid2
/* 0A2520 800A7AC0 800D90E8 */  lwz     r0, __OSInIPL-_SDA_BASE_(r13)
/* 0A2524 800A7AC4 2C000000 */  cmpwi   r0, 0
/* 0A2528 800A7AC8 40820008 */  bne     lbl_800A7AD0
/* 0A252C 800A7ACC 480038ED */  bl      __OSInitMemoryProtection
lbl_800A7AD0:
/* 0A2530 800A7AD0 387F0044 */  addi    r3, r31, 0x44
/* 0A2534 800A7AD4 4CC63182 */  crclr   6
/* 0A2538 800A7AD8 48002595 */  bl      OSReport
/* 0A253C 800A7ADC 387F0054 */  addi    r3, r31, 0x54
/* 0A2540 800A7AE0 4CC63182 */  crclr   6
/* 0A2544 800A7AE4 389F006C */  addi    r4, r31, 0x6c
/* 0A2548 800A7AE8 38BF0078 */  addi    r5, r31, 0x78
/* 0A254C 800A7AEC 48002581 */  bl      OSReport
/* 0A2550 800A7AF0 387F0084 */  addi    r3, r31, 0x84
/* 0A2554 800A7AF4 4CC63182 */  crclr   6
/* 0A2558 800A7AF8 48002575 */  bl      OSReport
/* 0A255C 800A7AFC 806D90B8 */  lwz     r3, BootInfo-_SDA_BASE_(r13)
/* 0A2560 800A7B00 28030000 */  cmplwi  r3, 0
/* 0A2564 800A7B04 41820010 */  beq     lbl_800A7B14
/* 0A2568 800A7B08 8083002C */  lwz     r4, 0x2c(r3)
/* 0A256C 800A7B0C 28040000 */  cmplwi  r4, 0
/* 0A2570 800A7B10 40820010 */  bne     lbl_800A7B20
lbl_800A7B14:
/* 0A2574 800A7B14 3C601000 */  lis     r3, 0x1000
/* 0A2578 800A7B18 38830002 */  addi    r4, r3, 2
/* 0A257C 800A7B1C 48000004 */  b       lbl_800A7B20
lbl_800A7B20:
/* 0A2580 800A7B20 54830006 */  rlwinm  r3, r4, 0, 0, 3
/* 0A2584 800A7B24 3C001000 */  lis     r0, 0x1000
/* 0A2588 800A7B28 7C030000 */  cmpw    r3, r0
/* 0A258C 800A7B2C 41820034 */  beq     lbl_800A7B60
/* 0A2590 800A7B30 40800010 */  bge     lbl_800A7B40
/* 0A2594 800A7B34 2C030000 */  cmpwi   r3, 0
/* 0A2598 800A7B38 41820018 */  beq     lbl_800A7B50
/* 0A259C 800A7B3C 480000B8 */  b       lbl_800A7BF4
lbl_800A7B40:
/* 0A25A0 800A7B40 3C002000 */  lis     r0, 0x2000
/* 0A25A4 800A7B44 7C030000 */  cmpw    r3, r0
/* 0A25A8 800A7B48 41820018 */  beq     lbl_800A7B60
/* 0A25AC 800A7B4C 480000A8 */  b       lbl_800A7BF4
lbl_800A7B50:
/* 0A25B0 800A7B50 4CC63182 */  crclr   6
/* 0A25B4 800A7B54 387F0094 */  addi    r3, r31, 0x94
/* 0A25B8 800A7B58 48002515 */  bl      OSReport
/* 0A25BC 800A7B5C 480000A4 */  b       lbl_800A7C00
lbl_800A7B60:
/* 0A25C0 800A7B60 3C601000 */  lis     r3, 0x1000
/* 0A25C4 800A7B64 5485013E */  clrlwi  r5, r4, 4
/* 0A25C8 800A7B68 38030002 */  addi    r0, r3, 2
/* 0A25CC 800A7B6C 7C050000 */  cmpw    r5, r0
/* 0A25D0 800A7B70 41820048 */  beq     lbl_800A7BB8
/* 0A25D4 800A7B74 40800014 */  bge     lbl_800A7B88
/* 0A25D8 800A7B78 7C051800 */  cmpw    r5, r3
/* 0A25DC 800A7B7C 4182001C */  beq     lbl_800A7B98
/* 0A25E0 800A7B80 40800028 */  bge     lbl_800A7BA8
/* 0A25E4 800A7B84 48000054 */  b       lbl_800A7BD8
lbl_800A7B88:
/* 0A25E8 800A7B88 38030004 */  addi    r0, r3, 4
/* 0A25EC 800A7B8C 7C050000 */  cmpw    r5, r0
/* 0A25F0 800A7B90 40800048 */  bge     lbl_800A7BD8
/* 0A25F4 800A7B94 48000034 */  b       lbl_800A7BC8
lbl_800A7B98:
/* 0A25F8 800A7B98 387F00A0 */  addi    r3, r31, 0xa0
/* 0A25FC 800A7B9C 4CC63182 */  crclr   6
/* 0A2600 800A7BA0 480024CD */  bl      OSReport
/* 0A2604 800A7BA4 4800005C */  b       lbl_800A7C00
lbl_800A7BA8:
/* 0A2608 800A7BA8 387F00B0 */  addi    r3, r31, 0xb0
/* 0A260C 800A7BAC 4CC63182 */  crclr   6
/* 0A2610 800A7BB0 480024BD */  bl      OSReport
/* 0A2614 800A7BB4 4800004C */  b       lbl_800A7C00
lbl_800A7BB8:
/* 0A2618 800A7BB8 387F00C0 */  addi    r3, r31, 0xc0
/* 0A261C 800A7BBC 4CC63182 */  crclr   6
/* 0A2620 800A7BC0 480024AD */  bl      OSReport
/* 0A2624 800A7BC4 4800003C */  b       lbl_800A7C00
lbl_800A7BC8:
/* 0A2628 800A7BC8 387F00D0 */  addi    r3, r31, 0xd0
/* 0A262C 800A7BCC 4CC63182 */  crclr   6
/* 0A2630 800A7BD0 4800249D */  bl      OSReport
/* 0A2634 800A7BD4 4800002C */  b       lbl_800A7C00
lbl_800A7BD8:
/* 0A2638 800A7BD8 5486013E */  clrlwi  r6, r4, 4
/* 0A263C 800A7BDC 4CC63182 */  crclr   6
/* 0A2640 800A7BE0 7C852378 */  mr      r5, r4
/* 0A2644 800A7BE4 387F00E0 */  addi    r3, r31, 0xe0
/* 0A2648 800A7BE8 3886FFFD */  addi    r4, r6, -3
/* 0A264C 800A7BEC 48002481 */  bl      OSReport
/* 0A2650 800A7BF0 48000010 */  b       lbl_800A7C00
lbl_800A7BF4:
/* 0A2654 800A7BF4 4CC63182 */  crclr   6
/* 0A2658 800A7BF8 386D8CF4 */  addi    r3, r13, D_801456D4-_SDA_BASE_
/* 0A265C 800A7BFC 48002471 */  bl      OSReport
lbl_800A7C00:
/* 0A2660 800A7C00 808D90B8 */  lwz     r4, BootInfo-_SDA_BASE_(r13)
/* 0A2664 800A7C04 387F00FC */  addi    r3, r31, 0xfc
/* 0A2668 800A7C08 4CC63182 */  crclr   6
/* 0A266C 800A7C0C 80040028 */  lwz     r0, 0x28(r4)
/* 0A2670 800A7C10 5404653E */  srwi    r4, r0, 0x14
/* 0A2674 800A7C14 48002459 */  bl      OSReport
/* 0A2678 800A7C18 480012E5 */  bl      OSGetArenaHi
/* 0A267C 800A7C1C 7C7D1B78 */  mr      r29, r3
/* 0A2680 800A7C20 480012E5 */  bl      OSGetArenaLo
/* 0A2684 800A7C24 7C641B78 */  mr      r4, r3
/* 0A2688 800A7C28 4CC63182 */  crclr   6
/* 0A268C 800A7C2C 7FA5EB78 */  mr      r5, r29
/* 0A2690 800A7C30 387F010C */  addi    r3, r31, 0x10c
/* 0A2694 800A7C34 48002439 */  bl      OSReport
/* 0A2698 800A7C38 806D8CF0 */  lwz     r3, __OSVersion-_SDA_BASE_(r13)
/* 0A269C 800A7C3C 480004C9 */  bl      OSRegisterVersion
/* 0A26A0 800A7C40 806D90BC */  lwz     r3, BI2DebugFlag-_SDA_BASE_(r13)
/* 0A26A4 800A7C44 28030000 */  cmplwi  r3, 0
/* 0A26A8 800A7C48 41820014 */  beq     lbl_800A7C5C
/* 0A26AC 800A7C4C 80030000 */  lwz     r0, 0(r3)
/* 0A26B0 800A7C50 28000002 */  cmplwi  r0, 2
/* 0A26B4 800A7C54 41800008 */  blt     lbl_800A7C5C
/* 0A26B8 800A7C58 48031421 */  bl      EnableMetroTRKInterrupts
lbl_800A7C5C:
/* 0A26BC 800A7C5C 4BFFFB39 */  bl      ClearArena
/* 0A26C0 800A7C60 48002B25 */  bl      OSEnableInterrupts
/* 0A26C4 800A7C64 800D90E8 */  lwz     r0, __OSInIPL-_SDA_BASE_(r13)
/* 0A26C8 800A7C68 2C000000 */  cmpwi   r0, 0
/* 0A26CC 800A7C6C 40820048 */  bne     lbl_800A7CB4
/* 0A26D0 800A7C70 48017005 */  bl      DVDInit
/* 0A26D4 800A7C74 800D90C4 */  lwz     r0, __OSIsGcam-_SDA_BASE_(r13)
/* 0A26D8 800A7C78 2C000000 */  cmpwi   r0, 0
/* 0A26DC 800A7C7C 41820018 */  beq     lbl_800A7C94
/* 0A26E0 800A7C80 3C600001 */  lis     r3, 1
/* 0A26E4 800A7C84 38039000 */  addi    r0, r3, -28672
/* 0A26E8 800A7C88 3C608000 */  lis     r3, 0x8000
/* 0A26EC 800A7C8C B00330E6 */  sth     r0, 0x30e6(r3)
/* 0A26F0 800A7C90 48000024 */  b       lbl_800A7CB4
lbl_800A7C94:
/* 0A26F4 800A7C94 7FC3F378 */  mr      r3, r30
/* 0A26F8 800A7C98 38800020 */  li      r4, 0x20
/* 0A26FC 800A7C9C 48001529 */  bl      DCInvalidateRange
/* 0A2700 800A7CA0 3C60800A */  lis     r3, InquiryCallback@ha
/* 0A2704 800A7CA4 38A378BC */  addi    r5, r3, InquiryCallback@l
/* 0A2708 800A7CA8 7FC4F378 */  mr      r4, r30
/* 0A270C 800A7CAC 387E0020 */  addi    r3, r30, 0x20
/* 0A2710 800A7CB0 48019375 */  bl      DVDInquiryAsync
lbl_800A7CB4:
/* 0A2714 800A7CB4 8001001C */  lwz     r0, 0x1c(r1)
/* 0A2718 800A7CB8 83E10014 */  lwz     r31, 0x14(r1)
/* 0A271C 800A7CBC 83C10010 */  lwz     r30, 0x10(r1)
/* 0A2720 800A7CC0 83A1000C */  lwz     r29, 0xc(r1)
/* 0A2724 800A7CC4 38210018 */  addi    r1, r1, 0x18
/* 0A2728 800A7CC8 7C0803A6 */  mtlr    r0
/* 0A272C 800A7CCC 4E800020 */  blr     

OSExceptionInit:
/* 0A2730 800A7CD0 7C0802A6 */  mflr    r0
/* 0A2734 800A7CD4 90010004 */  stw     r0, 4(r1)
/* 0A2738 800A7CD8 9421FFC8 */  stwu    r1, -0x38(r1)
/* 0A273C 800A7CDC BE810008 */  stmw    r20, 8(r1)
/* 0A2740 800A7CE0 3C608000 */  lis     r3, 0x8000
/* 0A2744 800A7CE4 80030060 */  lwz     r0, 0x60(r3)
/* 0A2748 800A7CE8 3C80800B */  lis     r4, __OSEVSetNumber@ha
/* 0A274C 800A7CEC 3BC48010 */  addi    r30, r4, __OSEVSetNumber@l
/* 0A2750 800A7CF0 3CA0800A */  lis     r5, OSExceptionVector@ha
/* 0A2754 800A7CF4 833E0000 */  lwz     r25, 0(r30)
/* 0A2758 800A7CF8 3C80800B */  lis     r4, __OSEVEnd@ha
/* 0A275C 800A7CFC 38A57FA8 */  addi    r5, r5, OSExceptionVector@l
/* 0A2760 800A7D00 38848040 */  addi    r4, r4, __OSEVEnd@l
/* 0A2764 800A7D04 3CC08010 */  lis     r6, D_800FE678@ha
/* 0A2768 800A7D08 28000000 */  cmplwi  r0, 0
/* 0A276C 800A7D0C 7CB82B78 */  mr      r24, r5
/* 0A2770 800A7D10 3BA6E678 */  addi    r29, r6, D_800FE678@l
/* 0A2774 800A7D14 7EE52050 */  subf    r23, r5, r4
/* 0A2778 800A7D18 3A830060 */  addi    r20, r3, 0x60
/* 0A277C 800A7D1C 4082004C */  bne     lbl_800A7D68
/* 0A2780 800A7D20 387D0160 */  addi    r3, r29, 0x160
/* 0A2784 800A7D24 4CC63182 */  crclr   6
/* 0A2788 800A7D28 4800BAC9 */  bl      DBPrintf
/* 0A278C 800A7D2C 3C80800A */  lis     r4, __OSDBIntegrator@ha
/* 0A2790 800A7D30 3C60800A */  lis     r3, __OSDBJump@ha
/* 0A2794 800A7D34 38037F74 */  addi    r0, r3, __OSDBJump@l
/* 0A2798 800A7D38 38847F50 */  addi    r4, r4, __OSDBIntegrator@l
/* 0A279C 800A7D3C 7EA40050 */  subf    r21, r4, r0
/* 0A27A0 800A7D40 7E83A378 */  mr      r3, r20
/* 0A27A4 800A7D44 7EA5AB78 */  mr      r5, r21
/* 0A27A8 800A7D48 4BF5D77D */  bl      memcpy
/* 0A27AC 800A7D4C 7E83A378 */  mr      r3, r20
/* 0A27B0 800A7D50 7EA4AB78 */  mr      r4, r21
/* 0A27B4 800A7D54 480014FD */  bl      DCFlushRangeNoSync
/* 0A27B8 800A7D58 7C0004AC */  sync    0
/* 0A27BC 800A7D5C 7E83A378 */  mr      r3, r20
/* 0A27C0 800A7D60 7EA4AB78 */  mr      r4, r21
/* 0A27C4 800A7D64 48001545 */  bl      ICInvalidateRange
lbl_800A7D68:
/* 0A27C8 800A7D68 3C80800A */  lis     r4, __OSDBJump@ha
/* 0A27CC 800A7D6C 3C60800A */  lis     r3, __OSSetExceptionHandler@ha
/* 0A27D0 800A7D70 3BE47F74 */  addi    r31, r4, __OSDBJump@l
/* 0A27D4 800A7D74 38037F78 */  addi    r0, r3, __OSSetExceptionHandler@l
/* 0A27D8 800A7D78 3B9D0124 */  addi    r28, r29, 0x124
/* 0A27DC 800A7D7C 7F7F0050 */  subf    r27, r31, r0
/* 0A27E0 800A7D80 3B400000 */  li      r26, 0
/* 0A27E4 800A7D84 48000004 */  b       lbl_800A7D88
lbl_800A7D88:
/* 0A27E8 800A7D88 3C60800B */  lis     r3, __DBVECTOR@ha
/* 0A27EC 800A7D8C 3AA38000 */  addi    r21, r3, __DBVECTOR@l
/* 0A27F0 800A7D90 3EC06000 */  lis     r22, 0x6000
/* 0A27F4 800A7D94 48000004 */  b       lbl_800A7D98
lbl_800A7D98:
/* 0A27F8 800A7D98 48000148 */  b       lbl_800A7EE0
lbl_800A7D9C:
/* 0A27FC 800A7D9C 806D90BC */  lwz     r3, BI2DebugFlag-_SDA_BASE_(r13)
/* 0A2800 800A7DA0 28030000 */  cmplwi  r3, 0
/* 0A2804 800A7DA4 41820034 */  beq     lbl_800A7DD8
/* 0A2808 800A7DA8 80030000 */  lwz     r0, 0(r3)
/* 0A280C 800A7DAC 28000002 */  cmplwi  r0, 2
/* 0A2810 800A7DB0 41800028 */  blt     lbl_800A7DD8
/* 0A2814 800A7DB4 7F43D378 */  mr      r3, r26
/* 0A2818 800A7DB8 4800BA1D */  bl      __DBIsExceptionMarked
/* 0A281C 800A7DBC 2C030000 */  cmpwi   r3, 0
/* 0A2820 800A7DC0 41820018 */  beq     lbl_800A7DD8
/* 0A2824 800A7DC4 387D017C */  addi    r3, r29, 0x17c
/* 0A2828 800A7DC8 4CC63182 */  crclr   6
/* 0A282C 800A7DCC 5744063E */  clrlwi  r4, r26, 0x18
/* 0A2830 800A7DD0 4800BA21 */  bl      DBPrintf
/* 0A2834 800A7DD4 48000104 */  b       lbl_800A7ED8
lbl_800A7DD8:
/* 0A2838 800A7DD8 5754063E */  clrlwi  r20, r26, 0x18
/* 0A283C 800A7DDC 7F20A378 */  or      r0, r25, r20
/* 0A2840 800A7DE0 901E0000 */  stw     r0, 0(r30)
/* 0A2844 800A7DE4 7F43D378 */  mr      r3, r26
/* 0A2848 800A7DE8 4800B9ED */  bl      __DBIsExceptionMarked
/* 0A284C 800A7DEC 2C030000 */  cmpwi   r3, 0
/* 0A2850 800A7DF0 41820028 */  beq     lbl_800A7E18
/* 0A2854 800A7DF4 7E84A378 */  mr      r4, r20
/* 0A2858 800A7DF8 4CC63182 */  crclr   6
/* 0A285C 800A7DFC 387D01AC */  addi    r3, r29, 0x1ac
/* 0A2860 800A7E00 4800B9F1 */  bl      DBPrintf
/* 0A2864 800A7E04 7EA3AB78 */  mr      r3, r21
/* 0A2868 800A7E08 7FE4FB78 */  mr      r4, r31
/* 0A286C 800A7E0C 7F65DB78 */  mr      r5, r27
/* 0A2870 800A7E10 4BF5D6B5 */  bl      memcpy
/* 0A2874 800A7E14 48000090 */  b       lbl_800A7EA4
lbl_800A7E18:
/* 0A2878 800A7E18 7EA4AB78 */  mr      r4, r21
/* 0A287C 800A7E1C 48000004 */  b       lbl_800A7E20
lbl_800A7E20:
/* 0A2880 800A7E20 281B0000 */  cmplwi  r27, 0
/* 0A2884 800A7E24 387B0003 */  addi    r3, r27, 3
/* 0A2888 800A7E28 5463F0BE */  srwi    r3, r3, 2
/* 0A288C 800A7E2C 40810078 */  ble     lbl_800A7EA4
/* 0A2890 800A7E30 5460E8FE */  srwi    r0, r3, 3
/* 0A2894 800A7E34 28000000 */  cmplwi  r0, 0
/* 0A2898 800A7E38 7C0903A6 */  mtctr   r0
/* 0A289C 800A7E3C 41820054 */  beq     lbl_800A7E90
/* 0A28A0 800A7E40 48000004 */  b       lbl_800A7E44
lbl_800A7E44:
/* 0A28A4 800A7E44 92C40000 */  stw     r22, 0(r4)
/* 0A28A8 800A7E48 38840004 */  addi    r4, r4, 4
/* 0A28AC 800A7E4C 92C40000 */  stw     r22, 0(r4)
/* 0A28B0 800A7E50 38840004 */  addi    r4, r4, 4
/* 0A28B4 800A7E54 92C40000 */  stw     r22, 0(r4)
/* 0A28B8 800A7E58 38840004 */  addi    r4, r4, 4
/* 0A28BC 800A7E5C 92C40000 */  stw     r22, 0(r4)
/* 0A28C0 800A7E60 38840004 */  addi    r4, r4, 4
/* 0A28C4 800A7E64 92C40000 */  stw     r22, 0(r4)
/* 0A28C8 800A7E68 38840004 */  addi    r4, r4, 4
/* 0A28CC 800A7E6C 92C40000 */  stw     r22, 0(r4)
/* 0A28D0 800A7E70 38840004 */  addi    r4, r4, 4
/* 0A28D4 800A7E74 92C40000 */  stw     r22, 0(r4)
/* 0A28D8 800A7E78 38840004 */  addi    r4, r4, 4
/* 0A28DC 800A7E7C 92C40000 */  stw     r22, 0(r4)
/* 0A28E0 800A7E80 38840004 */  addi    r4, r4, 4
/* 0A28E4 800A7E84 4200FFC0 */  bdnz    lbl_800A7E44
/* 0A28E8 800A7E88 70630007 */  andi.   r3, r3, 7
/* 0A28EC 800A7E8C 41820018 */  beq     lbl_800A7EA4
lbl_800A7E90:
/* 0A28F0 800A7E90 7C6903A6 */  mtctr   r3
/* 0A28F4 800A7E94 48000004 */  b       lbl_800A7E98
lbl_800A7E98:
/* 0A28F8 800A7E98 92C40000 */  stw     r22, 0(r4)
/* 0A28FC 800A7E9C 38840004 */  addi    r4, r4, 4
/* 0A2900 800A7EA0 4200FFF8 */  bdnz    lbl_800A7E98
lbl_800A7EA4:
/* 0A2904 800A7EA4 807C0000 */  lwz     r3, 0(r28)
/* 0A2908 800A7EA8 7F04C378 */  mr      r4, r24
/* 0A290C 800A7EAC 7EE5BB78 */  mr      r5, r23
/* 0A2910 800A7EB0 3E838000 */  addis   r20, r3, 0x8000
/* 0A2914 800A7EB4 7E83A378 */  mr      r3, r20
/* 0A2918 800A7EB8 4BF5D60D */  bl      memcpy
/* 0A291C 800A7EBC 7E83A378 */  mr      r3, r20
/* 0A2920 800A7EC0 7EE4BB78 */  mr      r4, r23
/* 0A2924 800A7EC4 4800138D */  bl      DCFlushRangeNoSync
/* 0A2928 800A7EC8 7C0004AC */  sync    0
/* 0A292C 800A7ECC 7E83A378 */  mr      r3, r20
/* 0A2930 800A7ED0 7EE4BB78 */  mr      r4, r23
/* 0A2934 800A7ED4 480013D5 */  bl      ICInvalidateRange
lbl_800A7ED8:
/* 0A2938 800A7ED8 3B9C0004 */  addi    r28, r28, 4
/* 0A293C 800A7EDC 3B5A0001 */  addi    r26, r26, 1
lbl_800A7EE0:
/* 0A2940 800A7EE0 5740063E */  clrlwi  r0, r26, 0x18
/* 0A2944 800A7EE4 2800000F */  cmplwi  r0, 0xf
/* 0A2948 800A7EE8 4180FEB4 */  blt     lbl_800A7D9C
/* 0A294C 800A7EEC 3C608000 */  lis     r3, 0x8000
/* 0A2950 800A7EF0 38033000 */  addi    r0, r3, 0x3000
/* 0A2954 800A7EF4 900D90DC */  stw     r0, OSExceptionTable-_SDA_BASE_(r13)
/* 0A2958 800A7EF8 3A800000 */  li      r20, 0
/* 0A295C 800A7EFC 48000004 */  b       lbl_800A7F00
lbl_800A7F00:
/* 0A2960 800A7F00 3C60800B */  lis     r3, OSDefaultExceptionHandler@ha
/* 0A2964 800A7F04 3AE38044 */  addi    r23, r3, OSDefaultExceptionHandler@l
/* 0A2968 800A7F08 48000004 */  b       lbl_800A7F0C
lbl_800A7F0C:
/* 0A296C 800A7F0C 48000014 */  b       lbl_800A7F20
lbl_800A7F10:
/* 0A2970 800A7F10 7E83A378 */  mr      r3, r20
/* 0A2974 800A7F14 7EE4BB78 */  mr      r4, r23
/* 0A2978 800A7F18 48000061 */  bl      __OSSetExceptionHandler
/* 0A297C 800A7F1C 3A940001 */  addi    r20, r20, 1
lbl_800A7F20:
/* 0A2980 800A7F20 5680063E */  clrlwi  r0, r20, 0x18
/* 0A2984 800A7F24 2800000F */  cmplwi  r0, 0xf
/* 0A2988 800A7F28 4180FFE8 */  blt     lbl_800A7F10
/* 0A298C 800A7F2C 933E0000 */  stw     r25, 0(r30)
/* 0A2990 800A7F30 387D01DC */  addi    r3, r29, 0x1dc
/* 0A2994 800A7F34 4CC63182 */  crclr   6
/* 0A2998 800A7F38 4800B8B9 */  bl      DBPrintf
/* 0A299C 800A7F3C BA810008 */  lmw     r20, 8(r1)
/* 0A29A0 800A7F40 8001003C */  lwz     r0, 0x3c(r1)
/* 0A29A4 800A7F44 38210038 */  addi    r1, r1, 0x38
/* 0A29A8 800A7F48 7C0803A6 */  mtlr    r0
/* 0A29AC 800A7F4C 4E800020 */  blr     

__OSDBIntegrator:
/* 0A29B0 800A7F50 38A00040 */  li      r5, 0x40
/* 0A29B4 800A7F54 7C6802A6 */  mflr    r3
/* 0A29B8 800A7F58 9065000C */  stw     r3, 0xc(r5)
/* 0A29BC 800A7F5C 80650008 */  lwz     r3, 8(r5)
/* 0A29C0 800A7F60 64638000 */  oris    r3, r3, 0x8000
/* 0A29C4 800A7F64 7C6803A6 */  mtlr    r3
/* 0A29C8 800A7F68 38600030 */  li      r3, 0x30
/* 0A29CC 800A7F6C 7C600124 */  mtmsr   r3
/* 0A29D0 800A7F70 4E800020 */  blr     

__OSDBJump:
/* 0A29D4 800A7F74 48000063 */  bla     0x60

glabel __OSSetExceptionHandler
/* 0A29D8 800A7F78 5460063E */  clrlwi  r0, r3, 0x18
/* 0A29DC 800A7F7C 806D90DC */  lwz     r3, OSExceptionTable-_SDA_BASE_(r13)
/* 0A29E0 800A7F80 5400103A */  slwi    r0, r0, 2
/* 0A29E4 800A7F84 7CA30214 */  add     r5, r3, r0
/* 0A29E8 800A7F88 80650000 */  lwz     r3, 0(r5)
/* 0A29EC 800A7F8C 90850000 */  stw     r4, 0(r5)
/* 0A29F0 800A7F90 4E800020 */  blr     

glabel __OSGetExceptionHandler
/* 0A29F4 800A7F94 5460063E */  clrlwi  r0, r3, 0x18
/* 0A29F8 800A7F98 806D90DC */  lwz     r3, OSExceptionTable-_SDA_BASE_(r13)
/* 0A29FC 800A7F9C 5400103A */  slwi    r0, r0, 2
/* 0A2A00 800A7FA0 7C63002E */  lwzx    r3, r3, r0
/* 0A2A04 800A7FA4 4E800020 */  blr     

OSExceptionVector:
/* 0A2A08 800A7FA8 7C9043A6 */  mtspr   0x110, r4
/* 0A2A0C 800A7FAC 808000C0 */  lwz     r4, 0xc0(0)
/* 0A2A10 800A7FB0 9064000C */  stw     r3, 0xc(r4)
/* 0A2A14 800A7FB4 7C7042A6 */  mfspr   r3, 0x110
/* 0A2A18 800A7FB8 90640010 */  stw     r3, 0x10(r4)
/* 0A2A1C 800A7FBC 90A40014 */  stw     r5, 0x14(r4)
/* 0A2A20 800A7FC0 A06401A2 */  lhz     r3, 0x1a2(r4)
/* 0A2A24 800A7FC4 60630002 */  ori     r3, r3, 2
/* 0A2A28 800A7FC8 B06401A2 */  sth     r3, 0x1a2(r4)
/* 0A2A2C 800A7FCC 7C600026 */  mfcr    r3
/* 0A2A30 800A7FD0 90640080 */  stw     r3, 0x80(r4)
/* 0A2A34 800A7FD4 7C6802A6 */  mflr    r3
/* 0A2A38 800A7FD8 90640084 */  stw     r3, 0x84(r4)
/* 0A2A3C 800A7FDC 7C6902A6 */  mfctr   r3
/* 0A2A40 800A7FE0 90640088 */  stw     r3, 0x88(r4)
/* 0A2A44 800A7FE4 7C6102A6 */  mfxer   r3
/* 0A2A48 800A7FE8 9064008C */  stw     r3, 0x8c(r4)
/* 0A2A4C 800A7FEC 7C7A02A6 */  mfspr   r3, 0x1a
/* 0A2A50 800A7FF0 90640198 */  stw     r3, 0x198(r4)
/* 0A2A54 800A7FF4 7C7B02A6 */  mfspr   r3, 0x1b
/* 0A2A58 800A7FF8 9064019C */  stw     r3, 0x19c(r4)
/* 0A2A5C 800A7FFC 7C651B78 */  mr      r5, r3
glabel __DBVECTOR
/* 0A2A60 800A8000 60000000 */  nop     
/* 0A2A64 800A8004 7C6000A6 */  mfmsr   r3
/* 0A2A68 800A8008 60630030 */  ori     r3, r3, 0x30
/* 0A2A6C 800A800C 7C7B03A6 */  mtspr   0x1b, r3
glabel __OSEVSetNumber
/* 0A2A70 800A8010 38600000 */  li      r3, 0
/* 0A2A74 800A8014 808000D4 */  lwz     r4, 0xd4(0)
/* 0A2A78 800A8018 54A507BD */  rlwinm. r5, r5, 0, 0x1e, 0x1e
/* 0A2A7C 800A801C 40820014 */  bne     lbl_800A8030
/* 0A2A80 800A8020 3CA0800B */  lis     r5, OSDefaultExceptionHandler@ha
/* 0A2A84 800A8024 38A58044 */  addi    r5, r5, OSDefaultExceptionHandler@l
/* 0A2A88 800A8028 7CBA03A6 */  mtspr   0x1a, r5
/* 0A2A8C 800A802C 4C000064 */  rfi     
lbl_800A8030:
/* 0A2A90 800A8030 546515BA */  rlwinm  r5, r3, 2, 0x16, 0x1d
/* 0A2A94 800A8034 80A53000 */  lwz     r5, 0x3000(r5)
/* 0A2A98 800A8038 7CBA03A6 */  mtspr   0x1a, r5
/* 0A2A9C 800A803C 4C000064 */  rfi     
glabel __OSEVEnd
/* 0A2AA0 800A8040 60000000 */  nop     

glabel OSDefaultExceptionHandler
/* 0A2AA4 800A8044 90040000 */  stw     r0, 0(r4)
/* 0A2AA8 800A8048 90240004 */  stw     r1, 4(r4)
/* 0A2AAC 800A804C 90440008 */  stw     r2, 8(r4)
/* 0A2AB0 800A8050 BCC40018 */  stmw    r6, 0x18(r4)
/* 0A2AB4 800A8054 7C11E2A6 */  mfspr   r0, 0x391
/* 0A2AB8 800A8058 900401A8 */  stw     r0, 0x1a8(r4)
/* 0A2ABC 800A805C 7C12E2A6 */  mfspr   r0, 0x392
/* 0A2AC0 800A8060 900401AC */  stw     r0, 0x1ac(r4)
/* 0A2AC4 800A8064 7C13E2A6 */  mfspr   r0, 0x393
/* 0A2AC8 800A8068 900401B0 */  stw     r0, 0x1b0(r4)
/* 0A2ACC 800A806C 7C14E2A6 */  mfspr   r0, 0x394
/* 0A2AD0 800A8070 900401B4 */  stw     r0, 0x1b4(r4)
/* 0A2AD4 800A8074 7C15E2A6 */  mfspr   r0, 0x395
/* 0A2AD8 800A8078 900401B8 */  stw     r0, 0x1b8(r4)
/* 0A2ADC 800A807C 7C16E2A6 */  mfspr   r0, 0x396
/* 0A2AE0 800A8080 900401BC */  stw     r0, 0x1bc(r4)
/* 0A2AE4 800A8084 7C17E2A6 */  mfspr   r0, 0x397
/* 0A2AE8 800A8088 900401C0 */  stw     r0, 0x1c0(r4)
/* 0A2AEC 800A808C 7CB202A6 */  mfdsisr r5
/* 0A2AF0 800A8090 7CD302A6 */  mfdar   r6
/* 0A2AF4 800A8094 9421FFF8 */  stwu    r1, -8(r1)
/* 0A2AF8 800A8098 48002398 */  b       __OSUnhandledException

glabel __OSPSInit
/* 0A2AFC 800A809C 7C0802A6 */  mflr    r0
/* 0A2B00 800A80A0 90010004 */  stw     r0, 4(r1)
/* 0A2B04 800A80A4 9421FFF8 */  stwu    r1, -8(r1)
/* 0A2B08 800A80A8 4BFFF555 */  bl      PPCMfhid2
/* 0A2B0C 800A80AC 6463A000 */  oris    r3, r3, 0xa000
/* 0A2B10 800A80B0 4BFFF555 */  bl      PPCMthid2
/* 0A2B14 800A80B4 48001229 */  bl      ICFlashInvalidate
/* 0A2B18 800A80B8 7C0004AC */  sync    0
/* 0A2B1C 800A80BC 38600000 */  li      r3, 0
/* 0A2B20 800A80C0 7C70E3A6 */  mtspr   0x390, r3
/* 0A2B24 800A80C4 7C71E3A6 */  mtspr   0x391, r3
/* 0A2B28 800A80C8 7C72E3A6 */  mtspr   0x392, r3
/* 0A2B2C 800A80CC 7C73E3A6 */  mtspr   0x393, r3
/* 0A2B30 800A80D0 7C74E3A6 */  mtspr   0x394, r3
/* 0A2B34 800A80D4 7C75E3A6 */  mtspr   0x395, r3
/* 0A2B38 800A80D8 7C76E3A6 */  mtspr   0x396, r3
/* 0A2B3C 800A80DC 7C77E3A6 */  mtspr   0x397, r3
/* 0A2B40 800A80E0 8001000C */  lwz     r0, 0xc(r1)
/* 0A2B44 800A80E4 38210008 */  addi    r1, r1, 8
/* 0A2B48 800A80E8 7C0803A6 */  mtlr    r0
/* 0A2B4C 800A80EC 4E800020 */  blr     

glabel __OSGetDIConfig
/* 0A2B50 800A80F0 3C60CC00 */  lis     r3, 0xcc00
/* 0A2B54 800A80F4 38636000 */  addi    r3, r3, 0x6000
/* 0A2B58 800A80F8 80030024 */  lwz     r0, 0x24(r3)
/* 0A2B5C 800A80FC 5403063E */  clrlwi  r3, r0, 0x18
/* 0A2B60 800A8100 4E800020 */  blr     

glabel OSRegisterVersion
/* 0A2B64 800A8104 7C0802A6 */  mflr    r0
/* 0A2B68 800A8108 90010004 */  stw     r0, 4(r1)
/* 0A2B6C 800A810C 9421FFF8 */  stwu    r1, -8(r1)
/* 0A2B70 800A8110 7C641B78 */  mr      r4, r3
/* 0A2B74 800A8114 4CC63182 */  crclr   6
/* 0A2B78 800A8118 386D8CFC */  addi    r3, r13, D_801456DC-_SDA_BASE_
/* 0A2B7C 800A811C 48001F51 */  bl      OSReport
/* 0A2B80 800A8120 8001000C */  lwz     r0, 0xc(r1)
/* 0A2B84 800A8124 38210008 */  addi    r1, r1, 8
/* 0A2B88 800A8128 7C0803A6 */  mtlr    r0
/* 0A2B8C 800A812C 4E800020 */  blr     


.section .data, "wa"

.balign 8

/* 000FB6F8 800FE678 0044 */
D_800FE678:
    .asciz "<< Dolphin SDK - OS\trelease build: Jul 23 2003 11:27:16 (0x2301) >>"

.balign 4

/* 000FB73C 800FE6BC 000D */
D_800FE6BC:
    .asciz "\nDolphin OS\n"

.balign 4

/* 000FB74C 800FE6CC 0016 */
D_800FE6CC:
    .asciz "Kernel built : %s %s\n"

.balign 4

/* 000FB764 800FE6E4 000C */
D_800FE6E4:
    .asciz "Jul 23 2003"

.balign 4

/* 000FB770 800FE6F0 0009 */
D_800FE6F0:
    .asciz "11:27:16"

.balign 4

/* 000FB77C 800FE6FC 0010 */
D_800FE6FC:
    .asciz "Console Type : "

.balign 4

/* 000FB78C 800FE70C 000B */
D_800FE70C:
    .asciz "Retail %d\n"

.balign 4

/* 000FB798 800FE718 000E */
D_800FE718:
    .asciz "Mac Emulator\n"

.balign 4

/* 000FB7A8 800FE728 000D */
D_800FE728:
    .asciz "PC Emulator\n"

.balign 4

/* 000FB7B8 800FE738 000D */
D_800FE738:
    .asciz "EPPC Arthur\n"

.balign 4

/* 000FB7C8 800FE748 000D */
D_800FE748:
    .asciz "EPPC Minnow\n"

.balign 4

/* 000FB7D8 800FE758 0019 */
D_800FE758:
    .asciz "Development HW%d (%08x)\n"

.balign 4

/* 000FB7F4 800FE774 000E */
D_800FE774:
    .asciz "Memory %d MB\n"

.balign 4

/* 000FB804 800FE784 0015 */
D_800FE784:
    .asciz "Arena : 0x%x - 0x%x\n"

.balign 4

/* 000FB81C 800FE79C 003C */
__OSExceptionLocations:
    .long 0x00000100, 0x00000200, 0x00000300, 0x00000400, 0x00000500, 0x00000600, 0x00000700, 0x00000800
    .long 0x00000900, 0x00000C00, 0x00000D00, 0x00000F00, 0x00001300, 0x00001400, 0x00001700

.balign 4

/* 000FB858 800FE7D8 001B */
D_800FE7D8:
    .asciz "Installing OSDBIntegrator\n"

.balign 4

/* 000FB874 800FE7F4 002E */
D_800FE7F4:
    .asciz ">>> OSINIT: exception %d commandeered by TRK\n"

.balign 4

/* 000FB8A4 800FE824 002F */
D_800FE824:
    .asciz ">>> OSINIT: exception %d vectored to debugger\n"

.balign 4

/* 000FB8D4 800FE854 001B */
D_800FE854:
    .asciz "Exceptions initialized...\n"


.section .bss, "wa"

.balign 32

/* 0013DCA0 80140C20 0020 */
DriveInfo:
    .skip 32

.balign 4

/* 0013DCC0 80140C40 0030 */
DriveBlock:
    .skip 48


.section .sdata, "wa"

.balign 8

/* 000FFF30 801456D0 0004 */
glabel __OSVersion
    .long D_800FE678

.balign 4

/* 000FFF34 801456D4 0006 */
D_801456D4:
    .asciz "%08x\n"

.balign 4

/* 000FFF3C 801456DC 0004 */
D_801456DC:
    .asciz "%s\n"


.section .sbss, "wa"

.balign 8

/* 001002F8 80145A98 0004 */
BootInfo:
    .skip 4

.balign 4

/* 001002FC 80145A9C 0004 */
BI2DebugFlag:
    .skip 4

.balign 4

/* 00100300 80145AA0 0004 */
BI2DebugFlagHolder:
    .skip 4

.balign 4

/* 00100304 80145AA4 0004 */
glabel __OSIsGcam
    .skip 4

.balign 8

/* 00100308 80145AA8 0008 */
ZeroF:
    .skip 8

.balign 8

/* 00100310 80145AB0 0008 */
ZeroPS:
    .skip 8

.balign 4

/* 00100318 80145AB8 0004 */
AreWeInitialized:
    .skip 4

.balign 4

/* 0010031C 80145ABC 0004 */
OSExceptionTable:
    .skip 4

.balign 4

/* 00100320 80145AC0 0004 */
glabel __OSSavedRegionEnd
    .skip 4

.balign 4

/* 00100324 80145AC4 0004 */
glabel __OSSavedRegionStart
    .skip 4

.balign 4

/* 00100328 80145AC8 0004 */
glabel __OSInIPL
    .skip 4

.balign 8

/* 00100330 80145AD0 0008 */
glabel __OSStartTime
    .skip 8


