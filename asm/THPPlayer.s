# THPPlayer.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel THPPlayerInit
/* 00AC24 800101C4 7C0802A6 */  mflr	r0
/* 00AC28 800101C8 3C808010 */  lis		r4, WorkBuffer@ha
/* 00AC2C 800101CC 90010004 */  stw		r0, 4(r1)
/* 00AC30 800101D0 38A001D0 */  li		r5, 0x1d0
/* 00AC34 800101D4 9421FFE8 */  stwu	r1, -0x18(r1)
/* 00AC38 800101D8 93E10014 */  stw		r31, 0x14(r1)
/* 00AC3C 800101DC 3BE47AC0 */  addi	r31, r4, WorkBuffer@l
/* 00AC40 800101E0 38800000 */  li		r4, 0
/* 00AC44 800101E4 93C10010 */  stw		r30, 0x10(r1)
/* 00AC48 800101E8 3BC30000 */  addi	r30, r3, 0
/* 00AC4C 800101EC 387F05A0 */  addi	r3, r31, 0x5a0
/* 00AC50 800101F0 4BFF51E1 */  bl		memset
/* 00AC54 800101F4 480991D9 */  bl		LCEnable
/* 00AC58 800101F8 387F0060 */  addi	r3, r31, 0x60
/* 00AC5C 800101FC 389F0080 */  addi	r4, r31, 0x80
/* 00AC60 80010200 38A00003 */  li		r5, 3
/* 00AC64 80010204 4809ADF1 */  bl		OSInitMessageQueue
/* 00AC68 80010208 480C4911 */  bl		THPInit
/* 00AC6C 8001020C 2C030000 */  cmpwi	r3, 0
/* 00AC70 80010210 4082000C */  bne		lbl_8001021C
/* 00AC74 80010214 38600000 */  li		r3, 0
/* 00AC78 80010218 480000CC */  b		lbl_800102E4
lbl_8001021C:
/* 00AC7C 8001021C 4809A555 */  bl		OSDisableInterrupts
/* 00AC80 80010220 38A00000 */  li		r5, 0
/* 00AC84 80010224 93CD8F14 */  stw		r30, AudioSystem-_SDA_BASE_(r13)
/* 00AC88 80010228 3C808001 */  lis		r4, THPAudioMixCallback@ha
/* 00AC8C 8001022C 90AD8F04 */  stw		r5, SoundBufferIndex-_SDA_BASE_(r13)
/* 00AC90 80010230 380411BC */  addi	r0, r4, THPAudioMixCallback@l
/* 00AC94 80010234 3BC30000 */  addi	r30, r3, 0
/* 00AC98 80010238 90AD8F0C */  stw		r5, LastAudioBuffer-_SDA_BASE_(r13)
/* 00AC9C 8001023C 7C030378 */  mr		r3, r0
/* 00ACA0 80010240 90AD8F10 */  stw		r5, CurAudioBuffer-_SDA_BASE_(r13)
/* 00ACA4 80010244 480B3ECD */  bl		AIRegisterDMACallback
/* 00ACA8 80010248 906D8F08 */  stw		r3, OldAIDCallback-_SDA_BASE_(r13)
/* 00ACAC 8001024C 800D8F08 */  lwz		r0, OldAIDCallback-_SDA_BASE_(r13)
/* 00ACB0 80010250 28000000 */  cmplwi	r0, 0
/* 00ACB4 80010254 40820038 */  bne		lbl_8001028C
/* 00ACB8 80010258 800D8F14 */  lwz		r0, AudioSystem-_SDA_BASE_(r13)
/* 00ACBC 8001025C 2C000000 */  cmpwi	r0, 0
/* 00ACC0 80010260 4182002C */  beq		lbl_8001028C
/* 00ACC4 80010264 38600000 */  li		r3, 0
/* 00ACC8 80010268 480B3EA9 */  bl		AIRegisterDMACallback
/* 00ACCC 8001026C 7FC3F378 */  mr		r3, r30
/* 00ACD0 80010270 4809A529 */  bl		OSRestoreInterrupts
/* 00ACD4 80010274 3C60800F */  lis		r3, D_800F6408@ha
/* 00ACD8 80010278 4CC63182 */  crclr	6
/* 00ACDC 8001027C 38636408 */  addi	r3, r3, D_800F6408@l
/* 00ACE0 80010280 48099DED */  bl		OSReport
/* 00ACE4 80010284 38600000 */  li		r3, 0
/* 00ACE8 80010288 4800005C */  b		lbl_800102E4
lbl_8001028C:
/* 00ACEC 8001028C 7FC3F378 */  mr		r3, r30
/* 00ACF0 80010290 4809A509 */  bl		OSRestoreInterrupts
/* 00ACF4 80010294 800D8F14 */  lwz		r0, AudioSystem-_SDA_BASE_(r13)
/* 00ACF8 80010298 2C000000 */  cmpwi	r0, 0
/* 00ACFC 8001029C 4082003C */  bne		lbl_800102D8
/* 00AD00 800102A0 387F00A0 */  addi	r3, r31, 0xa0
/* 00AD04 800102A4 38800000 */  li		r4, 0
/* 00AD08 800102A8 38A00500 */  li		r5, 0x500
/* 00AD0C 800102AC 4BFF5125 */  bl		memset
/* 00AD10 800102B0 387F00A0 */  addi	r3, r31, 0xa0
/* 00AD14 800102B4 38800500 */  li		r4, 0x500
/* 00AD18 800102B8 48098F39 */  bl		DCFlushRange
/* 00AD1C 800102BC 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00AD20 800102C0 38800280 */  li		r4, 0x280
/* 00AD24 800102C4 1C000280 */  mulli	r0, r0, 0x280
/* 00AD28 800102C8 7C7F0214 */  add		r3, r31, r0
/* 00AD2C 800102CC 386300A0 */  addi	r3, r3, 0xa0
/* 00AD30 800102D0 480B3E85 */  bl		AIInitDMA
/* 00AD34 800102D4 480B3F19 */  bl		AIStartDMA
lbl_800102D8:
/* 00AD38 800102D8 38000001 */  li		r0, 1
/* 00AD3C 800102DC 900D8EF8 */  stw		r0, Initialized-_SDA_BASE_(r13)
/* 00AD40 800102E0 38600001 */  li		r3, 1
lbl_800102E4:
/* 00AD44 800102E4 8001001C */  lwz		r0, 0x1c(r1)
/* 00AD48 800102E8 83E10014 */  lwz		r31, 0x14(r1)
/* 00AD4C 800102EC 83C10010 */  lwz		r30, 0x10(r1)
/* 00AD50 800102F0 7C0803A6 */  mtlr	r0
/* 00AD54 800102F4 38210018 */  addi	r1, r1, 0x18
/* 00AD58 800102F8 4E800020 */  blr		

glabel THPPlayerOpen
/* 00AD5C 800102FC 7C0802A6 */  mflr	r0
/* 00AD60 80010300 3CA08010 */  lis		r5, WorkBuffer@ha
/* 00AD64 80010304 90010004 */  stw		r0, 4(r1)
/* 00AD68 80010308 9421FFC0 */  stwu	r1, -0x40(r1)
/* 00AD6C 8001030C BEA10014 */  stmw	r21, 0x14(r1)
/* 00AD70 80010310 3B857AC0 */  addi	r28, r5, WorkBuffer@l
/* 00AD74 80010314 3CA0800F */  lis		r5, VolumeTable@ha
/* 00AD78 80010318 3AA30000 */  addi	r21, r3, 0
/* 00AD7C 8001031C 3BC40000 */  addi	r30, r4, 0
/* 00AD80 80010320 3BA56308 */  addi	r29, r5, VolumeTable@l
/* 00AD84 80010324 800D8EF8 */  lwz		r0, Initialized-_SDA_BASE_(r13)
/* 00AD88 80010328 2C000000 */  cmpwi	r0, 0
/* 00AD8C 8001032C 40820018 */  bne		lbl_80010344
/* 00AD90 80010330 387D013C */  addi	r3, r29, 0x13c
/* 00AD94 80010334 4CC63182 */  crclr	6
/* 00AD98 80010338 48099D35 */  bl		OSReport
/* 00AD9C 8001033C 38600000 */  li		r3, 0
/* 00ADA0 80010340 48000220 */  b		lbl_80010560
lbl_80010344:
/* 00ADA4 80010344 3BFC0640 */  addi	r31, r28, 0x640
/* 00ADA8 80010348 801C0640 */  lwz		r0, 0x640(r28)
/* 00ADAC 8001034C 2C000000 */  cmpwi	r0, 0
/* 00ADB0 80010350 41820018 */  beq		lbl_80010368
/* 00ADB4 80010354 387D0178 */  addi	r3, r29, 0x178
/* 00ADB8 80010358 4CC63182 */  crclr	6
/* 00ADBC 8001035C 48099D11 */  bl		OSReport
/* 00ADC0 80010360 38600000 */  li		r3, 0
/* 00ADC4 80010364 480001FC */  b		lbl_80010560
lbl_80010368:
/* 00ADC8 80010368 3B5C0620 */  addi	r26, r28, 0x620
/* 00ADCC 8001036C 387A0000 */  addi	r3, r26, 0
/* 00ADD0 80010370 38800000 */  li		r4, 0
/* 00ADD4 80010374 38A0000C */  li		r5, 0xc
/* 00ADD8 80010378 4BFF5059 */  bl		memset
/* 00ADDC 8001037C 3B3C062C */  addi	r25, r28, 0x62c
/* 00ADE0 80010380 38790000 */  addi	r3, r25, 0
/* 00ADE4 80010384 38800000 */  li		r4, 0
/* 00ADE8 80010388 38A00010 */  li		r5, 0x10
/* 00ADEC 8001038C 4BFF5045 */  bl		memset
/* 00ADF0 80010390 38750000 */  addi	r3, r21, 0
/* 00ADF4 80010394 389C05A0 */  addi	r4, r28, 0x5a0
/* 00ADF8 80010398 480AE1B9 */  bl		DVDOpen
/* 00ADFC 8001039C 2C030000 */  cmpwi	r3, 0
/* 00AE00 800103A0 4082001C */  bne		lbl_800103BC
/* 00AE04 800103A4 38950000 */  addi	r4, r21, 0
/* 00AE08 800103A8 4CC63182 */  crclr	6
/* 00AE0C 800103AC 387D01B0 */  addi	r3, r29, 0x1b0
/* 00AE10 800103B0 48099CBD */  bl		OSReport
/* 00AE14 800103B4 38600000 */  li		r3, 0
/* 00AE18 800103B8 480001A8 */  b		lbl_80010560
lbl_800103BC:
/* 00AE1C 800103BC 389C0000 */  addi	r4, r28, 0
/* 00AE20 800103C0 387C05A0 */  addi	r3, r28, 0x5a0
/* 00AE24 800103C4 38A00040 */  li		r5, 0x40
/* 00AE28 800103C8 38C00000 */  li		r6, 0
/* 00AE2C 800103CC 480023C9 */  bl		movieDVDRead
/* 00AE30 800103D0 3B7C05DC */  addi	r27, r28, 0x5dc
/* 00AE34 800103D4 387B0000 */  addi	r3, r27, 0
/* 00AE38 800103D8 389C0000 */  addi	r4, r28, 0
/* 00AE3C 800103DC 38A00030 */  li		r5, 0x30
/* 00AE40 800103E0 4BFF50E5 */  bl		memcpy
/* 00AE44 800103E4 387B0000 */  addi	r3, r27, 0
/* 00AE48 800103E8 388D80E0 */  addi	r4, r13, D_80144AC0-_SDA_BASE_
/* 00AE4C 800103EC 480CC5E1 */  bl		strcmp
/* 00AE50 800103F0 2C030000 */  cmpwi	r3, 0
/* 00AE54 800103F4 41820020 */  beq		lbl_80010414
/* 00AE58 800103F8 387D01C0 */  addi	r3, r29, 0x1c0
/* 00AE5C 800103FC 4CC63182 */  crclr	6
/* 00AE60 80010400 48099C6D */  bl		OSReport
/* 00AE64 80010404 387C05A0 */  addi	r3, r28, 0x5a0
/* 00AE68 80010408 480AE211 */  bl		DVDClose
/* 00AE6C 8001040C 38600000 */  li		r3, 0
/* 00AE70 80010410 48000150 */  b		lbl_80010560
lbl_80010414:
/* 00AE74 80010414 807C05E0 */  lwz		r3, 0x5e0(r28)
/* 00AE78 80010418 3C03FFFF */  addis	r0, r3, 0xffff
/* 00AE7C 8001041C 28001000 */  cmplwi	r0, 0x1000
/* 00AE80 80010420 41820020 */  beq		lbl_80010440
/* 00AE84 80010424 387D01E0 */  addi	r3, r29, 0x1e0
/* 00AE88 80010428 4CC63182 */  crclr	6
/* 00AE8C 8001042C 48099C41 */  bl		OSReport
/* 00AE90 80010430 387C05A0 */  addi	r3, r28, 0x5a0
/* 00AE94 80010434 480AE1E5 */  bl		DVDClose
/* 00AE98 80010438 38600000 */  li		r3, 0
/* 00AE9C 8001043C 48000124 */  b		lbl_80010560
lbl_80010440:
/* 00AEA0 80010440 82DC05FC */  lwz		r22, 0x5fc(r28)
/* 00AEA4 80010444 389C0000 */  addi	r4, r28, 0
/* 00AEA8 80010448 387C05A0 */  addi	r3, r28, 0x5a0
/* 00AEAC 8001044C 38D60000 */  addi	r6, r22, 0
/* 00AEB0 80010450 38A00020 */  li		r5, 0x20
/* 00AEB4 80010454 48002341 */  bl		movieDVDRead
/* 00AEB8 80010458 3AFC060C */  addi	r23, r28, 0x60c
/* 00AEBC 8001045C 38770000 */  addi	r3, r23, 0
/* 00AEC0 80010460 389C0000 */  addi	r4, r28, 0
/* 00AEC4 80010464 38A00014 */  li		r5, 0x14
/* 00AEC8 80010468 4BFF505D */  bl		memcpy
/* 00AECC 8001046C 38000000 */  li		r0, 0
/* 00AED0 80010470 981C0647 */  stb		r0, 0x647(r28)
/* 00AED4 80010474 3B1C0647 */  addi	r24, r28, 0x647
/* 00AED8 80010478 3B7C05A0 */  addi	r27, r28, 0x5a0
/* 00AEDC 8001047C 3AA00000 */  li		r21, 0
/* 00AEE0 80010480 3AD60014 */  addi	r22, r22, 0x14
/* 00AEE4 80010484 4800009C */  b		lbl_80010520
lbl_80010488:
/* 00AEE8 80010488 881B0070 */  lbz		r0, 0x70(r27)
/* 00AEEC 8001048C 2C000001 */  cmpwi	r0, 1
/* 00AEF0 80010490 41820040 */  beq		lbl_800104D0
/* 00AEF4 80010494 40800070 */  bge		lbl_80010504
/* 00AEF8 80010498 2C000000 */  cmpwi	r0, 0
/* 00AEFC 8001049C 40800008 */  bge		lbl_800104A4
/* 00AF00 800104A0 48000064 */  b		lbl_80010504
lbl_800104A4:
/* 00AF04 800104A4 389C0000 */  addi	r4, r28, 0
/* 00AF08 800104A8 38D60000 */  addi	r6, r22, 0
/* 00AF0C 800104AC 387C05A0 */  addi	r3, r28, 0x5a0
/* 00AF10 800104B0 38A00020 */  li		r5, 0x20
/* 00AF14 800104B4 480022E1 */  bl		movieDVDRead
/* 00AF18 800104B8 387A0000 */  addi	r3, r26, 0
/* 00AF1C 800104BC 389C0000 */  addi	r4, r28, 0
/* 00AF20 800104C0 38A0000C */  li		r5, 0xc
/* 00AF24 800104C4 4BFF5001 */  bl		memcpy
/* 00AF28 800104C8 3AD6000C */  addi	r22, r22, 0xc
/* 00AF2C 800104CC 4800004C */  b		lbl_80010518
lbl_800104D0:
/* 00AF30 800104D0 389C0000 */  addi	r4, r28, 0
/* 00AF34 800104D4 38D60000 */  addi	r6, r22, 0
/* 00AF38 800104D8 387C05A0 */  addi	r3, r28, 0x5a0
/* 00AF3C 800104DC 38A00020 */  li		r5, 0x20
/* 00AF40 800104E0 480022B5 */  bl		movieDVDRead
/* 00AF44 800104E4 38790000 */  addi	r3, r25, 0
/* 00AF48 800104E8 389C0000 */  addi	r4, r28, 0
/* 00AF4C 800104EC 38A00010 */  li		r5, 0x10
/* 00AF50 800104F0 4BFF4FD5 */  bl		memcpy
/* 00AF54 800104F4 38000001 */  li		r0, 1
/* 00AF58 800104F8 98180000 */  stb		r0, 0(r24)
/* 00AF5C 800104FC 3AD60010 */  addi	r22, r22, 0x10
/* 00AF60 80010500 48000018 */  b		lbl_80010518
lbl_80010504:
/* 00AF64 80010504 387D01F4 */  addi	r3, r29, 0x1f4
/* 00AF68 80010508 4CC63182 */  crclr	6
/* 00AF6C 8001050C 48099B61 */  bl		OSReport
/* 00AF70 80010510 38600000 */  li		r3, 0
/* 00AF74 80010514 4800004C */  b		lbl_80010560
lbl_80010518:
/* 00AF78 80010518 3B7B0001 */  addi	r27, r27, 1
/* 00AF7C 8001051C 3AB50001 */  addi	r21, r21, 1
lbl_80010520:
/* 00AF80 80010520 80170000 */  lwz		r0, 0(r23)
/* 00AF84 80010524 7C150040 */  cmplw	r21, r0
/* 00AF88 80010528 4180FF60 */  blt		lbl_80010488
/* 00AF8C 8001052C 38800000 */  li		r4, 0
/* 00AF90 80010530 989C0645 */  stb		r4, 0x645(r28)
/* 00AF94 80010534 38000001 */  li		r0, 1
/* 00AF98 80010538 38600001 */  li		r3, 1
/* 00AF9C 8001053C 989C0644 */  stb		r4, 0x644(r28)
/* 00AFA0 80010540 989C0646 */  stb		r4, 0x646(r28)
/* 00AFA4 80010544 93DC0650 */  stw		r30, 0x650(r28)
/* 00AFA8 80010548 901F0000 */  stw		r0, 0(r31)
/* 00AFAC 8001054C C0028058 */  lfs		f0, D_80146038-_SDA2_BASE_(r2)
/* 00AFB0 80010550 D01C067C */  stfs	f0, 0x67c(r28)
/* 00AFB4 80010554 C01C067C */  lfs		f0, 0x67c(r28)
/* 00AFB8 80010558 D01C0680 */  stfs	f0, 0x680(r28)
/* 00AFBC 8001055C 909C0688 */  stw		r4, 0x688(r28)
lbl_80010560:
/* 00AFC0 80010560 BAA10014 */  lmw		r21, 0x14(r1)
/* 00AFC4 80010564 80010044 */  lwz		r0, 0x44(r1)
/* 00AFC8 80010568 38210040 */  addi	r1, r1, 0x40
/* 00AFCC 8001056C 7C0803A6 */  mtlr	r0
/* 00AFD0 80010570 4E800020 */  blr		

glabel THPPlayerCalcNeedMemory
/* 00AFD4 80010574 3C608010 */  lis		r3, WorkBuffer@ha
/* 00AFD8 80010578 38A37AC0 */  addi	r5, r3, WorkBuffer@l
/* 00AFDC 8001057C 80050640 */  lwz		r0, 0x640(r5)
/* 00AFE0 80010580 2C000000 */  cmpwi	r0, 0
/* 00AFE4 80010584 41820090 */  beq		lbl_80010614
/* 00AFE8 80010588 80050650 */  lwz		r0, 0x650(r5)
/* 00AFEC 8001058C 2C000000 */  cmpwi	r0, 0
/* 00AFF0 80010590 41820014 */  beq		lbl_800105A4
/* 00AFF4 80010594 806505F8 */  lwz		r3, 0x5f8(r5)
/* 00AFF8 80010598 3803001F */  addi	r0, r3, 0x1f
/* 00AFFC 8001059C 54060034 */  rlwinm	r6, r0, 0, 0, 0x1a
/* 00B000 800105A0 48000014 */  b		lbl_800105B4
lbl_800105A4:
/* 00B004 800105A4 806505E4 */  lwz		r3, 0x5e4(r5)
/* 00B008 800105A8 3803001F */  addi	r0, r3, 0x1f
/* 00B00C 800105AC 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 00B010 800105B0 1CC0000A */  mulli	r6, r0, 0xa
lbl_800105B4:
/* 00B014 800105B4 80850620 */  lwz		r4, 0x620(r5)
/* 00B018 800105B8 80650624 */  lwz		r3, 0x624(r5)
/* 00B01C 800105BC 88050647 */  lbz		r0, 0x647(r5)
/* 00B020 800105C0 7C6419D6 */  mullw	r3, r4, r3
/* 00B024 800105C4 3883001F */  addi	r4, r3, 0x1f
/* 00B028 800105C8 5463F0BE */  srwi	r3, r3, 2
/* 00B02C 800105CC 54840034 */  rlwinm	r4, r4, 0, 0, 0x1a
/* 00B030 800105D0 3863001F */  addi	r3, r3, 0x1f
/* 00B034 800105D4 1C840003 */  mulli	r4, r4, 3
/* 00B038 800105D8 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B03C 800105DC 1C630003 */  mulli	r3, r3, 3
/* 00B040 800105E0 7CC62214 */  add		r6, r6, r4
/* 00B044 800105E4 7CC61A14 */  add		r6, r6, r3
/* 00B048 800105E8 28000000 */  cmplwi	r0, 0
/* 00B04C 800105EC 7CC61A14 */  add		r6, r6, r3
/* 00B050 800105F0 4182001C */  beq		lbl_8001060C
/* 00B054 800105F4 800505E8 */  lwz		r0, 0x5e8(r5)
/* 00B058 800105F8 5403103A */  slwi	r3, r0, 2
/* 00B05C 800105FC 3803001F */  addi	r0, r3, 0x1f
/* 00B060 80010600 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 00B064 80010604 1C000003 */  mulli	r0, r0, 3
/* 00B068 80010608 7CC60214 */  add		r6, r6, r0
lbl_8001060C:
/* 00B06C 8001060C 38661000 */  addi	r3, r6, 0x1000
/* 00B070 80010610 4E800020 */  blr		
lbl_80010614:
/* 00B074 80010614 38600000 */  li		r3, 0
/* 00B078 80010618 4E800020 */  blr		

glabel THPPlayerSetBuffer
/* 00B07C 8001061C 7C0802A6 */  mflr	r0
/* 00B080 80010620 3C808010 */  lis		r4, WorkBuffer@ha
/* 00B084 80010624 90010004 */  stw		r0, 4(r1)
/* 00B088 80010628 9421FFD0 */  stwu	r1, -0x30(r1)
/* 00B08C 8001062C BF410018 */  stmw	r26, 0x18(r1)
/* 00B090 80010630 3BE47AC0 */  addi	r31, r4, WorkBuffer@l
/* 00B094 80010634 801F0640 */  lwz		r0, 0x640(r31)
/* 00B098 80010638 2C000000 */  cmpwi	r0, 0
/* 00B09C 8001063C 418201F0 */  beq		lbl_8001082C
/* 00B0A0 80010640 881F0644 */  lbz		r0, 0x644(r31)
/* 00B0A4 80010644 28000000 */  cmplwi	r0, 0
/* 00B0A8 80010648 408201E4 */  bne		lbl_8001082C
/* 00B0AC 8001064C 801F0650 */  lwz		r0, 0x650(r31)
/* 00B0B0 80010650 2C000000 */  cmpwi	r0, 0
/* 00B0B4 80010654 41820014 */  beq		lbl_80010668
/* 00B0B8 80010658 907F0654 */  stw		r3, 0x654(r31)
/* 00B0BC 8001065C 801F05F8 */  lwz		r0, 0x5f8(r31)
/* 00B0C0 80010660 7FC30214 */  add		r30, r3, r0
/* 00B0C4 80010664 480000D8 */  b		lbl_8001073C
lbl_80010668:
/* 00B0C8 80010668 907F06A0 */  stw		r3, 0x6a0(r31)
/* 00B0CC 8001066C 38000008 */  li		r0, 8
/* 00B0D0 80010670 809F05E4 */  lwz		r4, 0x5e4(r31)
/* 00B0D4 80010674 3884001F */  addi	r4, r4, 0x1f
/* 00B0D8 80010678 54840034 */  rlwinm	r4, r4, 0, 0, 0x1a
/* 00B0DC 8001067C 7FC32214 */  add		r30, r3, r4
/* 00B0E0 80010680 93DF06AC */  stw		r30, 0x6ac(r31)
/* 00B0E4 80010684 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B0E8 80010688 3863001F */  addi	r3, r3, 0x1f
/* 00B0EC 8001068C 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B0F0 80010690 7FDE1A14 */  add		r30, r30, r3
/* 00B0F4 80010694 93DF06B8 */  stw		r30, 0x6b8(r31)
/* 00B0F8 80010698 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B0FC 8001069C 3863001F */  addi	r3, r3, 0x1f
/* 00B100 800106A0 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B104 800106A4 7FDE1A14 */  add		r30, r30, r3
/* 00B108 800106A8 93DF06C4 */  stw		r30, 0x6c4(r31)
/* 00B10C 800106AC 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B110 800106B0 3863001F */  addi	r3, r3, 0x1f
/* 00B114 800106B4 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B118 800106B8 7FDE1A14 */  add		r30, r30, r3
/* 00B11C 800106BC 93DF06D0 */  stw		r30, 0x6d0(r31)
/* 00B120 800106C0 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B124 800106C4 3863001F */  addi	r3, r3, 0x1f
/* 00B128 800106C8 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B12C 800106CC 7FDE1A14 */  add		r30, r30, r3
/* 00B130 800106D0 93DF06DC */  stw		r30, 0x6dc(r31)
/* 00B134 800106D4 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B138 800106D8 3863001F */  addi	r3, r3, 0x1f
/* 00B13C 800106DC 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B140 800106E0 7FDE1A14 */  add		r30, r30, r3
/* 00B144 800106E4 93DF06E8 */  stw		r30, 0x6e8(r31)
/* 00B148 800106E8 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B14C 800106EC 3863001F */  addi	r3, r3, 0x1f
/* 00B150 800106F0 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B154 800106F4 7FDE1A14 */  add		r30, r30, r3
/* 00B158 800106F8 93DF06F4 */  stw		r30, 0x6f4(r31)
/* 00B15C 800106FC 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B160 80010700 3863001F */  addi	r3, r3, 0x1f
/* 00B164 80010704 54630034 */  rlwinm	r3, r3, 0, 0, 0x1a
/* 00B168 80010708 7FDE1A14 */  add		r30, r30, r3
/* 00B16C 8001070C 48000128 */  b		lbl_80010834
lbl_80010710:
/* 00B170 80010710 2060000A */  subfic	r3, r0, 0xa
/* 00B174 80010714 2800000A */  cmplwi	r0, 0xa
/* 00B178 80010718 7C6903A6 */  mtctr	r3
/* 00B17C 8001071C 40800020 */  bge		lbl_8001073C
lbl_80010720:
/* 00B180 80010720 93C40100 */  stw		r30, 0x100(r4)
/* 00B184 80010724 3884000C */  addi	r4, r4, 0xc
/* 00B188 80010728 807F05E4 */  lwz		r3, 0x5e4(r31)
/* 00B18C 8001072C 3803001F */  addi	r0, r3, 0x1f
/* 00B190 80010730 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 00B194 80010734 7FDE0214 */  add		r30, r30, r0
/* 00B198 80010738 4200FFE8 */  bdnz	lbl_80010720
lbl_8001073C:
/* 00B19C 8001073C 807F0620 */  lwz		r3, 0x620(r31)
/* 00B1A0 80010740 3BBF05A0 */  addi	r29, r31, 0x5a0
/* 00B1A4 80010744 801F0624 */  lwz		r0, 0x624(r31)
/* 00B1A8 80010748 3B800000 */  li		r28, 0
/* 00B1AC 8001074C 7C8301D6 */  mullw	r4, r3, r0
/* 00B1B0 80010750 5483F0BE */  srwi	r3, r4, 2
/* 00B1B4 80010754 3884001F */  addi	r4, r4, 0x1f
/* 00B1B8 80010758 3803001F */  addi	r0, r3, 0x1f
/* 00B1BC 8001075C 549B0034 */  rlwinm	r27, r4, 0, 0, 0x1a
/* 00B1C0 80010760 541A0034 */  rlwinm	r26, r0, 0, 0, 0x1a
lbl_80010764:
/* 00B1C4 80010764 93DD0178 */  stw		r30, 0x178(r29)
/* 00B1C8 80010768 387E0000 */  addi	r3, r30, 0
/* 00B1CC 8001076C 389B0000 */  addi	r4, r27, 0
/* 00B1D0 80010770 48098A55 */  bl		DCInvalidateRange
/* 00B1D4 80010774 7FDEDA14 */  add		r30, r30, r27
/* 00B1D8 80010778 93DD017C */  stw		r30, 0x17c(r29)
/* 00B1DC 8001077C 387E0000 */  addi	r3, r30, 0
/* 00B1E0 80010780 389A0000 */  addi	r4, r26, 0
/* 00B1E4 80010784 48098A41 */  bl		DCInvalidateRange
/* 00B1E8 80010788 7FDED214 */  add		r30, r30, r26
/* 00B1EC 8001078C 93DD0180 */  stw		r30, 0x180(r29)
/* 00B1F0 80010790 387E0000 */  addi	r3, r30, 0
/* 00B1F4 80010794 389A0000 */  addi	r4, r26, 0
/* 00B1F8 80010798 48098A2D */  bl		DCInvalidateRange
/* 00B1FC 8001079C 3B9C0001 */  addi	r28, r28, 1
/* 00B200 800107A0 281C0003 */  cmplwi	r28, 3
/* 00B204 800107A4 7FDED214 */  add		r30, r30, r26
/* 00B208 800107A8 3BBD0010 */  addi	r29, r29, 0x10
/* 00B20C 800107AC 4180FFB8 */  blt		lbl_80010764
/* 00B210 800107B0 881F0647 */  lbz		r0, 0x647(r31)
/* 00B214 800107B4 28000000 */  cmplwi	r0, 0
/* 00B218 800107B8 41820068 */  beq		lbl_80010820
/* 00B21C 800107BC 93DF0748 */  stw		r30, 0x748(r31)
/* 00B220 800107C0 38800000 */  li		r4, 0
/* 00B224 800107C4 93DF074C */  stw		r30, 0x74c(r31)
/* 00B228 800107C8 909F0750 */  stw		r4, 0x750(r31)
/* 00B22C 800107CC 801F05E8 */  lwz		r0, 0x5e8(r31)
/* 00B230 800107D0 5403103A */  slwi	r3, r0, 2
/* 00B234 800107D4 3803001F */  addi	r0, r3, 0x1f
/* 00B238 800107D8 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 00B23C 800107DC 7FDE0214 */  add		r30, r30, r0
/* 00B240 800107E0 93DF0754 */  stw		r30, 0x754(r31)
/* 00B244 800107E4 93DF0758 */  stw		r30, 0x758(r31)
/* 00B248 800107E8 909F075C */  stw		r4, 0x75c(r31)
/* 00B24C 800107EC 801F05E8 */  lwz		r0, 0x5e8(r31)
/* 00B250 800107F0 5403103A */  slwi	r3, r0, 2
/* 00B254 800107F4 3803001F */  addi	r0, r3, 0x1f
/* 00B258 800107F8 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 00B25C 800107FC 7FDE0214 */  add		r30, r30, r0
/* 00B260 80010800 93DF0760 */  stw		r30, 0x760(r31)
/* 00B264 80010804 93DF0764 */  stw		r30, 0x764(r31)
/* 00B268 80010808 909F0768 */  stw		r4, 0x768(r31)
/* 00B26C 8001080C 801F05E8 */  lwz		r0, 0x5e8(r31)
/* 00B270 80010810 5403103A */  slwi	r3, r0, 2
/* 00B274 80010814 3803001F */  addi	r0, r3, 0x1f
/* 00B278 80010818 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 00B27C 8001081C 7FDE0214 */  add		r30, r30, r0
lbl_80010820:
/* 00B280 80010820 93DF063C */  stw		r30, 0x63c(r31)
/* 00B284 80010824 38600001 */  li		r3, 1
/* 00B288 80010828 4800001C */  b		lbl_80010844
lbl_8001082C:
/* 00B28C 8001082C 38600000 */  li		r3, 0
/* 00B290 80010830 48000014 */  b		lbl_80010844
lbl_80010834:
/* 00B294 80010834 1C60000C */  mulli	r3, r0, 0xc
/* 00B298 80010838 7C9F1A14 */  add		r4, r31, r3
/* 00B29C 8001083C 388405A0 */  addi	r4, r4, 0x5a0
/* 00B2A0 80010840 4BFFFED0 */  b		lbl_80010710
lbl_80010844:
/* 00B2A4 80010844 BB410018 */  lmw		r26, 0x18(r1)
/* 00B2A8 80010848 80010034 */  lwz		r0, 0x34(r1)
/* 00B2AC 8001084C 38210030 */  addi	r1, r1, 0x30
/* 00B2B0 80010850 7C0803A6 */  mtlr	r0
/* 00B2B4 80010854 4E800020 */  blr		

InitAllMessageQueue:
/* 00B2B8 80010858 7C0802A6 */  mflr	r0
/* 00B2BC 8001085C 3C608010 */  lis		r3, WorkBuffer@ha
/* 00B2C0 80010860 90010004 */  stw		r0, 4(r1)
/* 00B2C4 80010864 9421FFE8 */  stwu	r1, -0x18(r1)
/* 00B2C8 80010868 93E10014 */  stw		r31, 0x14(r1)
/* 00B2CC 8001086C 3BE37AC0 */  addi	r31, r3, WorkBuffer@l
/* 00B2D0 80010870 93C10010 */  stw		r30, 0x10(r1)
/* 00B2D4 80010874 93A1000C */  stw		r29, 0xc(r1)
/* 00B2D8 80010878 93810008 */  stw		r28, 8(r1)
/* 00B2DC 8001087C 801F0650 */  lwz		r0, 0x650(r31)
/* 00B2E0 80010880 2C000000 */  cmpwi	r0, 0
/* 00B2E4 80010884 40820024 */  bne		lbl_800108A8
/* 00B2E8 80010888 3B800000 */  li		r28, 0
/* 00B2EC 8001088C 3BDF05A0 */  addi	r30, r31, 0x5a0
lbl_80010890:
/* 00B2F0 80010890 387E0100 */  addi	r3, r30, 0x100
/* 00B2F4 80010894 48001A3D */  bl		PushFreeReadBuffer
/* 00B2F8 80010898 3B9C0001 */  addi	r28, r28, 1
/* 00B2FC 8001089C 2C1C000A */  cmpwi	r28, 0xa
/* 00B300 800108A0 3BDE000C */  addi	r30, r30, 0xc
/* 00B304 800108A4 4180FFEC */  blt		lbl_80010890
lbl_800108A8:
/* 00B308 800108A8 3BBF05A0 */  addi	r29, r31, 0x5a0
/* 00B30C 800108AC 3BDD0000 */  addi	r30, r29, 0
/* 00B310 800108B0 3B800000 */  li		r28, 0
lbl_800108B4:
/* 00B314 800108B4 387E0178 */  addi	r3, r30, 0x178
/* 00B318 800108B8 48003419 */  bl		PushFreeTextureSet
/* 00B31C 800108BC 3B9C0001 */  addi	r28, r28, 1
/* 00B320 800108C0 2C1C0003 */  cmpwi	r28, 3
/* 00B324 800108C4 3BDE0010 */  addi	r30, r30, 0x10
/* 00B328 800108C8 4180FFEC */  blt		lbl_800108B4
/* 00B32C 800108CC 881F0647 */  lbz		r0, 0x647(r31)
/* 00B330 800108D0 28000000 */  cmplwi	r0, 0
/* 00B334 800108D4 41820020 */  beq		lbl_800108F4
/* 00B338 800108D8 3BC00000 */  li		r30, 0
lbl_800108DC:
/* 00B33C 800108DC 387D01A8 */  addi	r3, r29, 0x1a8
/* 00B340 800108E0 480010E9 */  bl		PushFreeAudioBuffer
/* 00B344 800108E4 3BDE0001 */  addi	r30, r30, 1
/* 00B348 800108E8 2C1E0003 */  cmpwi	r30, 3
/* 00B34C 800108EC 3BBD000C */  addi	r29, r29, 0xc
/* 00B350 800108F0 4180FFEC */  blt		lbl_800108DC
lbl_800108F4:
/* 00B354 800108F4 387F0040 */  addi	r3, r31, 0x40
/* 00B358 800108F8 388D8EFC */  addi	r4, r13, PrepareReadyMessage-_SDA_BASE_
/* 00B35C 800108FC 38A00001 */  li		r5, 1
/* 00B360 80010900 4809A6F5 */  bl		OSInitMessageQueue
/* 00B364 80010904 8001001C */  lwz		r0, 0x1c(r1)
/* 00B368 80010908 83E10014 */  lwz		r31, 0x14(r1)
/* 00B36C 8001090C 83C10010 */  lwz		r30, 0x10(r1)
/* 00B370 80010910 7C0803A6 */  mtlr	r0
/* 00B374 80010914 83A1000C */  lwz		r29, 0xc(r1)
/* 00B378 80010918 83810008 */  lwz		r28, 8(r1)
/* 00B37C 8001091C 38210018 */  addi	r1, r1, 0x18
/* 00B380 80010920 4E800020 */  blr		

glabel PrepareReady
/* 00B384 80010924 7C0802A6 */  mflr	r0
/* 00B388 80010928 3CA08010 */  lis		r5, PrepareReadyQueue@ha
/* 00B38C 8001092C 90010004 */  stw		r0, 4(r1)
/* 00B390 80010930 38830000 */  addi	r4, r3, 0
/* 00B394 80010934 38657B00 */  addi	r3, r5, PrepareReadyQueue@l
/* 00B398 80010938 9421FFF8 */  stwu	r1, -8(r1)
/* 00B39C 8001093C 38A00001 */  li		r5, 1
/* 00B3A0 80010940 4809A715 */  bl		OSSendMessage
/* 00B3A4 80010944 8001000C */  lwz		r0, 0xc(r1)
/* 00B3A8 80010948 38210008 */  addi	r1, r1, 8
/* 00B3AC 8001094C 7C0803A6 */  mtlr	r0
/* 00B3B0 80010950 4E800020 */  blr		

glabel THPPlayerPrepare
/* 00B3B4 80010954 7C0802A6 */  mflr	r0
/* 00B3B8 80010958 3CC08010 */  lis		r6, WorkBuffer@ha
/* 00B3BC 8001095C 90010004 */  stw		r0, 4(r1)
/* 00B3C0 80010960 9421FFD0 */  stwu	r1, -0x30(r1)
/* 00B3C4 80010964 BF410018 */  stmw	r26, 0x18(r1)
/* 00B3C8 80010968 3BC67AC0 */  addi	r30, r6, WorkBuffer@l
/* 00B3CC 8001096C 3CC0800F */  lis		r6, VolumeTable@ha
/* 00B3D0 80010970 3BA30000 */  addi	r29, r3, 0
/* 00B3D4 80010974 3B440000 */  addi	r26, r4, 0
/* 00B3D8 80010978 3B650000 */  addi	r27, r5, 0
/* 00B3DC 8001097C 3BE66308 */  addi	r31, r6, VolumeTable@l
/* 00B3E0 80010980 801E0640 */  lwz		r0, 0x640(r30)
/* 00B3E4 80010984 2C000000 */  cmpwi	r0, 0
/* 00B3E8 80010988 41820228 */  beq		lbl_80010BB0
/* 00B3EC 8001098C 3B9E0644 */  addi	r28, r30, 0x644
/* 00B3F0 80010990 881E0644 */  lbz		r0, 0x644(r30)
/* 00B3F4 80010994 28000000 */  cmplwi	r0, 0
/* 00B3F8 80010998 40820218 */  bne		lbl_80010BB0
/* 00B3FC 8001099C 2C1D0000 */  cmpwi	r29, 0
/* 00B400 800109A0 40810084 */  ble		lbl_80010A24
/* 00B404 800109A4 807E0600 */  lwz		r3, 0x600(r30)
/* 00B408 800109A8 28030000 */  cmplwi	r3, 0
/* 00B40C 800109AC 40820018 */  bne		lbl_800109C4
/* 00B410 800109B0 387F0210 */  addi	r3, r31, 0x210
/* 00B414 800109B4 4CC63182 */  crclr	6
/* 00B418 800109B8 480996B5 */  bl		OSReport
/* 00B41C 800109BC 38600000 */  li		r3, 0
/* 00B420 800109C0 480001F4 */  b		lbl_80010BB4
lbl_800109C4:
/* 00B424 800109C4 801E05F0 */  lwz		r0, 0x5f0(r30)
/* 00B428 800109C8 7C00E840 */  cmplw	r0, r29
/* 00B42C 800109CC 40810044 */  ble		lbl_80010A10
/* 00B430 800109D0 381DFFFF */  addi	r0, r29, -1
/* 00B434 800109D4 5400103A */  slwi	r0, r0, 2
/* 00B438 800109D8 7CC30214 */  add		r6, r3, r0
/* 00B43C 800109DC 389E0000 */  addi	r4, r30, 0
/* 00B440 800109E0 387E05A0 */  addi	r3, r30, 0x5a0
/* 00B444 800109E4 38A00020 */  li		r5, 0x20
/* 00B448 800109E8 48001DAD */  bl		movieDVDRead
/* 00B44C 800109EC 801E0604 */  lwz		r0, 0x604(r30)
/* 00B450 800109F0 807E0000 */  lwz		r3, 0(r30)
/* 00B454 800109F4 7C001A14 */  add		r0, r0, r3
/* 00B458 800109F8 901E0658 */  stw		r0, 0x658(r30)
/* 00B45C 800109FC 93BE0660 */  stw		r29, 0x660(r30)
/* 00B460 80010A00 801E0004 */  lwz		r0, 4(r30)
/* 00B464 80010A04 7C030050 */  subf	r0, r3, r0
/* 00B468 80010A08 901E065C */  stw		r0, 0x65c(r30)
/* 00B46C 80010A0C 4800002C */  b		lbl_80010A38
lbl_80010A10:
/* 00B470 80010A10 387F023C */  addi	r3, r31, 0x23c
/* 00B474 80010A14 4CC63182 */  crclr	6
/* 00B478 80010A18 48099655 */  bl		OSReport
/* 00B47C 80010A1C 38600000 */  li		r3, 0
/* 00B480 80010A20 48000194 */  b		lbl_80010BB4
lbl_80010A24:
/* 00B484 80010A24 801E0604 */  lwz		r0, 0x604(r30)
/* 00B488 80010A28 901E0658 */  stw		r0, 0x658(r30)
/* 00B48C 80010A2C 801E05F4 */  lwz		r0, 0x5f4(r30)
/* 00B490 80010A30 901E065C */  stw		r0, 0x65c(r30)
/* 00B494 80010A34 93BE0660 */  stw		r29, 0x660(r30)
lbl_80010A38:
/* 00B498 80010A38 3BBE0647 */  addi	r29, r30, 0x647
/* 00B49C 80010A3C 881E0647 */  lbz		r0, 0x647(r30)
/* 00B4A0 80010A40 28000000 */  cmplwi	r0, 0
/* 00B4A4 80010A44 41820030 */  beq		lbl_80010A74
/* 00B4A8 80010A48 2C1B0000 */  cmpwi	r27, 0
/* 00B4AC 80010A4C 41800010 */  blt		lbl_80010A5C
/* 00B4B0 80010A50 801E0638 */  lwz		r0, 0x638(r30)
/* 00B4B4 80010A54 7C1B0040 */  cmplw	r27, r0
/* 00B4B8 80010A58 41800018 */  blt		lbl_80010A70
lbl_80010A5C:
/* 00B4BC 80010A5C 387F0270 */  addi	r3, r31, 0x270
/* 00B4C0 80010A60 4CC63182 */  crclr	6
/* 00B4C4 80010A64 48099609 */  bl		OSReport
/* 00B4C8 80010A68 38600000 */  li		r3, 0
/* 00B4CC 80010A6C 48000148 */  b		lbl_80010BB4
lbl_80010A70:
/* 00B4D0 80010A70 937E068C */  stw		r27, 0x68c(r30)
lbl_80010A74:
/* 00B4D4 80010A74 575A07FE */  clrlwi	r26, r26, 0x1f
/* 00B4D8 80010A78 9B5E0646 */  stb		r26, 0x646(r30)
/* 00B4DC 80010A7C 38000000 */  li		r0, 0
/* 00B4E0 80010A80 3BFE0650 */  addi	r31, r30, 0x650
/* 00B4E4 80010A84 901E0678 */  stw		r0, 0x678(r30)
/* 00B4E8 80010A88 801E0650 */  lwz		r0, 0x650(r30)
/* 00B4EC 80010A8C 2C000000 */  cmpwi	r0, 0
/* 00B4F0 80010A90 4182005C */  beq		lbl_80010AEC
/* 00B4F4 80010A94 3B5E0654 */  addi	r26, r30, 0x654
/* 00B4F8 80010A98 80BE05F8 */  lwz		r5, 0x5f8(r30)
/* 00B4FC 80010A9C 3B7E0604 */  addi	r27, r30, 0x604
/* 00B500 80010AA0 809E0654 */  lwz		r4, 0x654(r30)
/* 00B504 80010AA4 80DE0604 */  lwz		r6, 0x604(r30)
/* 00B508 80010AA8 387E05A0 */  addi	r3, r30, 0x5a0
/* 00B50C 80010AAC 48001CE9 */  bl		movieDVDRead
/* 00B510 80010AB0 809A0000 */  lwz		r4, 0(r26)
/* 00B514 80010AB4 38600014 */  li		r3, 0x14
/* 00B518 80010AB8 801E0658 */  lwz		r0, 0x658(r30)
/* 00B51C 80010ABC 80BB0000 */  lwz		r5, 0(r27)
/* 00B520 80010AC0 7C040214 */  add		r0, r4, r0
/* 00B524 80010AC4 7F450050 */  subf	r26, r5, r0
/* 00B528 80010AC8 389A0000 */  addi	r4, r26, 0
/* 00B52C 80010ACC 48002D89 */  bl		CreateVideoDecodeThread
/* 00B530 80010AD0 881D0000 */  lbz		r0, 0(r29)
/* 00B534 80010AD4 28000000 */  cmplwi	r0, 0
/* 00B538 80010AD8 41820040 */  beq		lbl_80010B18
/* 00B53C 80010ADC 3860000C */  li		r3, 0xc
/* 00B540 80010AE0 389A0000 */  addi	r4, r26, 0
/* 00B544 80010AE4 48000BED */  bl		CreateAudioDecodeThread
/* 00B548 80010AE8 48000030 */  b		lbl_80010B18
lbl_80010AEC:
/* 00B54C 80010AEC 38600014 */  li		r3, 0x14
/* 00B550 80010AF0 38800000 */  li		r4, 0
/* 00B554 80010AF4 48002D61 */  bl		CreateVideoDecodeThread
/* 00B558 80010AF8 881D0000 */  lbz		r0, 0(r29)
/* 00B55C 80010AFC 28000000 */  cmplwi	r0, 0
/* 00B560 80010B00 41820010 */  beq		lbl_80010B10
/* 00B564 80010B04 3860000C */  li		r3, 0xc
/* 00B568 80010B08 38800000 */  li		r4, 0
/* 00B56C 80010B0C 48000BC5 */  bl		CreateAudioDecodeThread
lbl_80010B10:
/* 00B570 80010B10 38600008 */  li		r3, 8
/* 00B574 80010B14 48001981 */  bl		CreateReadThread
lbl_80010B18:
/* 00B578 80010B18 4BFFFD41 */  bl		InitAllMessageQueue
/* 00B57C 80010B1C 48002E1D */  bl		VideoDecodeThreadStart
/* 00B580 80010B20 881D0000 */  lbz		r0, 0(r29)
/* 00B584 80010B24 28000000 */  cmplwi	r0, 0
/* 00B588 80010B28 41820008 */  beq		lbl_80010B30
/* 00B58C 80010B2C 48000C85 */  bl		AudioDecodeThreadStart
lbl_80010B30:
/* 00B590 80010B30 801F0000 */  lwz		r0, 0(r31)
/* 00B594 80010B34 2C000000 */  cmpwi	r0, 0
/* 00B598 80010B38 40820008 */  bne		lbl_80010B40
/* 00B59C 80010B3C 48001925 */  bl		ReadThreadStart
lbl_80010B40:
/* 00B5A0 80010B40 387E0040 */  addi	r3, r30, 0x40
/* 00B5A4 80010B44 38810014 */  addi	r4, r1, 0x14
/* 00B5A8 80010B48 38A00001 */  li		r5, 1
/* 00B5AC 80010B4C 4809A5D1 */  bl		OSReceiveMessage
/* 00B5B0 80010B50 80010014 */  lwz		r0, 0x14(r1)
/* 00B5B4 80010B54 2C000000 */  cmpwi	r0, 0
/* 00B5B8 80010B58 4182000C */  beq		lbl_80010B64
/* 00B5BC 80010B5C 38000001 */  li		r0, 1
/* 00B5C0 80010B60 48000008 */  b		lbl_80010B68
lbl_80010B64:
/* 00B5C4 80010B64 38000000 */  li		r0, 0
lbl_80010B68:
/* 00B5C8 80010B68 2C000000 */  cmpwi	r0, 0
/* 00B5CC 80010B6C 4082000C */  bne		lbl_80010B78
/* 00B5D0 80010B70 38600000 */  li		r3, 0
/* 00B5D4 80010B74 48000040 */  b		lbl_80010BB4
lbl_80010B78:
/* 00B5D8 80010B78 38000001 */  li		r0, 1
/* 00B5DC 80010B7C 981C0000 */  stb		r0, 0(r28)
/* 00B5E0 80010B80 38000000 */  li		r0, 0
/* 00B5E4 80010B84 3C608001 */  lis		r3, PlayControl@ha
/* 00B5E8 80010B88 981E0645 */  stb		r0, 0x645(r30)
/* 00B5EC 80010B8C 38630C24 */  addi	r3, r3, PlayControl@l
/* 00B5F0 80010B90 901E0698 */  stw		r0, 0x698(r30)
/* 00B5F4 80010B94 901E069C */  stw		r0, 0x69c(r30)
/* 00B5F8 80010B98 901E0690 */  stw		r0, 0x690(r30)
/* 00B5FC 80010B9C 901E0694 */  stw		r0, 0x694(r30)
/* 00B600 80010BA0 480A105D */  bl		VISetPostRetraceCallback
/* 00B604 80010BA4 906D8F00 */  stw		r3, OldVIPostCallback-_SDA_BASE_(r13)
/* 00B608 80010BA8 38600001 */  li		r3, 1
/* 00B60C 80010BAC 48000008 */  b		lbl_80010BB4
lbl_80010BB0:
/* 00B610 80010BB0 38600000 */  li		r3, 0
lbl_80010BB4:
/* 00B614 80010BB4 BB410018 */  lmw		r26, 0x18(r1)
/* 00B618 80010BB8 80010034 */  lwz		r0, 0x34(r1)
/* 00B61C 80010BBC 38210030 */  addi	r1, r1, 0x30
/* 00B620 80010BC0 7C0803A6 */  mtlr	r0
/* 00B624 80010BC4 4E800020 */  blr		

glabel THPPlayerPlay
/* 00B628 80010BC8 3C608010 */  lis		r3, WorkBuffer@ha
/* 00B62C 80010BCC 38A37AC0 */  addi	r5, r3, WorkBuffer@l
/* 00B630 80010BD0 80050640 */  lwz		r0, 0x640(r5)
/* 00B634 80010BD4 2C000000 */  cmpwi	r0, 0
/* 00B638 80010BD8 41820044 */  beq		lbl_80010C1C
/* 00B63C 80010BDC 38650644 */  addi	r3, r5, 0x644
/* 00B640 80010BE0 88050644 */  lbz		r0, 0x644(r5)
/* 00B644 80010BE4 28000001 */  cmplwi	r0, 1
/* 00B648 80010BE8 4182000C */  beq		lbl_80010BF4
/* 00B64C 80010BEC 28000004 */  cmplwi	r0, 4
/* 00B650 80010BF0 4082002C */  bne		lbl_80010C1C
lbl_80010BF4:
/* 00B654 80010BF4 38000002 */  li		r0, 2
/* 00B658 80010BF8 98030000 */  stb		r0, 0(r3)
/* 00B65C 80010BFC 38800000 */  li		r4, 0
/* 00B660 80010C00 3800FFFF */  li		r0, -1
/* 00B664 80010C04 90850670 */  stw		r4, 0x670(r5)
/* 00B668 80010C08 38600001 */  li		r3, 1
/* 00B66C 80010C0C 90850674 */  stw		r4, 0x674(r5)
/* 00B670 80010C10 9005066C */  stw		r0, 0x66c(r5)
/* 00B674 80010C14 90050668 */  stw		r0, 0x668(r5)
/* 00B678 80010C18 4E800020 */  blr		
lbl_80010C1C:
/* 00B67C 80010C1C 38600000 */  li		r3, 0
/* 00B680 80010C20 4E800020 */  blr		

PlayControl:
/* 00B684 80010C24 7C0802A6 */  mflr	r0
/* 00B688 80010C28 3C808010 */  lis		r4, WorkBuffer@ha
/* 00B68C 80010C2C 90010004 */  stw		r0, 4(r1)
/* 00B690 80010C30 9421FFE0 */  stwu	r1, -0x20(r1)
/* 00B694 80010C34 93E1001C */  stw		r31, 0x1c(r1)
/* 00B698 80010C38 3BE47AC0 */  addi	r31, r4, WorkBuffer@l
/* 00B69C 80010C3C 93C10018 */  stw		r30, 0x18(r1)
/* 00B6A0 80010C40 93A10014 */  stw		r29, 0x14(r1)
/* 00B6A4 80010C44 93810010 */  stw		r28, 0x10(r1)
/* 00B6A8 80010C48 818D8F00 */  lwz		r12, OldVIPostCallback-_SDA_BASE_(r13)
/* 00B6AC 80010C4C 280C0000 */  cmplwi	r12, 0
/* 00B6B0 80010C50 4182000C */  beq		lbl_80010C5C
/* 00B6B4 80010C54 7D8803A6 */  mtlr	r12
/* 00B6B8 80010C58 4E800021 */  blrl	
lbl_80010C5C:
/* 00B6BC 80010C5C 801F0640 */  lwz		r0, 0x640(r31)
/* 00B6C0 80010C60 3BA0FFFF */  li		r29, -1
/* 00B6C4 80010C64 2C000000 */  cmpwi	r0, 0
/* 00B6C8 80010C68 41820238 */  beq		lbl_80010EA0
/* 00B6CC 80010C6C 3BDF0644 */  addi	r30, r31, 0x644
/* 00B6D0 80010C70 881F0644 */  lbz		r0, 0x644(r31)
/* 00B6D4 80010C74 28000002 */  cmplwi	r0, 2
/* 00B6D8 80010C78 40820228 */  bne		lbl_80010EA0
/* 00B6DC 80010C7C 801F0648 */  lwz		r0, 0x648(r31)
/* 00B6E0 80010C80 2C000000 */  cmpwi	r0, 0
/* 00B6E4 80010C84 40820010 */  bne		lbl_80010C94
/* 00B6E8 80010C88 801F064C */  lwz		r0, 0x64c(r31)
/* 00B6EC 80010C8C 2C000000 */  cmpwi	r0, 0
/* 00B6F0 80010C90 41820014 */  beq		lbl_80010CA4
lbl_80010C94:
/* 00B6F4 80010C94 38000005 */  li		r0, 5
/* 00B6F8 80010C98 981F0645 */  stb		r0, 0x645(r31)
/* 00B6FC 80010C9C 981E0000 */  stb		r0, 0(r30)
/* 00B700 80010CA0 48000200 */  b		lbl_80010EA0
lbl_80010CA4:
/* 00B704 80010CA4 801F066C */  lwz		r0, 0x66c(r31)
/* 00B708 80010CA8 38A00001 */  li		r5, 1
/* 00B70C 80010CAC 807F0668 */  lwz		r3, 0x668(r31)
/* 00B710 80010CB0 38800000 */  li		r4, 0
/* 00B714 80010CB4 7C002814 */  addc	r0, r0, r5
/* 00B718 80010CB8 901F066C */  stw		r0, 0x66c(r31)
/* 00B71C 80010CBC 7C032114 */  adde	r0, r3, r4
/* 00B720 80010CC0 3B9F0668 */  addi	r28, r31, 0x668
/* 00B724 80010CC4 901F0668 */  stw		r0, 0x668(r31)
/* 00B728 80010CC8 80DF0668 */  lwz		r6, 0x668(r31)
/* 00B72C 80010CCC 80FF066C */  lwz		r7, 0x66c(r31)
/* 00B730 80010CD0 7CC02278 */  xor		r0, r6, r4
/* 00B734 80010CD4 7CE32278 */  xor		r3, r7, r4
/* 00B738 80010CD8 7C600379 */  or.		r0, r3, r0
/* 00B73C 80010CDC 40820088 */  bne		lbl_80010D64
/* 00B740 80010CE0 480001E1 */  bl		ProperTimingForStart
/* 00B744 80010CE4 2C030000 */  cmpwi	r3, 0
/* 00B748 80010CE8 4182006C */  beq		lbl_80010D54
/* 00B74C 80010CEC 881F0647 */  lbz		r0, 0x647(r31)
/* 00B750 80010CF0 28000000 */  cmplwi	r0, 0
/* 00B754 80010CF4 41820050 */  beq		lbl_80010D44
/* 00B758 80010CF8 3B9F0690 */  addi	r28, r31, 0x690
/* 00B75C 80010CFC 807F0694 */  lwz		r3, 0x694(r31)
/* 00B760 80010D00 801F0690 */  lwz		r0, 0x690(r31)
/* 00B764 80010D04 7C030050 */  subf	r0, r3, r0
/* 00B768 80010D08 2C000001 */  cmpwi	r0, 1
/* 00B76C 80010D0C 4181002C */  bgt		lbl_80010D38
/* 00B770 80010D10 38600000 */  li		r3, 0
/* 00B774 80010D14 48002FED */  bl		PopDecodedTextureSet
/* 00B778 80010D18 809F0678 */  lwz		r4, 0x678(r31)
/* 00B77C 80010D1C 3BA30000 */  addi	r29, r3, 0
/* 00B780 80010D20 3804FFFF */  addi	r0, r4, -1
/* 00B784 80010D24 901F0678 */  stw		r0, 0x678(r31)
/* 00B788 80010D28 807C0000 */  lwz		r3, 0(r28)
/* 00B78C 80010D2C 38030001 */  addi	r0, r3, 1
/* 00B790 80010D30 901C0000 */  stw		r0, 0(r28)
/* 00B794 80010D34 480000AC */  b		lbl_80010DE0
lbl_80010D38:
/* 00B798 80010D38 38000002 */  li		r0, 2
/* 00B79C 80010D3C 981F0645 */  stb		r0, 0x645(r31)
/* 00B7A0 80010D40 480000A0 */  b		lbl_80010DE0
lbl_80010D44:
/* 00B7A4 80010D44 38600000 */  li		r3, 0
/* 00B7A8 80010D48 48002FB9 */  bl		PopDecodedTextureSet
/* 00B7AC 80010D4C 7C7D1B78 */  mr		r29, r3
/* 00B7B0 80010D50 48000090 */  b		lbl_80010DE0
lbl_80010D54:
/* 00B7B4 80010D54 3800FFFF */  li		r0, -1
/* 00B7B8 80010D58 901C0004 */  stw		r0, 4(r28)
/* 00B7BC 80010D5C 901C0000 */  stw		r0, 0(r28)
/* 00B7C0 80010D60 48000080 */  b		lbl_80010DE0
lbl_80010D64:
/* 00B7C4 80010D64 7CE32A78 */  xor		r3, r7, r5
/* 00B7C8 80010D68 7CC02278 */  xor		r0, r6, r4
/* 00B7CC 80010D6C 7C600379 */  or.		r0, r3, r0
/* 00B7D0 80010D70 4082000C */  bne		lbl_80010D7C
/* 00B7D4 80010D74 38000002 */  li		r0, 2
/* 00B7D8 80010D78 981F0645 */  stb		r0, 0x645(r31)
lbl_80010D7C:
/* 00B7DC 80010D7C 480001B1 */  bl		ProperTimingForGettingNextFrame
/* 00B7E0 80010D80 2C030000 */  cmpwi	r3, 0
/* 00B7E4 80010D84 4182005C */  beq		lbl_80010DE0
/* 00B7E8 80010D88 881F0647 */  lbz		r0, 0x647(r31)
/* 00B7EC 80010D8C 28000000 */  cmplwi	r0, 0
/* 00B7F0 80010D90 41820044 */  beq		lbl_80010DD4
/* 00B7F4 80010D94 3B9F0690 */  addi	r28, r31, 0x690
/* 00B7F8 80010D98 807F0694 */  lwz		r3, 0x694(r31)
/* 00B7FC 80010D9C 801F0690 */  lwz		r0, 0x690(r31)
/* 00B800 80010DA0 7C030050 */  subf	r0, r3, r0
/* 00B804 80010DA4 2C000001 */  cmpwi	r0, 1
/* 00B808 80010DA8 41810038 */  bgt		lbl_80010DE0
/* 00B80C 80010DAC 38600000 */  li		r3, 0
/* 00B810 80010DB0 48002F51 */  bl		PopDecodedTextureSet
/* 00B814 80010DB4 809F0678 */  lwz		r4, 0x678(r31)
/* 00B818 80010DB8 3BA30000 */  addi	r29, r3, 0
/* 00B81C 80010DBC 3804FFFF */  addi	r0, r4, -1
/* 00B820 80010DC0 901F0678 */  stw		r0, 0x678(r31)
/* 00B824 80010DC4 807C0000 */  lwz		r3, 0(r28)
/* 00B828 80010DC8 38030001 */  addi	r0, r3, 1
/* 00B82C 80010DCC 901C0000 */  stw		r0, 0(r28)
/* 00B830 80010DD0 48000010 */  b		lbl_80010DE0
lbl_80010DD4:
/* 00B834 80010DD4 38600000 */  li		r3, 0
/* 00B838 80010DD8 48002F29 */  bl		PopDecodedTextureSet
/* 00B83C 80010DDC 7C7D1B78 */  mr		r29, r3
lbl_80010DE0:
/* 00B840 80010DE0 281D0000 */  cmplwi	r29, 0
/* 00B844 80010DE4 41820028 */  beq		lbl_80010E0C
/* 00B848 80010DE8 3C1D0001 */  addis	r0, r29, 1
/* 00B84C 80010DEC 2800FFFF */  cmplwi	r0, 0xffff
/* 00B850 80010DF0 4182001C */  beq		lbl_80010E0C
/* 00B854 80010DF4 3B9F0698 */  addi	r28, r31, 0x698
/* 00B858 80010DF8 807F0698 */  lwz		r3, 0x698(r31)
/* 00B85C 80010DFC 28030000 */  cmplwi	r3, 0
/* 00B860 80010E00 41820008 */  beq		lbl_80010E08
/* 00B864 80010E04 48000319 */  bl		PushUsedTextureSet
lbl_80010E08:
/* 00B868 80010E08 93BC0000 */  stw		r29, 0(r28)
lbl_80010E0C:
/* 00B86C 80010E0C 881F0646 */  lbz		r0, 0x646(r31)
/* 00B870 80010E10 540007FF */  clrlwi.	r0, r0, 0x1f
/* 00B874 80010E14 4082008C */  bne		lbl_80010EA0
/* 00B878 80010E18 881F0647 */  lbz		r0, 0x647(r31)
/* 00B87C 80010E1C 28000000 */  cmplwi	r0, 0
/* 00B880 80010E20 41820038 */  beq		lbl_80010E58
/* 00B884 80010E24 809F0694 */  lwz		r4, 0x694(r31)
/* 00B888 80010E28 807F0660 */  lwz		r3, 0x660(r31)
/* 00B88C 80010E2C 801F05F0 */  lwz		r0, 0x5f0(r31)
/* 00B890 80010E30 7C641A14 */  add		r3, r4, r3
/* 00B894 80010E34 7C030040 */  cmplw	r3, r0
/* 00B898 80010E38 40820068 */  bne		lbl_80010EA0
/* 00B89C 80010E3C 801F069C */  lwz		r0, 0x69c(r31)
/* 00B8A0 80010E40 28000000 */  cmplwi	r0, 0
/* 00B8A4 80010E44 4082005C */  bne		lbl_80010EA0
/* 00B8A8 80010E48 38000003 */  li		r0, 3
/* 00B8AC 80010E4C 981F0645 */  stb		r0, 0x645(r31)
/* 00B8B0 80010E50 981E0000 */  stb		r0, 0(r30)
/* 00B8B4 80010E54 4800004C */  b		lbl_80010EA0
lbl_80010E58:
/* 00B8B8 80010E58 807F0698 */  lwz		r3, 0x698(r31)
/* 00B8BC 80010E5C 28030000 */  cmplwi	r3, 0
/* 00B8C0 80010E60 41820014 */  beq		lbl_80010E74
/* 00B8C4 80010E64 8063000C */  lwz		r3, 0xc(r3)
/* 00B8C8 80010E68 801F0660 */  lwz		r0, 0x660(r31)
/* 00B8CC 80010E6C 7C830214 */  add		r4, r3, r0
/* 00B8D0 80010E70 4800000C */  b		lbl_80010E7C
lbl_80010E74:
/* 00B8D4 80010E74 807F0660 */  lwz		r3, 0x660(r31)
/* 00B8D8 80010E78 3883FFFF */  addi	r4, r3, -1
lbl_80010E7C:
/* 00B8DC 80010E7C 807F05F0 */  lwz		r3, 0x5f0(r31)
/* 00B8E0 80010E80 3803FFFF */  addi	r0, r3, -1
/* 00B8E4 80010E84 7C040040 */  cmplw	r4, r0
/* 00B8E8 80010E88 40820018 */  bne		lbl_80010EA0
/* 00B8EC 80010E8C 281D0000 */  cmplwi	r29, 0
/* 00B8F0 80010E90 40820010 */  bne		lbl_80010EA0
/* 00B8F4 80010E94 38000003 */  li		r0, 3
/* 00B8F8 80010E98 981F0645 */  stb		r0, 0x645(r31)
/* 00B8FC 80010E9C 981E0000 */  stb		r0, 0(r30)
lbl_80010EA0:
/* 00B900 80010EA0 80010024 */  lwz		r0, 0x24(r1)
/* 00B904 80010EA4 83E1001C */  lwz		r31, 0x1c(r1)
/* 00B908 80010EA8 83C10018 */  lwz		r30, 0x18(r1)
/* 00B90C 80010EAC 7C0803A6 */  mtlr	r0
/* 00B910 80010EB0 83A10014 */  lwz		r29, 0x14(r1)
/* 00B914 80010EB4 83810010 */  lwz		r28, 0x10(r1)
/* 00B918 80010EB8 38210020 */  addi	r1, r1, 0x20
/* 00B91C 80010EBC 4E800020 */  blr		

ProperTimingForStart:
/* 00B920 80010EC0 7C0802A6 */  mflr	r0
/* 00B924 80010EC4 3C608011 */  lis		r3, ActivePlayer@ha
/* 00B928 80010EC8 90010004 */  stw		r0, 4(r1)
/* 00B92C 80010ECC 38638060 */  addi	r3, r3, ActivePlayer@l
/* 00B930 80010ED0 9421FFF8 */  stwu	r1, -8(r1)
/* 00B934 80010ED4 80630088 */  lwz		r3, 0x88(r3)
/* 00B938 80010ED8 546007FF */  clrlwi.	r0, r3, 0x1f
/* 00B93C 80010EDC 41820018 */  beq		lbl_80010EF4
/* 00B940 80010EE0 480A245D */  bl		VIGetNextField
/* 00B944 80010EE4 28030000 */  cmplwi	r3, 0
/* 00B948 80010EE8 40820030 */  bne		lbl_80010F18
/* 00B94C 80010EEC 38600001 */  li		r3, 1
/* 00B950 80010EF0 4800002C */  b		lbl_80010F1C
lbl_80010EF4:
/* 00B954 80010EF4 546007BD */  rlwinm.	r0, r3, 0, 0x1e, 0x1e
/* 00B958 80010EF8 41820018 */  beq		lbl_80010F10
/* 00B95C 80010EFC 480A2441 */  bl		VIGetNextField
/* 00B960 80010F00 28030001 */  cmplwi	r3, 1
/* 00B964 80010F04 40820014 */  bne		lbl_80010F18
/* 00B968 80010F08 38600001 */  li		r3, 1
/* 00B96C 80010F0C 48000010 */  b		lbl_80010F1C
lbl_80010F10:
/* 00B970 80010F10 38600001 */  li		r3, 1
/* 00B974 80010F14 48000008 */  b		lbl_80010F1C
lbl_80010F18:
/* 00B978 80010F18 38600000 */  li		r3, 0
lbl_80010F1C:
/* 00B97C 80010F1C 8001000C */  lwz		r0, 0xc(r1)
/* 00B980 80010F20 38210008 */  addi	r1, r1, 8
/* 00B984 80010F24 7C0803A6 */  mtlr	r0
/* 00B988 80010F28 4E800020 */  blr		

ProperTimingForGettingNextFrame:
/* 00B98C 80010F2C 7C0802A6 */  mflr	r0
/* 00B990 80010F30 3C608010 */  lis		r3, WorkBuffer@ha
/* 00B994 80010F34 90010004 */  stw		r0, 4(r1)
/* 00B998 80010F38 9421FFE8 */  stwu	r1, -0x18(r1)
/* 00B99C 80010F3C 93E10014 */  stw		r31, 0x14(r1)
/* 00B9A0 80010F40 3BE37AC0 */  addi	r31, r3, WorkBuffer@l
/* 00B9A4 80010F44 93C10010 */  stw		r30, 0x10(r1)
/* 00B9A8 80010F48 807F0628 */  lwz		r3, 0x628(r31)
/* 00B9AC 80010F4C 546007FF */  clrlwi.	r0, r3, 0x1f
/* 00B9B0 80010F50 41820018 */  beq		lbl_80010F68
/* 00B9B4 80010F54 480A23E9 */  bl		VIGetNextField
/* 00B9B8 80010F58 28030000 */  cmplwi	r3, 0
/* 00B9BC 80010F5C 408200D8 */  bne		lbl_80011034
/* 00B9C0 80010F60 38600001 */  li		r3, 1
/* 00B9C4 80010F64 480000D4 */  b		lbl_80011038
lbl_80010F68:
/* 00B9C8 80010F68 546007BD */  rlwinm.	r0, r3, 0, 0x1e, 0x1e
/* 00B9CC 80010F6C 41820018 */  beq		lbl_80010F84
/* 00B9D0 80010F70 480A23CD */  bl		VIGetNextField
/* 00B9D4 80010F74 28030001 */  cmplwi	r3, 1
/* 00B9D8 80010F78 408200BC */  bne		lbl_80011034
/* 00B9DC 80010F7C 38600001 */  li		r3, 1
/* 00B9E0 80010F80 480000B8 */  b		lbl_80011038
lbl_80010F84:
/* 00B9E4 80010F84 C022805C */  lfs		f1, D_8014603C-_SDA2_BASE_(r2)
/* 00B9E8 80010F88 C01F05EC */  lfs		f0, 0x5ec(r31)
/* 00B9EC 80010F8C EC010032 */  fmuls	f0, f1, f0
/* 00B9F0 80010F90 FC00001E */  fctiwz	f0, f0
/* 00B9F4 80010F94 D8010008 */  stfd	f0, 8(r1)
/* 00B9F8 80010F98 83C1000C */  lwz		r30, 0xc(r1)
/* 00B9FC 80010F9C 480A24D5 */  bl		VIGetTvFormat
/* 00BA00 80010FA0 28030001 */  cmplwi	r3, 1
/* 00BA04 80010FA4 4082003C */  bne		lbl_80010FE0
/* 00BA08 80010FA8 80DF066C */  lwz		r6, 0x66c(r31)
/* 00BA0C 80010FAC 7FC4FE70 */  srawi	r4, r30, 0x1f
/* 00BA10 80010FB0 807F0668 */  lwz		r3, 0x668(r31)
/* 00BA14 80010FB4 38A00000 */  li		r5, 0
/* 00BA18 80010FB8 7C06F016 */  mulhwu	r0, r6, r30
/* 00BA1C 80010FBC 7C63F1D6 */  mullw	r3, r3, r30
/* 00BA20 80010FC0 7C630214 */  add		r3, r3, r0
/* 00BA24 80010FC4 7C0621D6 */  mullw	r0, r6, r4
/* 00BA28 80010FC8 7C86F1D6 */  mullw	r4, r6, r30
/* 00BA2C 80010FCC 7C630214 */  add		r3, r3, r0
/* 00BA30 80010FD0 38C01388 */  li		r6, 0x1388
/* 00BA34 80010FD4 480C8BD5 */  bl		__div2i
/* 00BA38 80010FD8 909F0674 */  stw		r4, 0x674(r31)
/* 00BA3C 80010FDC 48000038 */  b		lbl_80011014
lbl_80010FE0:
/* 00BA40 80010FE0 80DF066C */  lwz		r6, 0x66c(r31)
/* 00BA44 80010FE4 7FC4FE70 */  srawi	r4, r30, 0x1f
/* 00BA48 80010FE8 807F0668 */  lwz		r3, 0x668(r31)
/* 00BA4C 80010FEC 38A00000 */  li		r5, 0
/* 00BA50 80010FF0 7C06F016 */  mulhwu	r0, r6, r30
/* 00BA54 80010FF4 7C63F1D6 */  mullw	r3, r3, r30
/* 00BA58 80010FF8 7C630214 */  add		r3, r3, r0
/* 00BA5C 80010FFC 7C0621D6 */  mullw	r0, r6, r4
/* 00BA60 80011000 7C86F1D6 */  mullw	r4, r6, r30
/* 00BA64 80011004 7C630214 */  add		r3, r3, r0
/* 00BA68 80011008 38C0176A */  li		r6, 0x176a
/* 00BA6C 8001100C 480C8B9D */  bl		__div2i
/* 00BA70 80011010 909F0674 */  stw		r4, 0x674(r31)
lbl_80011014:
/* 00BA74 80011014 389F0670 */  addi	r4, r31, 0x670
/* 00BA78 80011018 807F0674 */  lwz		r3, 0x674(r31)
/* 00BA7C 8001101C 801F0670 */  lwz		r0, 0x670(r31)
/* 00BA80 80011020 7C001800 */  cmpw	r0, r3
/* 00BA84 80011024 41820010 */  beq		lbl_80011034
/* 00BA88 80011028 90640000 */  stw		r3, 0(r4)
/* 00BA8C 8001102C 38600001 */  li		r3, 1
/* 00BA90 80011030 48000008 */  b		lbl_80011038
lbl_80011034:
/* 00BA94 80011034 38600000 */  li		r3, 0
lbl_80011038:
/* 00BA98 80011038 8001001C */  lwz		r0, 0x1c(r1)
/* 00BA9C 8001103C 83E10014 */  lwz		r31, 0x14(r1)
/* 00BAA0 80011040 83C10010 */  lwz		r30, 0x10(r1)
/* 00BAA4 80011044 7C0803A6 */  mtlr	r0
/* 00BAA8 80011048 38210018 */  addi	r1, r1, 0x18
/* 00BAAC 8001104C 4E800020 */  blr		

glabel THPPlayerDrawCurrentFrame
/* 00BAB0 80011050 7C0802A6 */  mflr	r0
/* 00BAB4 80011054 3D008010 */  lis		r8, WorkBuffer@ha
/* 00BAB8 80011058 90010004 */  stw		r0, 4(r1)
/* 00BABC 8001105C 9421FFC0 */  stwu	r1, -0x40(r1)
/* 00BAC0 80011060 BF410028 */  stmw	r26, 0x28(r1)
/* 00BAC4 80011064 3BE87AC0 */  addi	r31, r8, WorkBuffer@l
/* 00BAC8 80011068 3B440000 */  addi	r26, r4, 0
/* 00BACC 8001106C 3B650000 */  addi	r27, r5, 0
/* 00BAD0 80011070 3B860000 */  addi	r28, r6, 0
/* 00BAD4 80011074 3BA70000 */  addi	r29, r7, 0
/* 00BAD8 80011078 801F0640 */  lwz		r0, 0x640(r31)
/* 00BADC 8001107C 2C000000 */  cmpwi	r0, 0
/* 00BAE0 80011080 41820084 */  beq		lbl_80011104
/* 00BAE4 80011084 881F0644 */  lbz		r0, 0x644(r31)
/* 00BAE8 80011088 28000000 */  cmplwi	r0, 0
/* 00BAEC 8001108C 41820078 */  beq		lbl_80011104
/* 00BAF0 80011090 3BDF0698 */  addi	r30, r31, 0x698
/* 00BAF4 80011094 801F0698 */  lwz		r0, 0x698(r31)
/* 00BAF8 80011098 28000000 */  cmplwi	r0, 0
/* 00BAFC 8001109C 41820068 */  beq		lbl_80011104
/* 00BB00 800110A0 48000AE5 */  bl		THPGXYuv2RgbSetup
/* 00BB04 800110A4 80BE0000 */  lwz		r5, 0(r30)
/* 00BB08 800110A8 7FA00734 */  extsh	r0, r29
/* 00BB0C 800110AC 7F460734 */  extsh	r6, r26
/* 00BB10 800110B0 90010008 */  stw		r0, 8(r1)
/* 00BB14 800110B4 7F670734 */  extsh	r7, r27
/* 00BB18 800110B8 7F8A0734 */  extsh	r10, r28
/* 00BB1C 800110BC 809F0620 */  lwz		r4, 0x620(r31)
/* 00BB20 800110C0 801F0624 */  lwz		r0, 0x624(r31)
/* 00BB24 800110C4 80650000 */  lwz		r3, 0(r5)
/* 00BB28 800110C8 7C880734 */  extsh	r8, r4
/* 00BB2C 800110CC 80850004 */  lwz		r4, 4(r5)
/* 00BB30 800110D0 7C090734 */  extsh	r9, r0
/* 00BB34 800110D4 80A50008 */  lwz		r5, 8(r5)
/* 00BB38 800110D8 48000FB1 */  bl		THPGXYuv2RgbDraw
/* 00BB3C 800110DC 48000991 */  bl		THPGXRestore
/* 00BB40 800110E0 807E0000 */  lwz		r3, 0(r30)
/* 00BB44 800110E4 801F0660 */  lwz		r0, 0x660(r31)
/* 00BB48 800110E8 8083000C */  lwz		r4, 0xc(r3)
/* 00BB4C 800110EC 807F05F0 */  lwz		r3, 0x5f0(r31)
/* 00BB50 800110F0 7C840214 */  add		r4, r4, r0
/* 00BB54 800110F4 7C041B96 */  divwu	r0, r4, r3
/* 00BB58 800110F8 7C0019D6 */  mullw	r0, r0, r3
/* 00BB5C 800110FC 7C602050 */  subf	r3, r0, r4
/* 00BB60 80011100 48000008 */  b		lbl_80011108
lbl_80011104:
/* 00BB64 80011104 3860FFFF */  li		r3, -1
lbl_80011108:
/* 00BB68 80011108 BB410028 */  lmw		r26, 0x28(r1)
/* 00BB6C 8001110C 80010044 */  lwz		r0, 0x44(r1)
/* 00BB70 80011110 38210040 */  addi	r1, r1, 0x40
/* 00BB74 80011114 7C0803A6 */  mtlr	r0
/* 00BB78 80011118 4E800020 */  blr		

PushUsedTextureSet:
/* 00BB7C 8001111C 7C0802A6 */  mflr	r0
/* 00BB80 80011120 3CA08010 */  lis		r5, UsedTextureSetQueue@ha
/* 00BB84 80011124 90010004 */  stw		r0, 4(r1)
/* 00BB88 80011128 38830000 */  addi	r4, r3, 0
/* 00BB8C 8001112C 38657B20 */  addi	r3, r5, UsedTextureSetQueue@l
/* 00BB90 80011130 9421FFF8 */  stwu	r1, -8(r1)
/* 00BB94 80011134 38A00000 */  li		r5, 0
/* 00BB98 80011138 48099F1D */  bl		OSSendMessage
/* 00BB9C 8001113C 8001000C */  lwz		r0, 0xc(r1)
/* 00BBA0 80011140 38210008 */  addi	r1, r1, 8
/* 00BBA4 80011144 7C0803A6 */  mtlr	r0
/* 00BBA8 80011148 4E800020 */  blr		

glabel THPPlayerDrawDone
/* 00BBAC 8001114C 7C0802A6 */  mflr	r0
/* 00BBB0 80011150 90010004 */  stw		r0, 4(r1)
/* 00BBB4 80011154 9421FFE8 */  stwu	r1, -0x18(r1)
/* 00BBB8 80011158 93E10014 */  stw		r31, 0x14(r1)
/* 00BBBC 8001115C 800D8EF8 */  lwz		r0, Initialized-_SDA_BASE_(r13)
/* 00BBC0 80011160 2C000000 */  cmpwi	r0, 0
/* 00BBC4 80011164 41820044 */  beq		lbl_800111A8
/* 00BBC8 80011168 3C608010 */  lis		r3, UsedTextureSetQueue@ha
/* 00BBCC 8001116C 3BE37B20 */  addi	r31, r3, UsedTextureSetQueue@l
lbl_80011170:
/* 00BBD0 80011170 387F0000 */  addi	r3, r31, 0
/* 00BBD4 80011174 38810008 */  addi	r4, r1, 8
/* 00BBD8 80011178 38A00000 */  li		r5, 0
/* 00BBDC 8001117C 48099FA1 */  bl		OSReceiveMessage
/* 00BBE0 80011180 2C030001 */  cmpwi	r3, 1
/* 00BBE4 80011184 4082000C */  bne		lbl_80011190
/* 00BBE8 80011188 80010008 */  lwz		r0, 8(r1)
/* 00BBEC 8001118C 48000008 */  b		lbl_80011194
lbl_80011190:
/* 00BBF0 80011190 38000000 */  li		r0, 0
lbl_80011194:
/* 00BBF4 80011194 28000000 */  cmplwi	r0, 0
/* 00BBF8 80011198 7C030378 */  mr		r3, r0
/* 00BBFC 8001119C 4182000C */  beq		lbl_800111A8
/* 00BC00 800111A0 48002B31 */  bl		PushFreeTextureSet
/* 00BC04 800111A4 4BFFFFCC */  b		lbl_80011170
lbl_800111A8:
/* 00BC08 800111A8 8001001C */  lwz		r0, 0x1c(r1)
/* 00BC0C 800111AC 83E10014 */  lwz		r31, 0x14(r1)
/* 00BC10 800111B0 38210018 */  addi	r1, r1, 0x18
/* 00BC14 800111B4 7C0803A6 */  mtlr	r0
/* 00BC18 800111B8 4E800020 */  blr		

THPAudioMixCallback:
/* 00BC1C 800111BC 7C0802A6 */  mflr	r0
/* 00BC20 800111C0 3C608010 */  lis		r3, WorkBuffer@ha
/* 00BC24 800111C4 90010004 */  stw		r0, 4(r1)
/* 00BC28 800111C8 9421FFF0 */  stwu	r1, -0x10(r1)
/* 00BC2C 800111CC 93E1000C */  stw		r31, 0xc(r1)
/* 00BC30 800111D0 3BE37AC0 */  addi	r31, r3, WorkBuffer@l
/* 00BC34 800111D4 93C10008 */  stw		r30, 8(r1)
/* 00BC38 800111D8 800D8F14 */  lwz		r0, AudioSystem-_SDA_BASE_(r13)
/* 00BC3C 800111DC 2C000000 */  cmpwi	r0, 0
/* 00BC40 800111E0 40820070 */  bne		lbl_80011250
/* 00BC44 800111E4 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BC48 800111E8 38800280 */  li		r4, 0x280
/* 00BC4C 800111EC 68000001 */  xori	r0, r0, 1
/* 00BC50 800111F0 900D8F04 */  stw		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BC54 800111F4 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BC58 800111F8 1C000280 */  mulli	r0, r0, 0x280
/* 00BC5C 800111FC 7C7F0214 */  add		r3, r31, r0
/* 00BC60 80011200 386300A0 */  addi	r3, r3, 0xa0
/* 00BC64 80011204 480B2F51 */  bl		AIInitDMA
/* 00BC68 80011208 4809957D */  bl		OSEnableInterrupts
/* 00BC6C 8001120C 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BC70 80011210 3BC30000 */  addi	r30, r3, 0
/* 00BC74 80011214 38800000 */  li		r4, 0
/* 00BC78 80011218 1C000280 */  mulli	r0, r0, 0x280
/* 00BC7C 8001121C 7C7F0214 */  add		r3, r31, r0
/* 00BC80 80011220 38A000A0 */  li		r5, 0xa0
/* 00BC84 80011224 386300A0 */  addi	r3, r3, 0xa0
/* 00BC88 80011228 4800010D */  bl		MixAudio
/* 00BC8C 8001122C 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BC90 80011230 38800280 */  li		r4, 0x280
/* 00BC94 80011234 1C000280 */  mulli	r0, r0, 0x280
/* 00BC98 80011238 7C7F0214 */  add		r3, r31, r0
/* 00BC9C 8001123C 386300A0 */  addi	r3, r3, 0xa0
/* 00BCA0 80011240 48097FB1 */  bl		DCFlushRange
/* 00BCA4 80011244 7FC3F378 */  mr		r3, r30
/* 00BCA8 80011248 48099551 */  bl		OSRestoreInterrupts
/* 00BCAC 8001124C 480000D0 */  b		lbl_8001131C
lbl_80011250:
/* 00BCB0 80011250 2C000001 */  cmpwi	r0, 1
/* 00BCB4 80011254 40820030 */  bne		lbl_80011284
/* 00BCB8 80011258 800D8F0C */  lwz		r0, LastAudioBuffer-_SDA_BASE_(r13)
/* 00BCBC 8001125C 28000000 */  cmplwi	r0, 0
/* 00BCC0 80011260 41820008 */  beq		lbl_80011268
/* 00BCC4 80011264 900D8F10 */  stw		r0, CurAudioBuffer-_SDA_BASE_(r13)
lbl_80011268:
/* 00BCC8 80011268 818D8F08 */  lwz		r12, OldAIDCallback-_SDA_BASE_(r13)
/* 00BCCC 8001126C 7D8803A6 */  mtlr	r12
/* 00BCD0 80011270 4E800021 */  blrl	
/* 00BCD4 80011274 480B2FB9 */  bl		AIGetDMAStartAddr
/* 00BCD8 80011278 3C038000 */  addis	r0, r3, 0x8000
/* 00BCDC 8001127C 900D8F0C */  stw		r0, LastAudioBuffer-_SDA_BASE_(r13)
/* 00BCE0 80011280 4800001C */  b		lbl_8001129C
lbl_80011284:
/* 00BCE4 80011284 818D8F08 */  lwz		r12, OldAIDCallback-_SDA_BASE_(r13)
/* 00BCE8 80011288 7D8803A6 */  mtlr	r12
/* 00BCEC 8001128C 4E800021 */  blrl	
/* 00BCF0 80011290 480B2F9D */  bl		AIGetDMAStartAddr
/* 00BCF4 80011294 3C038000 */  addis	r0, r3, 0x8000
/* 00BCF8 80011298 900D8F10 */  stw		r0, CurAudioBuffer-_SDA_BASE_(r13)
lbl_8001129C:
/* 00BCFC 8001129C 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BD00 800112A0 38800280 */  li		r4, 0x280
/* 00BD04 800112A4 68000001 */  xori	r0, r0, 1
/* 00BD08 800112A8 900D8F04 */  stw		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BD0C 800112AC 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BD10 800112B0 1C000280 */  mulli	r0, r0, 0x280
/* 00BD14 800112B4 7C7F0214 */  add		r3, r31, r0
/* 00BD18 800112B8 386300A0 */  addi	r3, r3, 0xa0
/* 00BD1C 800112BC 480B2E99 */  bl		AIInitDMA
/* 00BD20 800112C0 480994C5 */  bl		OSEnableInterrupts
/* 00BD24 800112C4 800D8F10 */  lwz		r0, CurAudioBuffer-_SDA_BASE_(r13)
/* 00BD28 800112C8 3BC30000 */  addi	r30, r3, 0
/* 00BD2C 800112CC 28000000 */  cmplwi	r0, 0
/* 00BD30 800112D0 41820010 */  beq		lbl_800112E0
/* 00BD34 800112D4 7C030378 */  mr		r3, r0
/* 00BD38 800112D8 38800280 */  li		r4, 0x280
/* 00BD3C 800112DC 48097EE9 */  bl		DCInvalidateRange
lbl_800112E0:
/* 00BD40 800112E0 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BD44 800112E4 38A000A0 */  li		r5, 0xa0
/* 00BD48 800112E8 808D8F10 */  lwz		r4, CurAudioBuffer-_SDA_BASE_(r13)
/* 00BD4C 800112EC 1C000280 */  mulli	r0, r0, 0x280
/* 00BD50 800112F0 7C7F0214 */  add		r3, r31, r0
/* 00BD54 800112F4 386300A0 */  addi	r3, r3, 0xa0
/* 00BD58 800112F8 4800003D */  bl		MixAudio
/* 00BD5C 800112FC 800D8F04 */  lwz		r0, SoundBufferIndex-_SDA_BASE_(r13)
/* 00BD60 80011300 38800280 */  li		r4, 0x280
/* 00BD64 80011304 1C000280 */  mulli	r0, r0, 0x280
/* 00BD68 80011308 7C7F0214 */  add		r3, r31, r0
/* 00BD6C 8001130C 386300A0 */  addi	r3, r3, 0xa0
/* 00BD70 80011310 48097EE1 */  bl		DCFlushRange
/* 00BD74 80011314 7FC3F378 */  mr		r3, r30
/* 00BD78 80011318 48099481 */  bl		OSRestoreInterrupts
lbl_8001131C:
/* 00BD7C 8001131C 80010014 */  lwz		r0, 0x14(r1)
/* 00BD80 80011320 83E1000C */  lwz		r31, 0xc(r1)
/* 00BD84 80011324 83C10008 */  lwz		r30, 8(r1)
/* 00BD88 80011328 7C0803A6 */  mtlr	r0
/* 00BD8C 8001132C 38210010 */  addi	r1, r1, 0x10
/* 00BD90 80011330 4E800020 */  blr		

MixAudio:
/* 00BD94 80011334 7C0802A6 */  mflr	r0
/* 00BD98 80011338 28040000 */  cmplwi	r4, 0
/* 00BD9C 8001133C 90010004 */  stw		r0, 4(r1)
/* 00BDA0 80011340 3CC08010 */  lis		r6, WorkBuffer@ha
/* 00BDA4 80011344 9421FFC0 */  stwu	r1, -0x40(r1)
/* 00BDA8 80011348 BF210024 */  stmw	r25, 0x24(r1)
/* 00BDAC 8001134C 3BC67AC0 */  addi	r30, r6, WorkBuffer@l
/* 00BDB0 80011350 418201C4 */  beq		lbl_80011514
/* 00BDB4 80011354 801E0640 */  lwz		r0, 0x640(r30)
/* 00BDB8 80011358 2C000000 */  cmpwi	r0, 0
/* 00BDBC 8001135C 418201AC */  beq		lbl_80011508
/* 00BDC0 80011360 881E0645 */  lbz		r0, 0x645(r30)
/* 00BDC4 80011364 28000002 */  cmplwi	r0, 2
/* 00BDC8 80011368 408201A0 */  bne		lbl_80011508
/* 00BDCC 8001136C 881E0647 */  lbz		r0, 0x647(r30)
/* 00BDD0 80011370 28000000 */  cmplwi	r0, 0
/* 00BDD4 80011374 41820194 */  beq		lbl_80011508
/* 00BDD8 80011378 3CC0800F */  lis		r6, VolumeTable@ha
/* 00BDDC 8001137C 3B450000 */  addi	r26, r5, 0
/* 00BDE0 80011380 3B630000 */  addi	r27, r3, 0
/* 00BDE4 80011384 3B240000 */  addi	r25, r4, 0
/* 00BDE8 80011388 3B9E0688 */  addi	r28, r30, 0x688
/* 00BDEC 8001138C 3BE66308 */  addi	r31, r6, VolumeTable@l
/* 00BDF0 80011390 3BBE069C */  addi	r29, r30, 0x69c
lbl_80011394:
/* 00BDF4 80011394 801D0000 */  lwz		r0, 0(r29)
/* 00BDF8 80011398 28000000 */  cmplwi	r0, 0
/* 00BDFC 8001139C 40820038 */  bne		lbl_800113D4
/* 00BE00 800113A0 38600000 */  li		r3, 0
/* 00BE04 800113A4 48000655 */  bl		PopDecodedAudioBuffer
/* 00BE08 800113A8 28030000 */  cmplwi	r3, 0
/* 00BE0C 800113AC 907D0000 */  stw		r3, 0(r29)
/* 00BE10 800113B0 40820018 */  bne		lbl_800113C8
/* 00BE14 800113B4 387B0000 */  addi	r3, r27, 0
/* 00BE18 800113B8 38990000 */  addi	r4, r25, 0
/* 00BE1C 800113BC 5745103A */  slwi	r5, r26, 2
/* 00BE20 800113C0 4BFF4105 */  bl		memcpy
/* 00BE24 800113C4 480002F8 */  b		lbl_800116BC
lbl_800113C8:
/* 00BE28 800113C8 807E0694 */  lwz		r3, 0x694(r30)
/* 00BE2C 800113CC 38030001 */  addi	r0, r3, 1
/* 00BE30 800113D0 901E0694 */  stw		r0, 0x694(r30)
lbl_800113D4:
/* 00BE34 800113D4 807D0000 */  lwz		r3, 0(r29)
/* 00BE38 800113D8 80030008 */  lwz		r0, 8(r3)
/* 00BE3C 800113DC 28000000 */  cmplwi	r0, 0
/* 00BE40 800113E0 4182FFB4 */  beq		lbl_80011394
/* 00BE44 800113E4 7C00D040 */  cmplw	r0, r26
/* 00BE48 800113E8 41800008 */  blt		lbl_800113F0
/* 00BE4C 800113EC 7F40D378 */  mr		r0, r26
lbl_800113F0:
/* 00BE50 800113F0 28000000 */  cmplwi	r0, 0
/* 00BE54 800113F4 7C0903A6 */  mtctr	r0
/* 00BE58 800113F8 80630004 */  lwz		r3, 4(r3)
/* 00BE5C 800113FC 408100C8 */  ble		lbl_800114C4
lbl_80011400:
/* 00BE60 80011400 809C0000 */  lwz		r4, 0(r28)
/* 00BE64 80011404 2C040000 */  cmpwi	r4, 0
/* 00BE68 80011408 41820020 */  beq		lbl_80011428
/* 00BE6C 8001140C 3884FFFF */  addi	r4, r4, -1
/* 00BE70 80011410 909C0000 */  stw		r4, 0(r28)
/* 00BE74 80011414 C03E067C */  lfs		f1, 0x67c(r30)
/* 00BE78 80011418 C01E0684 */  lfs		f0, 0x684(r30)
/* 00BE7C 8001141C EC01002A */  fadds	f0, f1, f0
/* 00BE80 80011420 D01E067C */  stfs	f0, 0x67c(r30)
/* 00BE84 80011424 4800000C */  b		lbl_80011430
lbl_80011428:
/* 00BE88 80011428 C01E0680 */  lfs		f0, 0x680(r30)
/* 00BE8C 8001142C D01E067C */  stfs	f0, 0x67c(r30)
lbl_80011430:
/* 00BE90 80011430 C01E067C */  lfs		f0, 0x67c(r30)
/* 00BE94 80011434 A8830000 */  lha		r4, 0(r3)
/* 00BE98 80011438 FC00001E */  fctiwz	f0, f0
/* 00BE9C 8001143C A8B90000 */  lha		r5, 0(r25)
/* 00BEA0 80011440 D8010018 */  stfd	f0, 0x18(r1)
/* 00BEA4 80011444 80C1001C */  lwz		r6, 0x1c(r1)
/* 00BEA8 80011448 54C6083C */  slwi	r6, r6, 1
/* 00BEAC 8001144C 7CDF3214 */  add		r6, r31, r6
/* 00BEB0 80011450 A0C60000 */  lhz		r6, 0(r6)
/* 00BEB4 80011454 7C8621D6 */  mullw	r4, r6, r4
/* 00BEB8 80011458 7C847E70 */  srawi	r4, r4, 0xf
/* 00BEBC 8001145C 7C852214 */  add		r4, r5, r4
/* 00BEC0 80011460 2C048000 */  cmpwi	r4, -32768
/* 00BEC4 80011464 40800008 */  bge		lbl_8001146C
/* 00BEC8 80011468 38808000 */  li		r4, -32768
lbl_8001146C:
/* 00BECC 8001146C 2C047FFF */  cmpwi	r4, 0x7fff
/* 00BED0 80011470 40810008 */  ble		lbl_80011478
/* 00BED4 80011474 38807FFF */  li		r4, 0x7fff
lbl_80011478:
/* 00BED8 80011478 7C840734 */  extsh	r4, r4
/* 00BEDC 8001147C B09B0000 */  sth		r4, 0(r27)
/* 00BEE0 80011480 A8830002 */  lha		r4, 2(r3)
/* 00BEE4 80011484 A8B90002 */  lha		r5, 2(r25)
/* 00BEE8 80011488 7C8621D6 */  mullw	r4, r6, r4
/* 00BEEC 8001148C 7C847E70 */  srawi	r4, r4, 0xf
/* 00BEF0 80011490 7C852214 */  add		r4, r5, r4
/* 00BEF4 80011494 2C048000 */  cmpwi	r4, -32768
/* 00BEF8 80011498 40800008 */  bge		lbl_800114A0
/* 00BEFC 8001149C 38808000 */  li		r4, -32768
lbl_800114A0:
/* 00BF00 800114A0 2C047FFF */  cmpwi	r4, 0x7fff
/* 00BF04 800114A4 40810008 */  ble		lbl_800114AC
/* 00BF08 800114A8 38807FFF */  li		r4, 0x7fff
lbl_800114AC:
/* 00BF0C 800114AC 7C840734 */  extsh	r4, r4
/* 00BF10 800114B0 B09B0002 */  sth		r4, 2(r27)
/* 00BF14 800114B4 3B7B0004 */  addi	r27, r27, 4
/* 00BF18 800114B8 3B390004 */  addi	r25, r25, 4
/* 00BF1C 800114BC 38630004 */  addi	r3, r3, 4
/* 00BF20 800114C0 4200FF40 */  bdnz	lbl_80011400
lbl_800114C4:
/* 00BF24 800114C4 80BD0000 */  lwz		r5, 0(r29)
/* 00BF28 800114C8 7F40D050 */  subf	r26, r0, r26
/* 00BF2C 800114CC 80850008 */  lwz		r4, 8(r5)
/* 00BF30 800114D0 7C002050 */  subf	r0, r0, r4
/* 00BF34 800114D4 90050008 */  stw		r0, 8(r5)
/* 00BF38 800114D8 809D0000 */  lwz		r4, 0(r29)
/* 00BF3C 800114DC 90640004 */  stw		r3, 4(r4)
/* 00BF40 800114E0 807D0000 */  lwz		r3, 0(r29)
/* 00BF44 800114E4 80030008 */  lwz		r0, 8(r3)
/* 00BF48 800114E8 28000000 */  cmplwi	r0, 0
/* 00BF4C 800114EC 40820010 */  bne		lbl_800114FC
/* 00BF50 800114F0 480004D9 */  bl		PushFreeAudioBuffer
/* 00BF54 800114F4 38000000 */  li		r0, 0
/* 00BF58 800114F8 901D0000 */  stw		r0, 0(r29)
lbl_800114FC:
/* 00BF5C 800114FC 281A0000 */  cmplwi	r26, 0
/* 00BF60 80011500 418201BC */  beq		lbl_800116BC
/* 00BF64 80011504 4BFFFE90 */  b		lbl_80011394
lbl_80011508:
/* 00BF68 80011508 54A5103A */  slwi	r5, r5, 2
/* 00BF6C 8001150C 4BFF3FB9 */  bl		memcpy
/* 00BF70 80011510 480001AC */  b		lbl_800116BC
lbl_80011514:
/* 00BF74 80011514 801E0640 */  lwz		r0, 0x640(r30)
/* 00BF78 80011518 2C000000 */  cmpwi	r0, 0
/* 00BF7C 8001151C 41820194 */  beq		lbl_800116B0
/* 00BF80 80011520 881E0645 */  lbz		r0, 0x645(r30)
/* 00BF84 80011524 28000002 */  cmplwi	r0, 2
/* 00BF88 80011528 40820188 */  bne		lbl_800116B0
/* 00BF8C 8001152C 881E0647 */  lbz		r0, 0x647(r30)
/* 00BF90 80011530 28000000 */  cmplwi	r0, 0
/* 00BF94 80011534 4182017C */  beq		lbl_800116B0
/* 00BF98 80011538 3C80800F */  lis		r4, VolumeTable@ha
/* 00BF9C 8001153C 3B650000 */  addi	r27, r5, 0
/* 00BFA0 80011540 3B430000 */  addi	r26, r3, 0
/* 00BFA4 80011544 3BBE0688 */  addi	r29, r30, 0x688
/* 00BFA8 80011548 3BE46308 */  addi	r31, r4, VolumeTable@l
/* 00BFAC 8001154C 3B9E069C */  addi	r28, r30, 0x69c
lbl_80011550:
/* 00BFB0 80011550 801C0000 */  lwz		r0, 0(r28)
/* 00BFB4 80011554 28000000 */  cmplwi	r0, 0
/* 00BFB8 80011558 40820038 */  bne		lbl_80011590
/* 00BFBC 8001155C 38600000 */  li		r3, 0
/* 00BFC0 80011560 48000499 */  bl		PopDecodedAudioBuffer
/* 00BFC4 80011564 28030000 */  cmplwi	r3, 0
/* 00BFC8 80011568 907C0000 */  stw		r3, 0(r28)
/* 00BFCC 8001156C 40820018 */  bne		lbl_80011584
/* 00BFD0 80011570 387A0000 */  addi	r3, r26, 0
/* 00BFD4 80011574 5765103A */  slwi	r5, r27, 2
/* 00BFD8 80011578 38800000 */  li		r4, 0
/* 00BFDC 8001157C 4BFF3E55 */  bl		memset
/* 00BFE0 80011580 4800013C */  b		lbl_800116BC
lbl_80011584:
/* 00BFE4 80011584 807E0694 */  lwz		r3, 0x694(r30)
/* 00BFE8 80011588 38030001 */  addi	r0, r3, 1
/* 00BFEC 8001158C 901E0694 */  stw		r0, 0x694(r30)
lbl_80011590:
/* 00BFF0 80011590 807C0000 */  lwz		r3, 0(r28)
/* 00BFF4 80011594 80830008 */  lwz		r4, 8(r3)
/* 00BFF8 80011598 28040000 */  cmplwi	r4, 0
/* 00BFFC 8001159C 4182FFB4 */  beq		lbl_80011550
/* 00C000 800115A0 7C04D840 */  cmplw	r4, r27
/* 00C004 800115A4 41800008 */  blt		lbl_800115AC
/* 00C008 800115A8 7F64DB78 */  mr		r4, r27
lbl_800115AC:
/* 00C00C 800115AC 28040000 */  cmplwi	r4, 0
/* 00C010 800115B0 7C8903A6 */  mtctr	r4
/* 00C014 800115B4 80A30004 */  lwz		r5, 4(r3)
/* 00C018 800115B8 408100B4 */  ble		lbl_8001166C
lbl_800115BC:
/* 00C01C 800115BC 807D0000 */  lwz		r3, 0(r29)
/* 00C020 800115C0 2C030000 */  cmpwi	r3, 0
/* 00C024 800115C4 41820020 */  beq		lbl_800115E4
/* 00C028 800115C8 3803FFFF */  addi	r0, r3, -1
/* 00C02C 800115CC 901D0000 */  stw		r0, 0(r29)
/* 00C030 800115D0 C03E067C */  lfs		f1, 0x67c(r30)
/* 00C034 800115D4 C01E0684 */  lfs		f0, 0x684(r30)
/* 00C038 800115D8 EC01002A */  fadds	f0, f1, f0
/* 00C03C 800115DC D01E067C */  stfs	f0, 0x67c(r30)
/* 00C040 800115E0 4800000C */  b		lbl_800115EC
lbl_800115E4:
/* 00C044 800115E4 C01E0680 */  lfs		f0, 0x680(r30)
/* 00C048 800115E8 D01E067C */  stfs	f0, 0x67c(r30)
lbl_800115EC:
/* 00C04C 800115EC C01E067C */  lfs		f0, 0x67c(r30)
/* 00C050 800115F0 A8050000 */  lha		r0, 0(r5)
/* 00C054 800115F4 FC00001E */  fctiwz	f0, f0
/* 00C058 800115F8 D8010018 */  stfd	f0, 0x18(r1)
/* 00C05C 800115FC 8061001C */  lwz		r3, 0x1c(r1)
/* 00C060 80011600 5463083C */  slwi	r3, r3, 1
/* 00C064 80011604 7C7F1A14 */  add		r3, r31, r3
/* 00C068 80011608 A0630000 */  lhz		r3, 0(r3)
/* 00C06C 8001160C 7C0301D6 */  mullw	r0, r3, r0
/* 00C070 80011610 7C007E70 */  srawi	r0, r0, 0xf
/* 00C074 80011614 2C008000 */  cmpwi	r0, -32768
/* 00C078 80011618 40800008 */  bge		lbl_80011620
/* 00C07C 8001161C 38008000 */  li		r0, -32768
lbl_80011620:
/* 00C080 80011620 2C007FFF */  cmpwi	r0, 0x7fff
/* 00C084 80011624 40810008 */  ble		lbl_8001162C
/* 00C088 80011628 38007FFF */  li		r0, 0x7fff
lbl_8001162C:
/* 00C08C 8001162C 7C000734 */  extsh	r0, r0
/* 00C090 80011630 B01A0000 */  sth		r0, 0(r26)
/* 00C094 80011634 A8050002 */  lha		r0, 2(r5)
/* 00C098 80011638 7C0301D6 */  mullw	r0, r3, r0
/* 00C09C 8001163C 7C007E70 */  srawi	r0, r0, 0xf
/* 00C0A0 80011640 2C008000 */  cmpwi	r0, -32768
/* 00C0A4 80011644 40800008 */  bge		lbl_8001164C
/* 00C0A8 80011648 38008000 */  li		r0, -32768
lbl_8001164C:
/* 00C0AC 8001164C 2C007FFF */  cmpwi	r0, 0x7fff
/* 00C0B0 80011650 40810008 */  ble		lbl_80011658
/* 00C0B4 80011654 38007FFF */  li		r0, 0x7fff
lbl_80011658:
/* 00C0B8 80011658 7C000734 */  extsh	r0, r0
/* 00C0BC 8001165C B01A0002 */  sth		r0, 2(r26)
/* 00C0C0 80011660 3B5A0004 */  addi	r26, r26, 4
/* 00C0C4 80011664 38A50004 */  addi	r5, r5, 4
/* 00C0C8 80011668 4200FF54 */  bdnz	lbl_800115BC
lbl_8001166C:
/* 00C0CC 8001166C 807C0000 */  lwz		r3, 0(r28)
/* 00C0D0 80011670 7F64D850 */  subf	r27, r4, r27
/* 00C0D4 80011674 80030008 */  lwz		r0, 8(r3)
/* 00C0D8 80011678 7C040050 */  subf	r0, r4, r0
/* 00C0DC 8001167C 90030008 */  stw		r0, 8(r3)
/* 00C0E0 80011680 807C0000 */  lwz		r3, 0(r28)
/* 00C0E4 80011684 90A30004 */  stw		r5, 4(r3)
/* 00C0E8 80011688 807C0000 */  lwz		r3, 0(r28)
/* 00C0EC 8001168C 80030008 */  lwz		r0, 8(r3)
/* 00C0F0 80011690 28000000 */  cmplwi	r0, 0
/* 00C0F4 80011694 40820010 */  bne		lbl_800116A4
/* 00C0F8 80011698 48000331 */  bl		PushFreeAudioBuffer
/* 00C0FC 8001169C 38000000 */  li		r0, 0
/* 00C100 800116A0 901C0000 */  stw		r0, 0(r28)
lbl_800116A4:
/* 00C104 800116A4 281B0000 */  cmplwi	r27, 0
/* 00C108 800116A8 41820014 */  beq		lbl_800116BC
/* 00C10C 800116AC 4BFFFEA4 */  b		lbl_80011550
lbl_800116B0:
/* 00C110 800116B0 54A5103A */  slwi	r5, r5, 2
/* 00C114 800116B4 38800000 */  li		r4, 0
/* 00C118 800116B8 4BFF3D19 */  bl		memset
lbl_800116BC:
/* 00C11C 800116BC BB210024 */  lmw		r25, 0x24(r1)
/* 00C120 800116C0 80010044 */  lwz		r0, 0x44(r1)
/* 00C124 800116C4 38210040 */  addi	r1, r1, 0x40
/* 00C128 800116C8 7C0803A6 */  mtlr	r0
/* 00C12C 800116CC 4E800020 */  blr		


.section .data, "wa"

.balign 8

/* 000F3388 800F6308 0100 */
VolumeTable:
    .long 0x00000002, 0x00080012, 0x00200032, 0x00490063, 0x008200A4, 0x00CB00F5, 0x01240157, 0x018E01C9, 0x0208024B, 0x029202DD, 0x032C037F, 0x03D70432, 0x049204F5, 0x055D05C9, 0x063806AC, 0x072407A0
    .long 0x082008A4, 0x092C09B8, 0x0A480ADD, 0x0B750C12, 0x0CB20D57, 0x0DFF0EAC, 0x0F5D1012, 0x10CA1187, 0x1248130D, 0x13D714A4, 0x1575164A, 0x17241801, 0x18E319C8, 0x1AB21BA0, 0x1C911D87, 0x1E811F7F
    .long 0x20812187, 0x2291239F, 0x24B225C8, 0x26E22801, 0x29232A4A, 0x2B752CA3, 0x2DD62F0D, 0x30483187, 0x32CA3411, 0x355C36AB, 0x37FF3956, 0x3AB13C11, 0x3D743EDC, 0x404841B7, 0x432B44A3, 0x461F479F
    .long 0x49234AAB, 0x4C374DC7, 0x4F5C50F4, 0x52905431, 0x55D6577E, 0x592B5ADC, 0x5C905E49, 0x600661C7, 0x638C6555, 0x672268F4, 0x6AC96CA2, 0x6E807061, 0x72477430, 0x761E7810, 0x7A067C00, 0x7DFE8000

.balign 4

/* 000F3488 800F6408 003C */
D_800F6408:
    .asciz "Pleae call AXInit or sndInit before you call THPPlayerInit\n"

.balign 4

/* 000F34C4 800F6444 003B */
D_800F6444:
    .asciz "You must call THPPlayerInit before you call this function\n"

.balign 4

/* 000F3500 800F6480 0035 */
D_800F6480:
    .asciz "Can't open %s because a thp file is already opened.\n"

.balign 4

/* 000F3538 800F64B8 0010 */
D_800F64B8:
    .asciz "Can't open %s.\n"

.balign 4

/* 000F3548 800F64C8 001E */
D_800F64C8:
    .asciz "This file is not a THP file.\n"

.balign 4

/* 000F3568 800F64E8 0012 */
D_800F64E8:
    .asciz "invalid version.\n"

.balign 4

/* 000F357C 800F64FC 001B */
D_800F64FC:
    .asciz "Unknown frame components.\n"

.balign 4

/* 000F3598 800F6518 002C */
D_800F6518:
    .asciz "This thp file doesn't have the offset data\n"

.balign 4

/* 000F35C4 800F6544 0033 */
D_800F6544:
    .asciz "Specified frame number is over total frame number\n"

.balign 4

/* 000F35F8 800F6578 0029 */
D_800F6578:
    .asciz "Specified audio track number is invalid\n"


.section .bss, "wa"

.balign 4

/* 000FFB40 80102AC0 5000 */
glabel gpErrorMessageBuffer
    .skip 20480

.balign 4

/* 00104B40 80107AC0 0040 */
WorkBuffer:
    .skip 64

.balign 4

/* 00104B80 80107B00 0020 */
PrepareReadyQueue:
    .skip 32

.balign 4

/* 00104BA0 80107B20 0020 */
UsedTextureSetQueue:
    .skip 32

.balign 4

/* 00104BC0 80107B40 000C */
UsedTextureSetMessage:
    .skip 12

.balign 32

/* 00104BE0 80107B60 0500 */
SoundBuffer:
    .skip 1280

.balign 4

/* 001050E0 80108060 01D0 */
glabel ActivePlayer
    .skip 464


.section .sdata, "wa"

.balign 8

/* 000FF320 80144AC0 0004 */
D_80144AC0:
    .asciz "THP"


.section .sbss, "wa"

.balign 8

/* 00100138 801458D8 0004 */
Initialized:
    .skip 4

.balign 4

/* 0010013C 801458DC 0004 */
PrepareReadyMessage:
    .skip 4

.balign 4

/* 00100140 801458E0 0004 */
OldVIPostCallback:
    .skip 4

.balign 4

/* 00100144 801458E4 0004 */
SoundBufferIndex:
    .skip 4

.balign 4

/* 00100148 801458E8 0004 */
OldAIDCallback:
    .skip 4

.balign 4

/* 0010014C 801458EC 0004 */
LastAudioBuffer:
    .skip 4

.balign 4

/* 00100150 801458F0 0004 */
CurAudioBuffer:
    .skip 4

.balign 4

/* 00100154 801458F4 0004 */
AudioSystem:
    .skip 4


.section .sdata2, "wa"

.balign 8

/* 001000F8 80146038 0004 */
D_80146038:
    .float 127.0

.balign 4

/* 001000FC 8014603C 0004 */
D_8014603C:
    .float 100.0


