# DEMOInit.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel DEMOInit
/* 0BC988 800C1F28 7C0802A6 */  mflr	r0
/* 0BC98C 800C1F2C 90010004 */  stw		r0, 4(r1)
/* 0BC990 800C1F30 9421FFE8 */  stwu	r1, -0x18(r1)
/* 0BC994 800C1F34 93E10014 */  stw		r31, 0x14(r1)
/* 0BC998 800C1F38 7C7F1B78 */  mr		r31, r3
/* 0BC99C 800C1F3C 4BFE59BD */  bl		OSInit
/* 0BC9A0 800C1F40 4BFFCD35 */  bl		DVDInit
/* 0BC9A4 800C1F44 4BFEFF9D */  bl		VIInit
/* 0BC9A8 800C1F48 4800139D */  bl		DEMOPadInit
/* 0BC9AC 800C1F4C 7FE3FB78 */  mr		r3, r31
/* 0BC9B0 800C1F50 4800004D */  bl		__DEMOInitRenderMode
/* 0BC9B4 800C1F54 4800019D */  bl		__DEMOInitMem
/* 0BC9B8 800C1F58 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BC9BC 800C1F5C 4BFF08FD */  bl		VIConfigure
/* 0BC9C0 800C1F60 806D8D00 */  lwz		r3, __OSCurrHeap-_SDA_BASE_(r13)
/* 0BC9C4 800C1F64 3C800004 */  lis		r4, 4
/* 0BC9C8 800C1F68 4BFE69D1 */  bl		OSAllocFromHeap
/* 0BC9CC 800C1F6C 906D9378 */  stw		r3, DefaultFifo-_SDA_BASE_(r13)
/* 0BC9D0 800C1F70 3C800004 */  lis		r4, 4
/* 0BC9D4 800C1F74 806D9378 */  lwz		r3, DefaultFifo-_SDA_BASE_(r13)
/* 0BC9D8 800C1F78 4BFF2031 */  bl		GXInit
/* 0BC9DC 800C1F7C 906D937C */  stw		r3, DefaultFifoObj-_SDA_BASE_(r13)
/* 0BC9E0 800C1F80 48000245 */  bl		__DEMOInitGX
/* 0BC9E4 800C1F84 4800035D */  bl		__DEMOInitVI
/* 0BC9E8 800C1F88 8001001C */  lwz		r0, 0x1c(r1)
/* 0BC9EC 800C1F8C 83E10014 */  lwz		r31, 0x14(r1)
/* 0BC9F0 800C1F90 38210018 */  addi	r1, r1, 0x18
/* 0BC9F4 800C1F94 7C0803A6 */  mtlr	r0
/* 0BC9F8 800C1F98 4E800020 */  blr		

__DEMOInitRenderMode:
/* 0BC9FC 800C1F9C 7C0802A6 */  mflr	r0
/* 0BCA00 800C1FA0 28030000 */  cmplwi	r3, 0
/* 0BCA04 800C1FA4 90010004 */  stw		r0, 4(r1)
/* 0BCA08 800C1FA8 3C808014 */  lis		r4, rmodeobj@ha
/* 0BCA0C 800C1FAC 9421FFE8 */  stwu	r1, -0x18(r1)
/* 0BCA10 800C1FB0 93E10014 */  stw		r31, 0x14(r1)
/* 0BCA14 800C1FB4 3BE423C8 */  addi	r31, r4, rmodeobj@l
/* 0BCA18 800C1FB8 41820084 */  beq		lbl_800C203C
/* 0BCA1C 800C1FBC 80830000 */  lwz		r4, 0(r3)
/* 0BCA20 800C1FC0 80030004 */  lwz		r0, 4(r3)
/* 0BCA24 800C1FC4 909F0000 */  stw		r4, 0(r31)
/* 0BCA28 800C1FC8 901F0004 */  stw		r0, 4(r31)
/* 0BCA2C 800C1FCC 80830008 */  lwz		r4, 8(r3)
/* 0BCA30 800C1FD0 8003000C */  lwz		r0, 0xc(r3)
/* 0BCA34 800C1FD4 909F0008 */  stw		r4, 8(r31)
/* 0BCA38 800C1FD8 901F000C */  stw		r0, 0xc(r31)
/* 0BCA3C 800C1FDC 80830010 */  lwz		r4, 0x10(r3)
/* 0BCA40 800C1FE0 80030014 */  lwz		r0, 0x14(r3)
/* 0BCA44 800C1FE4 909F0010 */  stw		r4, 0x10(r31)
/* 0BCA48 800C1FE8 901F0014 */  stw		r0, 0x14(r31)
/* 0BCA4C 800C1FEC 80830018 */  lwz		r4, 0x18(r3)
/* 0BCA50 800C1FF0 8003001C */  lwz		r0, 0x1c(r3)
/* 0BCA54 800C1FF4 909F0018 */  stw		r4, 0x18(r31)
/* 0BCA58 800C1FF8 901F001C */  stw		r0, 0x1c(r31)
/* 0BCA5C 800C1FFC 80830020 */  lwz		r4, 0x20(r3)
/* 0BCA60 800C2000 80030024 */  lwz		r0, 0x24(r3)
/* 0BCA64 800C2004 909F0020 */  stw		r4, 0x20(r31)
/* 0BCA68 800C2008 901F0024 */  stw		r0, 0x24(r31)
/* 0BCA6C 800C200C 80830028 */  lwz		r4, 0x28(r3)
/* 0BCA70 800C2010 8003002C */  lwz		r0, 0x2c(r3)
/* 0BCA74 800C2014 909F0028 */  stw		r4, 0x28(r31)
/* 0BCA78 800C2018 901F002C */  stw		r0, 0x2c(r31)
/* 0BCA7C 800C201C 80830030 */  lwz		r4, 0x30(r3)
/* 0BCA80 800C2020 80030034 */  lwz		r0, 0x34(r3)
/* 0BCA84 800C2024 909F0030 */  stw		r4, 0x30(r31)
/* 0BCA88 800C2028 901F0034 */  stw		r0, 0x34(r31)
/* 0BCA8C 800C202C 80030038 */  lwz		r0, 0x38(r3)
/* 0BCA90 800C2030 901F0038 */  stw		r0, 0x38(r31)
/* 0BCA94 800C2034 93ED9380 */  stw		r31, rmode-_SDA_BASE_(r13)
/* 0BCA98 800C2038 480000A4 */  b		lbl_800C20DC
lbl_800C203C:
/* 0BCA9C 800C203C 4BFF1435 */  bl		VIGetTvFormat
/* 0BCAA0 800C2040 2C030002 */  cmpwi	r3, 2
/* 0BCAA4 800C2044 41820054 */  beq		lbl_800C2098
/* 0BCAA8 800C2048 40800014 */  bge		lbl_800C205C
/* 0BCAAC 800C204C 2C030000 */  cmpwi	r3, 0
/* 0BCAB0 800C2050 41820018 */  beq		lbl_800C2068
/* 0BCAB4 800C2054 40800024 */  bge		lbl_800C2078
/* 0BCAB8 800C2058 48000050 */  b		lbl_800C20A8
lbl_800C205C:
/* 0BCABC 800C205C 2C030005 */  cmpwi	r3, 5
/* 0BCAC0 800C2060 41820028 */  beq		lbl_800C2088
/* 0BCAC4 800C2064 48000044 */  b		lbl_800C20A8
lbl_800C2068:
/* 0BCAC8 800C2068 3C608010 */  lis		r3, GXNtsc480IntDf@ha
/* 0BCACC 800C206C 3803FEC0 */  addi	r0, r3, GXNtsc480IntDf@l
/* 0BCAD0 800C2070 900D9380 */  stw		r0, rmode-_SDA_BASE_(r13)
/* 0BCAD4 800C2074 48000050 */  b		lbl_800C20C4
lbl_800C2078:
/* 0BCAD8 800C2078 3C608010 */  lis		r3, GXPal528IntDf@ha
/* 0BCADC 800C207C 3803FF74 */  addi	r0, r3, GXPal528IntDf@l
/* 0BCAE0 800C2080 900D9380 */  stw		r0, rmode-_SDA_BASE_(r13)
/* 0BCAE4 800C2084 48000040 */  b		lbl_800C20C4
lbl_800C2088:
/* 0BCAE8 800C2088 3C608010 */  lis		r3, GXEurgb60Hz480IntDf@ha
/* 0BCAEC 800C208C 3803FFB0 */  addi	r0, r3, GXEurgb60Hz480IntDf@l
/* 0BCAF0 800C2090 900D9380 */  stw		r0, rmode-_SDA_BASE_(r13)
/* 0BCAF4 800C2094 48000030 */  b		lbl_800C20C4
lbl_800C2098:
/* 0BCAF8 800C2098 3C608010 */  lis		r3, GXMpal480IntDf@ha
/* 0BCAFC 800C209C 3803FF38 */  addi	r0, r3, GXMpal480IntDf@l
/* 0BCB00 800C20A0 900D9380 */  stw		r0, rmode-_SDA_BASE_(r13)
/* 0BCB04 800C20A4 48000020 */  b		lbl_800C20C4
lbl_800C20A8:
/* 0BCB08 800C20A8 3C608010 */  lis		r3, D_80100980@ha
/* 0BCB0C 800C20AC 4CC63182 */  crclr	6
/* 0BCB10 800C20B0 3C808010 */  lis		r4, D_8010098C@ha
/* 0BCB14 800C20B4 38A4098C */  addi	r5, r4, D_8010098C@l
/* 0BCB18 800C20B8 38630980 */  addi	r3, r3, D_80100980@l
/* 0BCB1C 800C20BC 388001D6 */  li		r4, 0x1d6
/* 0BCB20 800C20C0 4BFE802D */  bl		OSPanic
lbl_800C20C4:
/* 0BCB24 800C20C4 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BCB28 800C20C8 389F0000 */  addi	r4, r31, 0
/* 0BCB2C 800C20CC 38A00000 */  li		r5, 0
/* 0BCB30 800C20D0 38C00010 */  li		r6, 0x10
/* 0BCB34 800C20D4 4BFF50E1 */  bl		GXAdjustForOverscan
/* 0BCB38 800C20D8 93ED9380 */  stw		r31, rmode-_SDA_BASE_(r13)
lbl_800C20DC:
/* 0BCB3C 800C20DC 8001001C */  lwz		r0, 0x1c(r1)
/* 0BCB40 800C20E0 83E10014 */  lwz		r31, 0x14(r1)
/* 0BCB44 800C20E4 38210018 */  addi	r1, r1, 0x18
/* 0BCB48 800C20E8 7C0803A6 */  mtlr	r0
/* 0BCB4C 800C20EC 4E800020 */  blr		

__DEMOInitMem:
/* 0BCB50 800C20F0 7C0802A6 */  mflr	r0
/* 0BCB54 800C20F4 90010004 */  stw		r0, 4(r1)
/* 0BCB58 800C20F8 9421FFF0 */  stwu	r1, -0x10(r1)
/* 0BCB5C 800C20FC 93E1000C */  stw		r31, 0xc(r1)
/* 0BCB60 800C2100 93C10008 */  stw		r30, 8(r1)
/* 0BCB64 800C2104 4BFE6E01 */  bl		OSGetArenaLo
/* 0BCB68 800C2108 7C7F1B78 */  mr		r31, r3
/* 0BCB6C 800C210C 4BFE6DF1 */  bl		OSGetArenaHi
/* 0BCB70 800C2110 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BCB74 800C2114 381F001F */  addi	r0, r31, 0x1f
/* 0BCB78 800C2118 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 0BCB7C 800C211C A0830004 */  lhz		r4, 4(r3)
/* 0BCB80 800C2120 A0630008 */  lhz		r3, 8(r3)
/* 0BCB84 800C2124 3884000F */  addi	r4, r4, 0xf
/* 0BCB88 800C2128 900D939C */  stw		r0, DemoFrameBuffer1-_SDA_BASE_(r13)
/* 0BCB8C 800C212C 54800436 */  rlwinm	r0, r4, 0, 0x10, 0x1b
/* 0BCB90 800C2130 7C6019D6 */  mullw	r3, r0, r3
/* 0BCB94 800C2134 800D939C */  lwz		r0, DemoFrameBuffer1-_SDA_BASE_(r13)
/* 0BCB98 800C2138 5464083C */  slwi	r4, r3, 1
/* 0BCB9C 800C213C 3864001F */  addi	r3, r4, 0x1f
/* 0BCBA0 800C2140 908D9384 */  stw		r4, allocatedFrameBufferSize-_SDA_BASE_(r13)
/* 0BCBA4 800C2144 7C001A14 */  add		r0, r0, r3
/* 0BCBA8 800C2148 54000034 */  rlwinm	r0, r0, 0, 0, 0x1a
/* 0BCBAC 800C214C 900D9398 */  stw		r0, DemoFrameBuffer2-_SDA_BASE_(r13)
/* 0BCBB0 800C2150 808D9398 */  lwz		r4, DemoFrameBuffer2-_SDA_BASE_(r13)
/* 0BCBB4 800C2154 7C041A14 */  add		r0, r4, r3
/* 0BCBB8 800C2158 908D9394 */  stw		r4, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCBBC 800C215C 54030034 */  rlwinm	r3, r0, 0, 0, 0x1a
/* 0BCBC0 800C2160 4BFE6DB5 */  bl		OSSetArenaLo
/* 0BCBC4 800C2164 4BFE6DA1 */  bl		OSGetArenaLo
/* 0BCBC8 800C2168 7C7F1B78 */  mr		r31, r3
/* 0BCBCC 800C216C 4BFE6D91 */  bl		OSGetArenaHi
/* 0BCBD0 800C2170 3BC30000 */  addi	r30, r3, 0
/* 0BCBD4 800C2174 387F0000 */  addi	r3, r31, 0
/* 0BCBD8 800C2178 389E0000 */  addi	r4, r30, 0
/* 0BCBDC 800C217C 38A00001 */  li		r5, 1
/* 0BCBE0 800C2180 4BFE6941 */  bl		OSInitAlloc
/* 0BCBE4 800C2184 7C7F1B78 */  mr		r31, r3
/* 0BCBE8 800C2188 4BFE6D8D */  bl		OSSetArenaLo
/* 0BCBEC 800C218C 381F001F */  addi	r0, r31, 0x1f
/* 0BCBF0 800C2190 57DF0034 */  rlwinm	r31, r30, 0, 0, 0x1a
/* 0BCBF4 800C2194 54030034 */  rlwinm	r3, r0, 0, 0, 0x1a
/* 0BCBF8 800C2198 389F0000 */  addi	r4, r31, 0
/* 0BCBFC 800C219C 4BFE6995 */  bl		OSCreateHeap
/* 0BCC00 800C21A0 4BFE6911 */  bl		OSSetCurrentHeap
/* 0BCC04 800C21A4 7FE3FB78 */  mr		r3, r31
/* 0BCC08 800C21A8 4BFE6D6D */  bl		OSSetArenaLo
/* 0BCC0C 800C21AC 80010014 */  lwz		r0, 0x14(r1)
/* 0BCC10 800C21B0 83E1000C */  lwz		r31, 0xc(r1)
/* 0BCC14 800C21B4 83C10008 */  lwz		r30, 8(r1)
/* 0BCC18 800C21B8 38210010 */  addi	r1, r1, 0x10
/* 0BCC1C 800C21BC 7C0803A6 */  mtlr	r0
/* 0BCC20 800C21C0 4E800020 */  blr		

__DEMOInitGX:
/* 0BCC24 800C21C4 7C0802A6 */  mflr	r0
/* 0BCC28 800C21C8 3C604330 */  lis		r3, 0x4330
/* 0BCC2C 800C21CC 90010004 */  stw		r0, 4(r1)
/* 0BCC30 800C21D0 9421FFE0 */  stwu	r1, -0x20(r1)
/* 0BCC34 800C21D4 93E1001C */  stw		r31, 0x1c(r1)
/* 0BCC38 800C21D8 80AD9380 */  lwz		r5, rmode-_SDA_BASE_(r13)
/* 0BCC3C 800C21DC C0228580 */  lfs		f1, D_80146560-_SDA2_BASE_(r2)
/* 0BCC40 800C21E0 A0850004 */  lhz		r4, 4(r5)
/* 0BCC44 800C21E4 A0050006 */  lhz		r0, 6(r5)
/* 0BCC48 800C21E8 FC400890 */  fmr		f2, f1
/* 0BCC4C 800C21EC 90810014 */  stw		r4, 0x14(r1)
/* 0BCC50 800C21F0 FCA00890 */  fmr		f5, f1
/* 0BCC54 800C21F4 C8828588 */  lfd		f4, D_80146568-_SDA2_BASE_(r2)
/* 0BCC58 800C21F8 9001000C */  stw		r0, 0xc(r1)
/* 0BCC5C 800C21FC C0C28584 */  lfs		f6, D_80146564-_SDA2_BASE_(r2)
/* 0BCC60 800C2200 90610010 */  stw		r3, 0x10(r1)
/* 0BCC64 800C2204 90610008 */  stw		r3, 8(r1)
/* 0BCC68 800C2208 C8610010 */  lfd		f3, 0x10(r1)
/* 0BCC6C 800C220C C8010008 */  lfd		f0, 8(r1)
/* 0BCC70 800C2210 EC632028 */  fsubs	f3, f3, f4
/* 0BCC74 800C2214 EC802028 */  fsubs	f4, f0, f4
/* 0BCC78 800C2218 4BFF8369 */  bl		GXSetViewport
/* 0BCC7C 800C221C 80CD9380 */  lwz		r6, rmode-_SDA_BASE_(r13)
/* 0BCC80 800C2220 38600000 */  li		r3, 0
/* 0BCC84 800C2224 38800000 */  li		r4, 0
/* 0BCC88 800C2228 A0A60004 */  lhz		r5, 4(r6)
/* 0BCC8C 800C222C A0C60006 */  lhz		r6, 6(r6)
/* 0BCC90 800C2230 4BFF8399 */  bl		GXSetScissor
/* 0BCC94 800C2234 808D9380 */  lwz		r4, rmode-_SDA_BASE_(r13)
/* 0BCC98 800C2238 A0640006 */  lhz		r3, 6(r4)
/* 0BCC9C 800C223C A0840008 */  lhz		r4, 8(r4)
/* 0BCCA0 800C2240 4BFF5391 */  bl		GXGetYScaleFactor
/* 0BCCA4 800C2244 4BFF55C5 */  bl		GXSetDispCopyYScale
/* 0BCCA8 800C2248 80CD9380 */  lwz		r6, rmode-_SDA_BASE_(r13)
/* 0BCCAC 800C224C 547F043E */  clrlwi	r31, r3, 0x10
/* 0BCCB0 800C2250 38600000 */  li		r3, 0
/* 0BCCB4 800C2254 A0A60004 */  lhz		r5, 4(r6)
/* 0BCCB8 800C2258 38800000 */  li		r4, 0
/* 0BCCBC 800C225C A0C60006 */  lhz		r6, 6(r6)
/* 0BCCC0 800C2260 4BFF5099 */  bl		GXSetDispCopySrc
/* 0BCCC4 800C2264 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BCCC8 800C2268 7FE4FB78 */  mr		r4, r31
/* 0BCCCC 800C226C A0630004 */  lhz		r3, 4(r3)
/* 0BCCD0 800C2270 4BFF5181 */  bl		GXSetDispCopyDst
/* 0BCCD4 800C2274 80CD9380 */  lwz		r6, rmode-_SDA_BASE_(r13)
/* 0BCCD8 800C2278 38A00001 */  li		r5, 1
/* 0BCCDC 800C227C 88660019 */  lbz		r3, 0x19(r6)
/* 0BCCE0 800C2280 3886001A */  addi	r4, r6, 0x1a
/* 0BCCE4 800C2284 38C60032 */  addi	r6, r6, 0x32
/* 0BCCE8 800C2288 4BFF56C5 */  bl		GXSetCopyFilter
/* 0BCCEC 800C228C 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BCCF0 800C2290 88030019 */  lbz		r0, 0x19(r3)
/* 0BCCF4 800C2294 28000000 */  cmplwi	r0, 0
/* 0BCCF8 800C2298 41820014 */  beq		lbl_800C22AC
/* 0BCCFC 800C229C 38600002 */  li		r3, 2
/* 0BCD00 800C22A0 38800000 */  li		r4, 0
/* 0BCD04 800C22A4 4BFF7D51 */  bl		GXSetPixelFmt
/* 0BCD08 800C22A8 48000010 */  b		lbl_800C22B8
lbl_800C22AC:
/* 0BCD0C 800C22AC 38600000 */  li		r3, 0
/* 0BCD10 800C22B0 38800000 */  li		r4, 0
/* 0BCD14 800C22B4 4BFF7D41 */  bl		GXSetPixelFmt
lbl_800C22B8:
/* 0BCD18 800C22B8 806D9394 */  lwz		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCD1C 800C22BC 38800001 */  li		r4, 1
/* 0BCD20 800C22C0 4BFF58A9 */  bl		GXCopyDisp
/* 0BCD24 800C22C4 38600000 */  li		r3, 0
/* 0BCD28 800C22C8 4BFF588D */  bl		GXSetDispCopyGamma
/* 0BCD2C 800C22CC 80010024 */  lwz		r0, 0x24(r1)
/* 0BCD30 800C22D0 83E1001C */  lwz		r31, 0x1c(r1)
/* 0BCD34 800C22D4 38210020 */  addi	r1, r1, 0x20
/* 0BCD38 800C22D8 7C0803A6 */  mtlr	r0
/* 0BCD3C 800C22DC 4E800020 */  blr		

__DEMOInitVI:
/* 0BCD40 800C22E0 7C0802A6 */  mflr	r0
/* 0BCD44 800C22E4 90010004 */  stw		r0, 4(r1)
/* 0BCD48 800C22E8 9421FFF8 */  stwu	r1, -8(r1)
/* 0BCD4C 800C22EC 806D939C */  lwz		r3, DemoFrameBuffer1-_SDA_BASE_(r13)
/* 0BCD50 800C22F0 4BFF0EC1 */  bl		VISetNextFrameBuffer
/* 0BCD54 800C22F4 800D9398 */  lwz		r0, DemoFrameBuffer2-_SDA_BASE_(r13)
/* 0BCD58 800C22F8 900D9394 */  stw		r0, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCD5C 800C22FC 4BFF0D85 */  bl		VIFlush
/* 0BCD60 800C2300 4BFF0091 */  bl		VIWaitForRetrace
/* 0BCD64 800C2304 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BCD68 800C2308 80030000 */  lwz		r0, 0(r3)
/* 0BCD6C 800C230C 540007FF */  clrlwi.	r0, r0, 0x1f
/* 0BCD70 800C2310 41820008 */  beq		lbl_800C2318
/* 0BCD74 800C2314 4BFF007D */  bl		VIWaitForRetrace
lbl_800C2318:
/* 0BCD78 800C2318 8001000C */  lwz		r0, 0xc(r1)
/* 0BCD7C 800C231C 38210008 */  addi	r1, r1, 8
/* 0BCD80 800C2320 7C0803A6 */  mtlr	r0
/* 0BCD84 800C2324 4E800020 */  blr		

glabel DEMOBeforeRender
/* 0BCD88 800C2328 7C0802A6 */  mflr	r0
/* 0BCD8C 800C232C 90010004 */  stw		r0, 4(r1)
/* 0BCD90 800C2330 9421FFE0 */  stwu	r1, -0x20(r1)
/* 0BCD94 800C2334 93E1001C */  stw		r31, 0x1c(r1)
/* 0BCD98 800C2338 800D9388 */  lwz		r0, GPHangWorkaround-_SDA_BASE_(r13)
/* 0BCD9C 800C233C 2C000000 */  cmpwi	r0, 0
/* 0BCDA0 800C2340 41820014 */  beq		lbl_800C2354
/* 0BCDA4 800C2344 3C600001 */  lis		r3, 1
/* 0BCDA8 800C2348 3863FEEB */  addi	r3, r3, -277
/* 0BCDAC 800C234C 4BFF45E5 */  bl		GXSetDrawSync
/* 0BCDB0 800C2350 4BFF8E15 */  bl		GXClearGPMetric
lbl_800C2354:
/* 0BCDB4 800C2354 83ED9380 */  lwz		r31, rmode-_SDA_BASE_(r13)
/* 0BCDB8 800C2358 881F0018 */  lbz		r0, 0x18(r31)
/* 0BCDBC 800C235C 28000000 */  cmplwi	r0, 0
/* 0BCDC0 800C2360 41820050 */  beq		lbl_800C23B0
/* 0BCDC4 800C2364 4BFF0FD9 */  bl		VIGetNextField
/* 0BCDC8 800C2368 A0BF0004 */  lhz		r5, 4(r31)
/* 0BCDCC 800C236C 3C804330 */  lis		r4, 0x4330
/* 0BCDD0 800C2370 A01F0006 */  lhz		r0, 6(r31)
/* 0BCDD4 800C2374 90A10014 */  stw		r5, 0x14(r1)
/* 0BCDD8 800C2378 C0228580 */  lfs		f1, D_80146560-_SDA2_BASE_(r2)
/* 0BCDDC 800C237C 9001000C */  stw		r0, 0xc(r1)
/* 0BCDE0 800C2380 C8828588 */  lfd		f4, D_80146568-_SDA2_BASE_(r2)
/* 0BCDE4 800C2384 FC400890 */  fmr		f2, f1
/* 0BCDE8 800C2388 90810010 */  stw		r4, 0x10(r1)
/* 0BCDEC 800C238C FCA00890 */  fmr		f5, f1
/* 0BCDF0 800C2390 C0C28584 */  lfs		f6, D_80146564-_SDA2_BASE_(r2)
/* 0BCDF4 800C2394 90810008 */  stw		r4, 8(r1)
/* 0BCDF8 800C2398 C8610010 */  lfd		f3, 0x10(r1)
/* 0BCDFC 800C239C C8010008 */  lfd		f0, 8(r1)
/* 0BCE00 800C23A0 EC632028 */  fsubs	f3, f3, f4
/* 0BCE04 800C23A4 EC802028 */  fsubs	f4, f0, f4
/* 0BCE08 800C23A8 4BFF8181 */  bl		GXSetViewportJitter
/* 0BCE0C 800C23AC 48000048 */  b		lbl_800C23F4
lbl_800C23B0:
/* 0BCE10 800C23B0 A09F0004 */  lhz		r4, 4(r31)
/* 0BCE14 800C23B4 3C604330 */  lis		r3, 0x4330
/* 0BCE18 800C23B8 A01F0006 */  lhz		r0, 6(r31)
/* 0BCE1C 800C23BC 9081000C */  stw		r4, 0xc(r1)
/* 0BCE20 800C23C0 C0228580 */  lfs		f1, D_80146560-_SDA2_BASE_(r2)
/* 0BCE24 800C23C4 90010014 */  stw		r0, 0x14(r1)
/* 0BCE28 800C23C8 C8828588 */  lfd		f4, D_80146568-_SDA2_BASE_(r2)
/* 0BCE2C 800C23CC FC400890 */  fmr		f2, f1
/* 0BCE30 800C23D0 90610008 */  stw		r3, 8(r1)
/* 0BCE34 800C23D4 FCA00890 */  fmr		f5, f1
/* 0BCE38 800C23D8 C0C28584 */  lfs		f6, D_80146564-_SDA2_BASE_(r2)
/* 0BCE3C 800C23DC 90610010 */  stw		r3, 0x10(r1)
/* 0BCE40 800C23E0 C8610008 */  lfd		f3, 8(r1)
/* 0BCE44 800C23E4 C8010010 */  lfd		f0, 0x10(r1)
/* 0BCE48 800C23E8 EC632028 */  fsubs	f3, f3, f4
/* 0BCE4C 800C23EC EC802028 */  fsubs	f4, f0, f4
/* 0BCE50 800C23F0 4BFF8191 */  bl		GXSetViewport
lbl_800C23F4:
/* 0BCE54 800C23F4 4BFF3EA5 */  bl		GXInvalidateVtxCache
/* 0BCE58 800C23F8 4BFF6639 */  bl		GXInvalidateTexAll
/* 0BCE5C 800C23FC 80010024 */  lwz		r0, 0x24(r1)
/* 0BCE60 800C2400 83E1001C */  lwz		r31, 0x1c(r1)
/* 0BCE64 800C2404 38210020 */  addi	r1, r1, 0x20
/* 0BCE68 800C2408 7C0803A6 */  mtlr	r0
/* 0BCE6C 800C240C 4E800020 */  blr		

glabel DEMODoneRender
/* 0BCE70 800C2410 7C0802A6 */  mflr	r0
/* 0BCE74 800C2414 90010004 */  stw		r0, 4(r1)
/* 0BCE78 800C2418 9421FFF8 */  stwu	r1, -8(r1)
/* 0BCE7C 800C241C 800D9388 */  lwz		r0, GPHangWorkaround-_SDA_BASE_(r13)
/* 0BCE80 800C2420 2C000000 */  cmpwi	r0, 0
/* 0BCE84 800C2424 4182000C */  beq		lbl_800C2430
/* 0BCE88 800C2428 480000DD */  bl		__NoHangDoneRender
/* 0BCE8C 800C242C 48000058 */  b		lbl_800C2484
lbl_800C2430:
/* 0BCE90 800C2430 880D93B0 */  lbz		r0, DemoStatEnable-_SDA_BASE_(r13)
/* 0BCE94 800C2434 28000000 */  cmplwi	r0, 0
/* 0BCE98 800C2438 41820020 */  beq		lbl_800C2458
/* 0BCE9C 800C243C 4BFF464D */  bl		GXDrawDone
/* 0BCEA0 800C2440 38600001 */  li		r3, 1
/* 0BCEA4 800C2444 48001309 */  bl		DEMOUpdateStats
/* 0BCEA8 800C2448 4800135D */  bl		DEMOPrintStats
/* 0BCEAC 800C244C 4BFF463D */  bl		GXDrawDone
/* 0BCEB0 800C2450 38600000 */  li		r3, 0
/* 0BCEB4 800C2454 480012F9 */  bl		DEMOUpdateStats
lbl_800C2458:
/* 0BCEB8 800C2458 38600001 */  li		r3, 1
/* 0BCEBC 800C245C 38800003 */  li		r4, 3
/* 0BCEC0 800C2460 38A00001 */  li		r5, 1
/* 0BCEC4 800C2464 4BFF7B29 */  bl		GXSetZMode
/* 0BCEC8 800C2468 38600001 */  li		r3, 1
/* 0BCECC 800C246C 4BFF7AC9 */  bl		GXSetColorUpdate
/* 0BCED0 800C2470 806D9394 */  lwz		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCED4 800C2474 38800001 */  li		r4, 1
/* 0BCED8 800C2478 4BFF56F1 */  bl		GXCopyDisp
/* 0BCEDC 800C247C 4BFF460D */  bl		GXDrawDone
/* 0BCEE0 800C2480 48000015 */  bl		DEMOSwapBuffers
lbl_800C2484:
/* 0BCEE4 800C2484 8001000C */  lwz		r0, 0xc(r1)
/* 0BCEE8 800C2488 38210008 */  addi	r1, r1, 8
/* 0BCEEC 800C248C 7C0803A6 */  mtlr	r0
/* 0BCEF0 800C2490 4E800020 */  blr		

glabel DEMOSwapBuffers
/* 0BCEF4 800C2494 7C0802A6 */  mflr	r0
/* 0BCEF8 800C2498 90010004 */  stw		r0, 4(r1)
/* 0BCEFC 800C249C 9421FFF8 */  stwu	r1, -8(r1)
/* 0BCF00 800C24A0 806D9394 */  lwz		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCF04 800C24A4 4BFF0D0D */  bl		VISetNextFrameBuffer
/* 0BCF08 800C24A8 880D8E00 */  lbz		r0, DemoFirstFrame-_SDA_BASE_(r13)
/* 0BCF0C 800C24AC 28000000 */  cmplwi	r0, 0
/* 0BCF10 800C24B0 41820014 */  beq		lbl_800C24C4
/* 0BCF14 800C24B4 38600000 */  li		r3, 0
/* 0BCF18 800C24B8 4BFF0D65 */  bl		VISetBlack
/* 0BCF1C 800C24BC 38000000 */  li		r0, 0
/* 0BCF20 800C24C0 980D8E00 */  stb		r0, DemoFirstFrame-_SDA_BASE_(r13)
lbl_800C24C4:
/* 0BCF24 800C24C4 4BFF0BBD */  bl		VIFlush
/* 0BCF28 800C24C8 4BFEFEC9 */  bl		VIWaitForRetrace
/* 0BCF2C 800C24CC 800D9394 */  lwz		r0, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCF30 800C24D0 806D939C */  lwz		r3, DemoFrameBuffer1-_SDA_BASE_(r13)
/* 0BCF34 800C24D4 7C001840 */  cmplw	r0, r3
/* 0BCF38 800C24D8 40820010 */  bne		lbl_800C24E8
/* 0BCF3C 800C24DC 800D9398 */  lwz		r0, DemoFrameBuffer2-_SDA_BASE_(r13)
/* 0BCF40 800C24E0 900D9394 */  stw		r0, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCF44 800C24E4 48000008 */  b		lbl_800C24EC
lbl_800C24E8:
/* 0BCF48 800C24E8 906D9394 */  stw		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
lbl_800C24EC:
/* 0BCF4C 800C24EC 8001000C */  lwz		r0, 0xc(r1)
/* 0BCF50 800C24F0 38210008 */  addi	r1, r1, 8
/* 0BCF54 800C24F4 7C0803A6 */  mtlr	r0
/* 0BCF58 800C24F8 4E800020 */  blr		

glabel DEMOGetRenderModeObj
/* 0BCF5C 800C24FC 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BCF60 800C2500 4E800020 */  blr		

__NoHangDoneRender:
/* 0BCF64 800C2504 7C0802A6 */  mflr	r0
/* 0BCF68 800C2508 38800001 */  li		r4, 1
/* 0BCF6C 800C250C 90010004 */  stw		r0, 4(r1)
/* 0BCF70 800C2510 9421FFF0 */  stwu	r1, -0x10(r1)
/* 0BCF74 800C2514 93E1000C */  stw		r31, 0xc(r1)
/* 0BCF78 800C2518 93C10008 */  stw		r30, 8(r1)
/* 0BCF7C 800C251C 3BC00000 */  li		r30, 0
/* 0BCF80 800C2520 806D9394 */  lwz		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCF84 800C2524 4BFF5645 */  bl		GXCopyDisp
/* 0BCF88 800C2528 3C600001 */  lis		r3, 1
/* 0BCF8C 800C252C 3863B00B */  addi	r3, r3, -20469
/* 0BCF90 800C2530 4BFF4401 */  bl		GXSetDrawSync
/* 0BCF94 800C2534 38000000 */  li		r0, 0
/* 0BCF98 800C2538 3C608010 */  lis		r3, D_801009F4@ha
/* 0BCF9C 800C253C 900D938C */  stw		r0, FrameCount-_SDA_BASE_(r13)
/* 0BCFA0 800C2540 3BE309F4 */  addi	r31, r3, D_801009F4@l
/* 0BCFA4 800C2544 48000038 */  b		lbl_800C257C
lbl_800C2548:
/* 0BCFA8 800C2548 806D938C */  lwz		r3, FrameCount-_SDA_BASE_(r13)
/* 0BCFAC 800C254C 800D9390 */  lwz		r0, FrameMissThreshold-_SDA_BASE_(r13)
/* 0BCFB0 800C2550 7C030040 */  cmplw	r3, r0
/* 0BCFB4 800C2554 41800028 */  blt		lbl_800C257C
/* 0BCFB8 800C2558 387F0000 */  addi	r3, r31, 0
/* 0BCFBC 800C255C 4CC63182 */  crclr	6
/* 0BCFC0 800C2560 4BFE7B0D */  bl		OSReport
/* 0BCFC4 800C2564 3BC00001 */  li		r30, 1
/* 0BCFC8 800C2568 4800014D */  bl		__DEMODiagnoseHang
/* 0BCFCC 800C256C 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BCFD0 800C2570 48000301 */  bl		DEMOReInit
/* 0BCFD4 800C2574 38600001 */  li		r3, 1
/* 0BCFD8 800C2578 48000081 */  bl		DEMOSetGPHangMetric
lbl_800C257C:
/* 0BCFDC 800C257C 4BFF4469 */  bl		GXReadDrawSync
/* 0BCFE0 800C2580 5460043E */  clrlwi	r0, r3, 0x10
/* 0BCFE4 800C2584 2800B00B */  cmplwi	r0, 0xb00b
/* 0BCFE8 800C2588 4182000C */  beq		lbl_800C2594
/* 0BCFEC 800C258C 2C1E0000 */  cmpwi	r30, 0
/* 0BCFF0 800C2590 4182FFB8 */  beq		lbl_800C2548
lbl_800C2594:
/* 0BCFF4 800C2594 806D9394 */  lwz		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BCFF8 800C2598 4BFF0C19 */  bl		VISetNextFrameBuffer
/* 0BCFFC 800C259C 880D8E00 */  lbz		r0, DemoFirstFrame-_SDA_BASE_(r13)
/* 0BD000 800C25A0 28000000 */  cmplwi	r0, 0
/* 0BD004 800C25A4 41820014 */  beq		lbl_800C25B8
/* 0BD008 800C25A8 38600000 */  li		r3, 0
/* 0BD00C 800C25AC 4BFF0C71 */  bl		VISetBlack
/* 0BD010 800C25B0 38000000 */  li		r0, 0
/* 0BD014 800C25B4 980D8E00 */  stb		r0, DemoFirstFrame-_SDA_BASE_(r13)
lbl_800C25B8:
/* 0BD018 800C25B8 4BFF0AC9 */  bl		VIFlush
/* 0BD01C 800C25BC 4BFEFDD5 */  bl		VIWaitForRetrace
/* 0BD020 800C25C0 800D9394 */  lwz		r0, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BD024 800C25C4 806D939C */  lwz		r3, DemoFrameBuffer1-_SDA_BASE_(r13)
/* 0BD028 800C25C8 7C001840 */  cmplw	r0, r3
/* 0BD02C 800C25CC 40820010 */  bne		lbl_800C25DC
/* 0BD030 800C25D0 800D9398 */  lwz		r0, DemoFrameBuffer2-_SDA_BASE_(r13)
/* 0BD034 800C25D4 900D9394 */  stw		r0, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BD038 800C25D8 48000008 */  b		lbl_800C25E0
lbl_800C25DC:
/* 0BD03C 800C25DC 906D9394 */  stw		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
lbl_800C25E0:
/* 0BD040 800C25E0 80010014 */  lwz		r0, 0x14(r1)
/* 0BD044 800C25E4 83E1000C */  lwz		r31, 0xc(r1)
/* 0BD048 800C25E8 83C10008 */  lwz		r30, 8(r1)
/* 0BD04C 800C25EC 38210010 */  addi	r1, r1, 0x10
/* 0BD050 800C25F0 7C0803A6 */  mtlr	r0
/* 0BD054 800C25F4 4E800020 */  blr		

glabel DEMOSetGPHangMetric
/* 0BD058 800C25F8 7C0802A6 */  mflr	r0
/* 0BD05C 800C25FC 90010004 */  stw		r0, 4(r1)
/* 0BD060 800C2600 5460063F */  clrlwi.	r0, r3, 0x18
/* 0BD064 800C2604 9421FFF8 */  stwu	r1, -8(r1)
/* 0BD068 800C2608 41820060 */  beq		lbl_800C2668
/* 0BD06C 800C260C 38600023 */  li		r3, 0x23
/* 0BD070 800C2610 38800016 */  li		r4, 0x16
/* 0BD074 800C2614 4BFF8161 */  bl		GXSetGPMetric
/* 0BD078 800C2618 38A00061 */  li		r5, 0x61
/* 0BD07C 800C261C 3CC0CC01 */  lis		r6, 0xcc01
/* 0BD080 800C2620 3C602403 */  lis		r3, 0x2403
/* 0BD084 800C2624 98A68000 */  stb		r5, -0x8000(r6)
/* 0BD088 800C2628 3803C004 */  addi	r0, r3, -16380
/* 0BD08C 800C262C 90068000 */  stw		r0, -0x8000(r6)
/* 0BD090 800C2630 3C802300 */  lis		r4, 0x2300
/* 0BD094 800C2634 3C600008 */  lis		r3, 8
/* 0BD098 800C2638 98A68000 */  stb		r5, -0x8000(r6)
/* 0BD09C 800C263C 38840020 */  addi	r4, r4, 0x20
/* 0BD0A0 800C2640 38000010 */  li		r0, 0x10
/* 0BD0A4 800C2644 90868000 */  stw		r4, -0x8000(r6)
/* 0BD0A8 800C2648 38A00000 */  li		r5, 0
/* 0BD0AC 800C264C 38801006 */  li		r4, 0x1006
/* 0BD0B0 800C2650 98068000 */  stb		r0, -0x8000(r6)
/* 0BD0B4 800C2654 38034400 */  addi	r0, r3, 0x4400
/* 0BD0B8 800C2658 B0A68000 */  sth		r5, -0x8000(r6)
/* 0BD0BC 800C265C B0868000 */  sth		r4, -0x8000(r6)
/* 0BD0C0 800C2660 90068000 */  stw		r0, -0x8000(r6)
/* 0BD0C4 800C2664 48000040 */  b		lbl_800C26A4
lbl_800C2668:
/* 0BD0C8 800C2668 38E00061 */  li		r7, 0x61
/* 0BD0CC 800C266C 3CC0CC01 */  lis		r6, 0xcc01
/* 0BD0D0 800C2670 98E68000 */  stb		r7, -0x8000(r6)
/* 0BD0D4 800C2674 3C002400 */  lis		r0, 0x2400
/* 0BD0D8 800C2678 3CA02300 */  lis		r5, 0x2300
/* 0BD0DC 800C267C 90068000 */  stw		r0, -0x8000(r6)
/* 0BD0E0 800C2680 38800010 */  li		r4, 0x10
/* 0BD0E4 800C2684 38600000 */  li		r3, 0
/* 0BD0E8 800C2688 98E68000 */  stb		r7, -0x8000(r6)
/* 0BD0EC 800C268C 38001006 */  li		r0, 0x1006
/* 0BD0F0 800C2690 90A68000 */  stw		r5, -0x8000(r6)
/* 0BD0F4 800C2694 98868000 */  stb		r4, -0x8000(r6)
/* 0BD0F8 800C2698 B0668000 */  sth		r3, -0x8000(r6)
/* 0BD0FC 800C269C B0068000 */  sth		r0, -0x8000(r6)
/* 0BD100 800C26A0 90668000 */  stw		r3, -0x8000(r6)
lbl_800C26A4:
/* 0BD104 800C26A4 8001000C */  lwz		r0, 0xc(r1)
/* 0BD108 800C26A8 38210008 */  addi	r1, r1, 8
/* 0BD10C 800C26AC 7C0803A6 */  mtlr	r0
/* 0BD110 800C26B0 4E800020 */  blr		

__DEMODiagnoseHang:
/* 0BD114 800C26B4 7C0802A6 */  mflr	r0
/* 0BD118 800C26B8 3C608010 */  lis		r3, D_80100980@ha
/* 0BD11C 800C26BC 90010004 */  stw		r0, 4(r1)
/* 0BD120 800C26C0 9421FFB8 */  stwu	r1, -0x48(r1)
/* 0BD124 800C26C4 BF610034 */  stmw	r27, 0x34(r1)
/* 0BD128 800C26C8 3BE30980 */  addi	r31, r3, D_80100980@l
/* 0BD12C 800C26CC 38610024 */  addi	r3, r1, 0x24
/* 0BD130 800C26D0 38810028 */  addi	r4, r1, 0x28
/* 0BD134 800C26D4 38A1001C */  addi	r5, r1, 0x1c
/* 0BD138 800C26D8 38C10020 */  addi	r6, r1, 0x20
/* 0BD13C 800C26DC 4BFF9009 */  bl		GXReadXfRasMetric
/* 0BD140 800C26E0 38610014 */  addi	r3, r1, 0x14
/* 0BD144 800C26E4 38810018 */  addi	r4, r1, 0x18
/* 0BD148 800C26E8 38A1000C */  addi	r5, r1, 0xc
/* 0BD14C 800C26EC 38C10010 */  addi	r6, r1, 0x10
/* 0BD150 800C26F0 4BFF8FF5 */  bl		GXReadXfRasMetric
/* 0BD154 800C26F4 80A10020 */  lwz		r5, 0x20(r1)
/* 0BD158 800C26F8 38610008 */  addi	r3, r1, 8
/* 0BD15C 800C26FC 80010010 */  lwz		r0, 0x10(r1)
/* 0BD160 800C2700 7C641B78 */  mr		r4, r3
/* 0BD164 800C2704 80C10028 */  lwz		r6, 0x28(r1)
/* 0BD168 800C2708 7C050050 */  subf	r0, r5, r0
/* 0BD16C 800C270C 80A10018 */  lwz		r5, 0x18(r1)
/* 0BD170 800C2710 7CE000D0 */  neg		r7, r0
/* 0BD174 800C2714 81210024 */  lwz		r9, 0x24(r1)
/* 0BD178 800C2718 81010014 */  lwz		r8, 0x14(r1)
/* 0BD17C 800C271C 7D462850 */  subf	r10, r6, r5
/* 0BD180 800C2720 30C7FFFF */  addic	r6, r7, -1
/* 0BD184 800C2724 80A1001C */  lwz		r5, 0x1c(r1)
/* 0BD188 800C2728 8001000C */  lwz		r0, 0xc(r1)
/* 0BD18C 800C272C 7D094050 */  subf	r8, r9, r8
/* 0BD190 800C2730 7C050050 */  subf	r0, r5, r0
/* 0BD194 800C2734 7D2A00D0 */  neg		r9, r10
/* 0BD198 800C2738 7CA800D0 */  neg		r5, r8
/* 0BD19C 800C273C 7D290034 */  cntlzw	r9, r9
/* 0BD1A0 800C2740 7CA80034 */  cntlzw	r8, r5
/* 0BD1A4 800C2744 7F863910 */  subfe	r28, r6, r7
/* 0BD1A8 800C2748 7CA000D0 */  neg		r5, r0
/* 0BD1AC 800C274C 3005FFFF */  addic	r0, r5, -1
/* 0BD1B0 800C2750 38E30000 */  addi	r7, r3, 0
/* 0BD1B4 800C2754 553ED97E */  srwi	r30, r9, 5
/* 0BD1B8 800C2758 551DD97E */  srwi	r29, r8, 5
/* 0BD1BC 800C275C 7F602910 */  subfe	r27, r0, r5
/* 0BD1C0 800C2760 38A1000A */  addi	r5, r1, 0xa
/* 0BD1C4 800C2764 38C10009 */  addi	r6, r1, 9
/* 0BD1C8 800C2768 4BFF2DCD */  bl		GXGetGPStatus
/* 0BD1CC 800C276C 8881000A */  lbz		r4, 0xa(r1)
/* 0BD1D0 800C2770 7FC6F378 */  mr		r6, r30
/* 0BD1D4 800C2774 88A10009 */  lbz		r5, 9(r1)
/* 0BD1D8 800C2778 38FD0000 */  addi	r7, r29, 0
/* 0BD1DC 800C277C 391C0000 */  addi	r8, r28, 0
/* 0BD1E0 800C2780 393B0000 */  addi	r9, r27, 0
/* 0BD1E4 800C2784 4CC63182 */  crclr	6
/* 0BD1E8 800C2788 387F00A4 */  addi	r3, r31, 0xa4
/* 0BD1EC 800C278C 4BFE78E1 */  bl		OSReport
/* 0BD1F0 800C2790 281D0000 */  cmplwi	r29, 0
/* 0BD1F4 800C2794 4082001C */  bne		lbl_800C27B0
/* 0BD1F8 800C2798 281C0000 */  cmplwi	r28, 0
/* 0BD1FC 800C279C 41820014 */  beq		lbl_800C27B0
/* 0BD200 800C27A0 387F00C0 */  addi	r3, r31, 0xc0
/* 0BD204 800C27A4 4CC63182 */  crclr	6
/* 0BD208 800C27A8 4BFE78C5 */  bl		OSReport
/* 0BD20C 800C27AC 480000B0 */  b		lbl_800C285C
lbl_800C27B0:
/* 0BD210 800C27B0 281E0000 */  cmplwi	r30, 0
/* 0BD214 800C27B4 40820024 */  bne		lbl_800C27D8
/* 0BD218 800C27B8 281D0000 */  cmplwi	r29, 0
/* 0BD21C 800C27BC 4182001C */  beq		lbl_800C27D8
/* 0BD220 800C27C0 281C0000 */  cmplwi	r28, 0
/* 0BD224 800C27C4 41820014 */  beq		lbl_800C27D8
/* 0BD228 800C27C8 387F00E0 */  addi	r3, r31, 0xe0
/* 0BD22C 800C27CC 4CC63182 */  crclr	6
/* 0BD230 800C27D0 4BFE789D */  bl		OSReport
/* 0BD234 800C27D4 48000088 */  b		lbl_800C285C
lbl_800C27D8:
/* 0BD238 800C27D8 88610009 */  lbz		r3, 9(r1)
/* 0BD23C 800C27DC 28030000 */  cmplwi	r3, 0
/* 0BD240 800C27E0 4082002C */  bne		lbl_800C280C
/* 0BD244 800C27E4 281E0000 */  cmplwi	r30, 0
/* 0BD248 800C27E8 41820024 */  beq		lbl_800C280C
/* 0BD24C 800C27EC 281D0000 */  cmplwi	r29, 0
/* 0BD250 800C27F0 4182001C */  beq		lbl_800C280C
/* 0BD254 800C27F4 281C0000 */  cmplwi	r28, 0
/* 0BD258 800C27F8 41820014 */  beq		lbl_800C280C
/* 0BD25C 800C27FC 387F0108 */  addi	r3, r31, 0x108
/* 0BD260 800C2800 4CC63182 */  crclr	6
/* 0BD264 800C2804 4BFE7869 */  bl		OSReport
/* 0BD268 800C2808 48000054 */  b		lbl_800C285C
lbl_800C280C:
/* 0BD26C 800C280C 8801000A */  lbz		r0, 0xa(r1)
/* 0BD270 800C2810 28000000 */  cmplwi	r0, 0
/* 0BD274 800C2814 4182003C */  beq		lbl_800C2850
/* 0BD278 800C2818 28030000 */  cmplwi	r3, 0
/* 0BD27C 800C281C 41820034 */  beq		lbl_800C2850
/* 0BD280 800C2820 281E0000 */  cmplwi	r30, 0
/* 0BD284 800C2824 4182002C */  beq		lbl_800C2850
/* 0BD288 800C2828 281D0000 */  cmplwi	r29, 0
/* 0BD28C 800C282C 41820024 */  beq		lbl_800C2850
/* 0BD290 800C2830 281C0000 */  cmplwi	r28, 0
/* 0BD294 800C2834 4182001C */  beq		lbl_800C2850
/* 0BD298 800C2838 281B0000 */  cmplwi	r27, 0
/* 0BD29C 800C283C 41820014 */  beq		lbl_800C2850
/* 0BD2A0 800C2840 387F0130 */  addi	r3, r31, 0x130
/* 0BD2A4 800C2844 4CC63182 */  crclr	6
/* 0BD2A8 800C2848 4BFE7825 */  bl		OSReport
/* 0BD2AC 800C284C 48000010 */  b		lbl_800C285C
lbl_800C2850:
/* 0BD2B0 800C2850 387F0160 */  addi	r3, r31, 0x160
/* 0BD2B4 800C2854 4CC63182 */  crclr	6
/* 0BD2B8 800C2858 4BFE7815 */  bl		OSReport
lbl_800C285C:
/* 0BD2BC 800C285C BB610034 */  lmw		r27, 0x34(r1)
/* 0BD2C0 800C2860 8001004C */  lwz		r0, 0x4c(r1)
/* 0BD2C4 800C2864 38210048 */  addi	r1, r1, 0x48
/* 0BD2C8 800C2868 7C0803A6 */  mtlr	r0
/* 0BD2CC 800C286C 4E800020 */  blr		

glabel DEMOReInit
/* 0BD2D0 800C2870 7C0802A6 */  mflr	r0
/* 0BD2D4 800C2874 3C800001 */  lis		r4, 1
/* 0BD2D8 800C2878 90010004 */  stw		r0, 4(r1)
/* 0BD2DC 800C287C 9421FF48 */  stwu	r1, -0xb8(r1)
/* 0BD2E0 800C2880 93E100B4 */  stw		r31, 0xb4(r1)
/* 0BD2E4 800C2884 93C100B0 */  stw		r30, 0xb0(r1)
/* 0BD2E8 800C2888 93A100AC */  stw		r29, 0xac(r1)
/* 0BD2EC 800C288C 938100A8 */  stw		r28, 0xa8(r1)
/* 0BD2F0 800C2890 7C7C1B78 */  mr		r28, r3
/* 0BD2F4 800C2894 806D8D00 */  lwz		r3, __OSCurrHeap-_SDA_BASE_(r13)
/* 0BD2F8 800C2898 4BFE60A1 */  bl		OSAllocFromHeap
/* 0BD2FC 800C289C 7C7F1B78 */  mr		r31, r3
/* 0BD300 800C28A0 4BFF2F61 */  bl		GXGetCPUFifo
/* 0BD304 800C28A4 7C7E1B78 */  mr		r30, r3
/* 0BD308 800C28A8 4BFF2CDD */  bl		GXGetFifoBase
/* 0BD30C 800C28AC 3BA30000 */  addi	r29, r3, 0
/* 0BD310 800C28B0 387E0000 */  addi	r3, r30, 0
/* 0BD314 800C28B4 4BFF2CD9 */  bl		GXGetFifoSize
/* 0BD318 800C28B8 7C7E1B78 */  mr		r30, r3
/* 0BD31C 800C28BC 4BFF3F05 */  bl		GXAbortFrame
/* 0BD320 800C28C0 389F0000 */  addi	r4, r31, 0
/* 0BD324 800C28C4 38610010 */  addi	r3, r1, 0x10
/* 0BD328 800C28C8 3CA00001 */  lis		r5, 1
/* 0BD32C 800C28CC 4BFF28E1 */  bl		GXInitFifoBase
/* 0BD330 800C28D0 38610010 */  addi	r3, r1, 0x10
/* 0BD334 800C28D4 4BFF29C1 */  bl		GXSetCPUFifo
/* 0BD338 800C28D8 38610010 */  addi	r3, r1, 0x10
/* 0BD33C 800C28DC 4BFF2AE1 */  bl		GXSetGPFifo
/* 0BD340 800C28E0 7F83E378 */  mr		r3, r28
/* 0BD344 800C28E4 4BFFF6B9 */  bl		__DEMOInitRenderMode
/* 0BD348 800C28E8 387D0000 */  addi	r3, r29, 0
/* 0BD34C 800C28EC 389E0000 */  addi	r4, r30, 0
/* 0BD350 800C28F0 4BFF16B9 */  bl		GXInit
/* 0BD354 800C28F4 906D937C */  stw		r3, DefaultFifoObj-_SDA_BASE_(r13)
/* 0BD358 800C28F8 3C604330 */  lis		r3, 0x4330
/* 0BD35C 800C28FC 80AD9380 */  lwz		r5, rmode-_SDA_BASE_(r13)
/* 0BD360 800C2900 C0228580 */  lfs		f1, D_80146560-_SDA2_BASE_(r2)
/* 0BD364 800C2904 A0850004 */  lhz		r4, 4(r5)
/* 0BD368 800C2908 A0050006 */  lhz		r0, 6(r5)
/* 0BD36C 800C290C FC400890 */  fmr		f2, f1
/* 0BD370 800C2910 908100A4 */  stw		r4, 0xa4(r1)
/* 0BD374 800C2914 FCA00890 */  fmr		f5, f1
/* 0BD378 800C2918 C8828588 */  lfd		f4, D_80146568-_SDA2_BASE_(r2)
/* 0BD37C 800C291C 9001009C */  stw		r0, 0x9c(r1)
/* 0BD380 800C2920 C0C28584 */  lfs		f6, D_80146564-_SDA2_BASE_(r2)
/* 0BD384 800C2924 906100A0 */  stw		r3, 0xa0(r1)
/* 0BD388 800C2928 90610098 */  stw		r3, 0x98(r1)
/* 0BD38C 800C292C C86100A0 */  lfd		f3, 0xa0(r1)
/* 0BD390 800C2930 C8010098 */  lfd		f0, 0x98(r1)
/* 0BD394 800C2934 EC632028 */  fsubs	f3, f3, f4
/* 0BD398 800C2938 EC802028 */  fsubs	f4, f0, f4
/* 0BD39C 800C293C 4BFF7C45 */  bl		GXSetViewport
/* 0BD3A0 800C2940 80CD9380 */  lwz		r6, rmode-_SDA_BASE_(r13)
/* 0BD3A4 800C2944 38600000 */  li		r3, 0
/* 0BD3A8 800C2948 38800000 */  li		r4, 0
/* 0BD3AC 800C294C A0A60004 */  lhz		r5, 4(r6)
/* 0BD3B0 800C2950 A0C60006 */  lhz		r6, 6(r6)
/* 0BD3B4 800C2954 4BFF7C75 */  bl		GXSetScissor
/* 0BD3B8 800C2958 808D9380 */  lwz		r4, rmode-_SDA_BASE_(r13)
/* 0BD3BC 800C295C A0640006 */  lhz		r3, 6(r4)
/* 0BD3C0 800C2960 A0840008 */  lhz		r4, 8(r4)
/* 0BD3C4 800C2964 4BFF4C6D */  bl		GXGetYScaleFactor
/* 0BD3C8 800C2968 4BFF4EA1 */  bl		GXSetDispCopyYScale
/* 0BD3CC 800C296C 80CD9380 */  lwz		r6, rmode-_SDA_BASE_(r13)
/* 0BD3D0 800C2970 547E043E */  clrlwi	r30, r3, 0x10
/* 0BD3D4 800C2974 38600000 */  li		r3, 0
/* 0BD3D8 800C2978 A0A60004 */  lhz		r5, 4(r6)
/* 0BD3DC 800C297C 38800000 */  li		r4, 0
/* 0BD3E0 800C2980 A0C60006 */  lhz		r6, 6(r6)
/* 0BD3E4 800C2984 4BFF4975 */  bl		GXSetDispCopySrc
/* 0BD3E8 800C2988 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BD3EC 800C298C 7FC4F378 */  mr		r4, r30
/* 0BD3F0 800C2990 A0630004 */  lhz		r3, 4(r3)
/* 0BD3F4 800C2994 4BFF4A5D */  bl		GXSetDispCopyDst
/* 0BD3F8 800C2998 80CD9380 */  lwz		r6, rmode-_SDA_BASE_(r13)
/* 0BD3FC 800C299C 38A00001 */  li		r5, 1
/* 0BD400 800C29A0 88660019 */  lbz		r3, 0x19(r6)
/* 0BD404 800C29A4 3886001A */  addi	r4, r6, 0x1a
/* 0BD408 800C29A8 38C60032 */  addi	r6, r6, 0x32
/* 0BD40C 800C29AC 4BFF4FA1 */  bl		GXSetCopyFilter
/* 0BD410 800C29B0 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BD414 800C29B4 88030019 */  lbz		r0, 0x19(r3)
/* 0BD418 800C29B8 28000000 */  cmplwi	r0, 0
/* 0BD41C 800C29BC 41820014 */  beq		lbl_800C29D0
/* 0BD420 800C29C0 38600002 */  li		r3, 2
/* 0BD424 800C29C4 38800000 */  li		r4, 0
/* 0BD428 800C29C8 4BFF762D */  bl		GXSetPixelFmt
/* 0BD42C 800C29CC 48000010 */  b		lbl_800C29DC
lbl_800C29D0:
/* 0BD430 800C29D0 38600000 */  li		r3, 0
/* 0BD434 800C29D4 38800000 */  li		r4, 0
/* 0BD438 800C29D8 4BFF761D */  bl		GXSetPixelFmt
lbl_800C29DC:
/* 0BD43C 800C29DC 806D9394 */  lwz		r3, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BD440 800C29E0 38800001 */  li		r4, 1
/* 0BD444 800C29E4 4BFF5185 */  bl		GXCopyDisp
/* 0BD448 800C29E8 38600000 */  li		r3, 0
/* 0BD44C 800C29EC 4BFF5169 */  bl		GXSetDispCopyGamma
/* 0BD450 800C29F0 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BD454 800C29F4 4BFEFE65 */  bl		VIConfigure
/* 0BD458 800C29F8 806D939C */  lwz		r3, DemoFrameBuffer1-_SDA_BASE_(r13)
/* 0BD45C 800C29FC 4BFF07B5 */  bl		VISetNextFrameBuffer
/* 0BD460 800C2A00 800D9398 */  lwz		r0, DemoFrameBuffer2-_SDA_BASE_(r13)
/* 0BD464 800C2A04 900D9394 */  stw		r0, DemoCurrentBuffer-_SDA_BASE_(r13)
/* 0BD468 800C2A08 4BFF0679 */  bl		VIFlush
/* 0BD46C 800C2A0C 4BFEF985 */  bl		VIWaitForRetrace
/* 0BD470 800C2A10 806D9380 */  lwz		r3, rmode-_SDA_BASE_(r13)
/* 0BD474 800C2A14 80030000 */  lwz		r0, 0(r3)
/* 0BD478 800C2A18 540007FF */  clrlwi.	r0, r0, 0x1f
/* 0BD47C 800C2A1C 41820008 */  beq		lbl_800C2A24
/* 0BD480 800C2A20 4BFEF971 */  bl		VIWaitForRetrace
lbl_800C2A24:
/* 0BD484 800C2A24 806D8D00 */  lwz		r3, __OSCurrHeap-_SDA_BASE_(r13)
/* 0BD488 800C2A28 7FE4FB78 */  mr		r4, r31
/* 0BD48C 800C2A2C 4BFE6009 */  bl		OSFreeToHeap
/* 0BD490 800C2A30 800100BC */  lwz		r0, 0xbc(r1)
/* 0BD494 800C2A34 83E100B4 */  lwz		r31, 0xb4(r1)
/* 0BD498 800C2A38 83C100B0 */  lwz		r30, 0xb0(r1)
/* 0BD49C 800C2A3C 83A100AC */  lwz		r29, 0xac(r1)
/* 0BD4A0 800C2A40 838100A8 */  lwz		r28, 0xa8(r1)
/* 0BD4A4 800C2A44 382100B8 */  addi	r1, r1, 0xb8
/* 0BD4A8 800C2A48 7C0803A6 */  mtlr	r0
/* 0BD4AC 800C2A4C 4E800020 */  blr		


.section .data, "wa"

.balign 8

/* 000FDA00 80100980 000B */
D_80100980:
    .asciz "DEMOInit.c"

.balign 4

/* 000FDA0C 8010098C 001D */
D_8010098C:
    .asciz "DEMOInit: invalid TV format\n"

.balign 4

/* 000FDA2C 801009AC 0035 */
D_801009AC:
    .asciz "---------WARNING : HANG AT HIGH WATERMARK----------\n"

.balign 4

/* 000FDA64 801009E4 0010 */
D_801009E4:
    .asciz "Halting program"

.balign 4

/* 000FDA74 801009F4 002D */
D_801009F4:
    .asciz "---------WARNING : ABORTING FRAME----------\n"

.balign 4

/* 000FDAA4 80100A24 001C */
D_80100A24:
    .asciz "GP status %d%d%d%d%d%d --> "

.balign 4

/* 000FDAC0 80100A40 001E */
D_80100A40:
    .asciz "GP hang due to XF stall bug.\n"

.balign 4

/* 000FDAE0 80100A60 0028 */
D_80100A60:
    .asciz "GP hang due to unterminated primitive.\n"

.balign 4

/* 000FDB08 80100A88 0025 */
D_80100A88:
    .asciz "GP hang due to illegal instruction.\n"

.balign 4

/* 000FDB30 80100AB0 0030 */
D_80100AB0:
    .asciz "GP appears to be not hung (waiting for input).\n"

.balign 4

/* 000FDB60 80100AE0 0019 */
D_80100AE0:
    .asciz "GP is in unknown state.\n"


.section .bss, "wa"

.balign 4

/* 0013F448 801423C8 003C */
rmodeobj:
    .skip 60


.section .sdata, "wa"

.balign 8

/* 00100040 801457E0 0001 */
DemoFirstFrame:
    .byte 0x01


.section .sbss, "wa"

.balign 8

/* 001005B8 80145D58 0004 */
DefaultFifo:
    .skip 4

.balign 4

/* 001005BC 80145D5C 0004 */
DefaultFifoObj:
    .skip 4

.balign 4

/* 001005C0 80145D60 0004 */
rmode:
    .skip 4

.balign 4

/* 001005C4 80145D64 0004 */
allocatedFrameBufferSize:
    .skip 4

.balign 4

/* 001005C8 80145D68 0004 */
GPHangWorkaround:
    .skip 4

.balign 4

/* 001005CC 80145D6C 0004 */
FrameCount:
    .skip 4

.balign 4

/* 001005D0 80145D70 0004 */
FrameMissThreshold:
    .skip 4

.balign 4

/* 001005D4 80145D74 0004 */
glabel DemoCurrentBuffer
    .skip 4

.balign 4

/* 001005D8 80145D78 0004 */
glabel DemoFrameBuffer2
    .skip 4

.balign 4

/* 001005DC 80145D7C 0004 */
glabel DemoFrameBuffer1
    .skip 4


.section .sdata2, "wa"

.balign 8

/* 00100620 80146560 0004 */
D_80146560:
    .float 0.0

.balign 4

/* 00100624 80146564 0004 */
D_80146564:
    .float 1.0

.balign 8

/* 00100628 80146568 0008 */
D_80146568:
    .double 4503599627370496.0


