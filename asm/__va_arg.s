# __va_arg.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel __va_arg
/* 0D4384 800D9924 5480063E */  clrlwi	r0, r4, 0x18
/* 0D4388 800D9928 88C30000 */  lbz		r6, 0(r3)
/* 0D438C 800D992C 28000004 */  cmplwi	r0, 4
/* 0D4390 800D9930 38E30000 */  addi	r7, r3, 0
/* 0D4394 800D9934 7CC60774 */  extsb	r6, r6
/* 0D4398 800D9938 38A00008 */  li		r5, 8
/* 0D439C 800D993C 39000004 */  li		r8, 4
/* 0D43A0 800D9940 39200001 */  li		r9, 1
/* 0D43A4 800D9944 39400000 */  li		r10, 0
/* 0D43A8 800D9948 39600000 */  li		r11, 0
/* 0D43AC 800D994C 39800004 */  li		r12, 4
/* 0D43B0 800D9950 40820020 */  bne		lbl_800D9970
/* 0D43B4 800D9954 80830004 */  lwz		r4, 4(r3)
/* 0D43B8 800D9958 3804000F */  addi	r0, r4, 0xf
/* 0D43BC 800D995C 54040036 */  rlwinm	r4, r0, 0, 0, 0x1b
/* 0D43C0 800D9960 38040010 */  addi	r0, r4, 0x10
/* 0D43C4 800D9964 90030004 */  stw		r0, 4(r3)
/* 0D43C8 800D9968 7C832378 */  mr		r3, r4
/* 0D43CC 800D996C 4E800020 */  blr		
lbl_800D9970:
/* 0D43D0 800D9970 28000003 */  cmplwi	r0, 3
/* 0D43D4 800D9974 4082001C */  bne		lbl_800D9990
/* 0D43D8 800D9978 88C30001 */  lbz		r6, 1(r3)
/* 0D43DC 800D997C 38E30001 */  addi	r7, r3, 1
/* 0D43E0 800D9980 39000008 */  li		r8, 8
/* 0D43E4 800D9984 7CC60774 */  extsb	r6, r6
/* 0D43E8 800D9988 39600020 */  li		r11, 0x20
/* 0D43EC 800D998C 39800008 */  li		r12, 8
lbl_800D9990:
/* 0D43F0 800D9990 5480063E */  clrlwi	r0, r4, 0x18
/* 0D43F4 800D9994 28000002 */  cmplwi	r0, 2
/* 0D43F8 800D9998 4082001C */  bne		lbl_800D99B4
/* 0D43FC 800D999C 54C007FF */  clrlwi.	r0, r6, 0x1f
/* 0D4400 800D99A0 39000008 */  li		r8, 8
/* 0D4404 800D99A4 38A00007 */  li		r5, 7
/* 0D4408 800D99A8 41820008 */  beq		lbl_800D99B0
/* 0D440C 800D99AC 39400001 */  li		r10, 1
lbl_800D99B0:
/* 0D4410 800D99B0 39200002 */  li		r9, 2
lbl_800D99B4:
/* 0D4414 800D99B4 7C062800 */  cmpw	r6, r5
/* 0D4418 800D99B8 40800024 */  bge		lbl_800D99DC
/* 0D441C 800D99BC 7CC65214 */  add		r6, r6, r10
/* 0D4420 800D99C0 80A30008 */  lwz		r5, 8(r3)
/* 0D4424 800D99C4 7C6661D6 */  mullw	r3, r6, r12
/* 0D4428 800D99C8 7C064A14 */  add		r0, r6, r9
/* 0D442C 800D99CC 7CCB1A14 */  add		r6, r11, r3
/* 0D4430 800D99D0 98070000 */  stb		r0, 0(r7)
/* 0D4434 800D99D4 7CC53214 */  add		r6, r5, r6
/* 0D4438 800D99D8 4800002C */  b		lbl_800D9A04
lbl_800D99DC:
/* 0D443C 800D99DC 38000008 */  li		r0, 8
/* 0D4440 800D99E0 98070000 */  stb		r0, 0(r7)
/* 0D4444 800D99E4 3808FFFF */  addi	r0, r8, -1
/* 0D4448 800D99E8 7C0600F8 */  nor		r6, r0, r0
/* 0D444C 800D99EC 80030004 */  lwz		r0, 4(r3)
/* 0D4450 800D99F0 7CA80214 */  add		r5, r8, r0
/* 0D4454 800D99F4 3805FFFF */  addi	r0, r5, -1
/* 0D4458 800D99F8 7CC60038 */  and		r6, r6, r0
/* 0D445C 800D99FC 7C064214 */  add		r0, r6, r8
/* 0D4460 800D9A00 90030004 */  stw		r0, 4(r3)
lbl_800D9A04:
/* 0D4464 800D9A04 5480063F */  clrlwi.	r0, r4, 0x18
/* 0D4468 800D9A08 40820008 */  bne		lbl_800D9A10
/* 0D446C 800D9A0C 80C60000 */  lwz		r6, 0(r6)
lbl_800D9A10:
/* 0D4470 800D9A10 7CC33378 */  mr		r3, r6
/* 0D4474 800D9A14 4E800020 */  blr		


