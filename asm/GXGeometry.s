# GXGeometry.c
.include "macros.inc"

.section .text, "ax"

.balign 4

glabel __GXSetDirtyState
/* 0B18D8 800B6E78 7C0802A6 */  mflr    r0
/* 0B18DC 800B6E7C 90010004 */  stw     r0, 4(r1)
/* 0B18E0 800B6E80 9421FFF0 */  stwu    r1, -0x10(r1)
/* 0B18E4 800B6E84 93E1000C */  stw     r31, 0xc(r1)
/* 0B18E8 800B6E88 806284B0 */  lwz     r3, __GXData-_SDA2_BASE_(r2)
/* 0B18EC 800B6E8C 83E305AC */  lwz     r31, 0x5ac(r3)
/* 0B18F0 800B6E90 57E007FF */  clrlwi. r0, r31, 0x1f
/* 0B18F4 800B6E94 41820008 */  beq     lbl_800B6E9C
/* 0B18F8 800B6E98 48001CA9 */  bl      __GXSetSUTexRegs
lbl_800B6E9C:
/* 0B18FC 800B6E9C 57E007BD */  rlwinm. r0, r31, 0, 0x1e, 0x1e
/* 0B1900 800B6EA0 41820008 */  beq     lbl_800B6EA8
/* 0B1904 800B6EA4 48002389 */  bl      __GXUpdateBPMask
lbl_800B6EA8:
/* 0B1908 800B6EA8 57E0077B */  rlwinm. r0, r31, 0, 0x1d, 0x1d
/* 0B190C 800B6EAC 41820008 */  beq     lbl_800B6EB4
/* 0B1910 800B6EB0 480002E1 */  bl      __GXSetGenMode
lbl_800B6EB4:
/* 0B1914 800B6EB4 57E00739 */  rlwinm. r0, r31, 0, 0x1c, 0x1c
/* 0B1918 800B6EB8 41820008 */  beq     lbl_800B6EC0
/* 0B191C 800B6EBC 4BFFEBC1 */  bl      __GXSetVCD
lbl_800B6EC0:
/* 0B1920 800B6EC0 57E006F7 */  rlwinm. r0, r31, 0, 0x1b, 0x1b
/* 0B1924 800B6EC4 41820008 */  beq     lbl_800B6ECC
/* 0B1928 800B6EC8 4BFFF2A9 */  bl      __GXSetVAT
lbl_800B6ECC:
/* 0B192C 800B6ECC 57E006F9 */  rlwinm. r0, r31, 0, 0x1b, 0x1c
/* 0B1930 800B6ED0 41820008 */  beq     lbl_800B6ED8
/* 0B1934 800B6ED4 4BFFEC65 */  bl      __GXCalculateVLim
lbl_800B6ED8:
/* 0B1938 800B6ED8 806284B0 */  lwz     r3, __GXData-_SDA2_BASE_(r2)
/* 0B193C 800B6EDC 38000000 */  li      r0, 0
/* 0B1940 800B6EE0 900305AC */  stw     r0, 0x5ac(r3)
/* 0B1944 800B6EE4 80010014 */  lwz     r0, 0x14(r1)
/* 0B1948 800B6EE8 83E1000C */  lwz     r31, 0xc(r1)
/* 0B194C 800B6EEC 38210010 */  addi    r1, r1, 0x10
/* 0B1950 800B6EF0 7C0803A6 */  mtlr    r0
/* 0B1954 800B6EF4 4E800020 */  blr     

glabel GXBegin
/* 0B1958 800B6EF8 7C0802A6 */  mflr    r0
/* 0B195C 800B6EFC 90010004 */  stw     r0, 4(r1)
/* 0B1960 800B6F00 9421FFD8 */  stwu    r1, -0x28(r1)
/* 0B1964 800B6F04 93E10024 */  stw     r31, 0x24(r1)
/* 0B1968 800B6F08 93C10020 */  stw     r30, 0x20(r1)
/* 0B196C 800B6F0C 3BC50000 */  addi    r30, r5, 0
/* 0B1970 800B6F10 93A1001C */  stw     r29, 0x1c(r1)
/* 0B1974 800B6F14 3BA40000 */  addi    r29, r4, 0
/* 0B1978 800B6F18 93810018 */  stw     r28, 0x18(r1)
/* 0B197C 800B6F1C 3B830000 */  addi    r28, r3, 0
/* 0B1980 800B6F20 80C284B0 */  lwz     r6, __GXData-_SDA2_BASE_(r2)
/* 0B1984 800B6F24 83E605AC */  lwz     r31, 0x5ac(r6)
/* 0B1988 800B6F28 281F0000 */  cmplwi  r31, 0
/* 0B198C 800B6F2C 41820058 */  beq     lbl_800B6F84
/* 0B1990 800B6F30 57E007FF */  clrlwi. r0, r31, 0x1f
/* 0B1994 800B6F34 41820008 */  beq     lbl_800B6F3C
/* 0B1998 800B6F38 48001C09 */  bl      __GXSetSUTexRegs
lbl_800B6F3C:
/* 0B199C 800B6F3C 57E007BD */  rlwinm. r0, r31, 0, 0x1e, 0x1e
/* 0B19A0 800B6F40 41820008 */  beq     lbl_800B6F48
/* 0B19A4 800B6F44 480022E9 */  bl      __GXUpdateBPMask
lbl_800B6F48:
/* 0B19A8 800B6F48 57E0077B */  rlwinm. r0, r31, 0, 0x1d, 0x1d
/* 0B19AC 800B6F4C 41820008 */  beq     lbl_800B6F54
/* 0B19B0 800B6F50 48000241 */  bl      __GXSetGenMode
lbl_800B6F54:
/* 0B19B4 800B6F54 57E00739 */  rlwinm. r0, r31, 0, 0x1c, 0x1c
/* 0B19B8 800B6F58 41820008 */  beq     lbl_800B6F60
/* 0B19BC 800B6F5C 4BFFEB21 */  bl      __GXSetVCD
lbl_800B6F60:
/* 0B19C0 800B6F60 57E006F7 */  rlwinm. r0, r31, 0, 0x1b, 0x1b
/* 0B19C4 800B6F64 41820008 */  beq     lbl_800B6F6C
/* 0B19C8 800B6F68 4BFFF209 */  bl      __GXSetVAT
lbl_800B6F6C:
/* 0B19CC 800B6F6C 57E006F9 */  rlwinm. r0, r31, 0, 0x1b, 0x1c
/* 0B19D0 800B6F70 41820008 */  beq     lbl_800B6F78
/* 0B19D4 800B6F74 4BFFEBC5 */  bl      __GXCalculateVLim
lbl_800B6F78:
/* 0B19D8 800B6F78 806284B0 */  lwz     r3, __GXData-_SDA2_BASE_(r2)
/* 0B19DC 800B6F7C 38000000 */  li      r0, 0
/* 0B19E0 800B6F80 900305AC */  stw     r0, 0x5ac(r3)
lbl_800B6F84:
/* 0B19E4 800B6F84 806284B0 */  lwz     r3, __GXData-_SDA2_BASE_(r2)
/* 0B19E8 800B6F88 80030000 */  lwz     r0, 0(r3)
/* 0B19EC 800B6F8C 28000000 */  cmplwi  r0, 0
/* 0B19F0 800B6F90 40820008 */  bne     lbl_800B6F98
/* 0B19F4 800B6F94 48000035 */  bl      __GXSendFlushPrim
lbl_800B6F98:
/* 0B19F8 800B6F98 7FA0E378 */  or      r0, r29, r28
/* 0B19FC 800B6F9C 3C60CC01 */  lis     r3, 0xcc01
/* 0B1A00 800B6FA0 98038000 */  stb     r0, -0x8000(r3)
/* 0B1A04 800B6FA4 B3C38000 */  sth     r30, -0x8000(r3)
/* 0B1A08 800B6FA8 8001002C */  lwz     r0, 0x2c(r1)
/* 0B1A0C 800B6FAC 83E10024 */  lwz     r31, 0x24(r1)
/* 0B1A10 800B6FB0 83C10020 */  lwz     r30, 0x20(r1)
/* 0B1A14 800B6FB4 83A1001C */  lwz     r29, 0x1c(r1)
/* 0B1A18 800B6FB8 83810018 */  lwz     r28, 0x18(r1)
/* 0B1A1C 800B6FBC 38210028 */  addi    r1, r1, 0x28
/* 0B1A20 800B6FC0 7C0803A6 */  mtlr    r0
/* 0B1A24 800B6FC4 4E800020 */  blr     

glabel __GXSendFlushPrim
/* 0B1A28 800B6FC8 806284B0 */  lwz     r3, __GXData-_SDA2_BASE_(r2)
/* 0B1A2C 800B6FCC 38000098 */  li      r0, 0x98
/* 0B1A30 800B6FD0 3CA0CC01 */  lis     r5, 0xcc01
/* 0B1A34 800B6FD4 A0C30004 */  lhz     r6, 4(r3)
/* 0B1A38 800B6FD8 38800000 */  li      r4, 0
/* 0B1A3C 800B6FDC A0630006 */  lhz     r3, 6(r3)
/* 0B1A40 800B6FE0 7CE619D6 */  mullw   r7, r6, r3
/* 0B1A44 800B6FE4 98058000 */  stb     r0, -0x8000(r5)
/* 0B1A48 800B6FE8 B0C58000 */  sth     r6, -0x8000(r5)
/* 0B1A4C 800B6FEC 38670003 */  addi    r3, r7, 3
/* 0B1A50 800B6FF0 28070000 */  cmplwi  r7, 0
/* 0B1A54 800B6FF4 5463F0BE */  srwi    r3, r3, 2
/* 0B1A58 800B6FF8 40810048 */  ble     lbl_800B7040
/* 0B1A5C 800B6FFC 5460E8FF */  rlwinm. r0, r3, 0x1d, 3, 0x1f
/* 0B1A60 800B7000 7C0903A6 */  mtctr   r0
/* 0B1A64 800B7004 41820030 */  beq     lbl_800B7034
lbl_800B7008:
/* 0B1A68 800B7008 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A6C 800B700C 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A70 800B7010 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A74 800B7014 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A78 800B7018 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A7C 800B701C 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A80 800B7020 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A84 800B7024 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A88 800B7028 4200FFE0 */  bdnz    lbl_800B7008
/* 0B1A8C 800B702C 70630007 */  andi.   r3, r3, 7
/* 0B1A90 800B7030 41820010 */  beq     lbl_800B7040
lbl_800B7034:
/* 0B1A94 800B7034 7C6903A6 */  mtctr   r3
lbl_800B7038:
/* 0B1A98 800B7038 90858000 */  stw     r4, -0x8000(r5)
/* 0B1A9C 800B703C 4200FFFC */  bdnz    lbl_800B7038
lbl_800B7040:
/* 0B1AA0 800B7040 806284B0 */  lwz     r3, __GXData-_SDA2_BASE_(r2)
/* 0B1AA4 800B7044 38000001 */  li      r0, 1
/* 0B1AA8 800B7048 B0030002 */  sth     r0, 2(r3)
/* 0B1AAC 800B704C 4E800020 */  blr     

glabel GXSetLineWidth
/* 0B1AB0 800B7050 80E284B0 */  lwz     r7, __GXData-_SDA2_BASE_(r2)
/* 0B1AB4 800B7054 5460063E */  clrlwi  r0, r3, 0x18
/* 0B1AB8 800B7058 38600061 */  li      r3, 0x61
/* 0B1ABC 800B705C 80C7007C */  lwz     r6, 0x7c(r7)
/* 0B1AC0 800B7060 5006063E */  rlwimi  r6, r0, 0, 0x18, 0x1f
/* 0B1AC4 800B7064 3CA0CC01 */  lis     r5, 0xcc01
/* 0B1AC8 800B7068 90C7007C */  stw     r6, 0x7c(r7)
/* 0B1ACC 800B706C 38000000 */  li      r0, 0
/* 0B1AD0 800B7070 80C7007C */  lwz     r6, 0x7c(r7)
/* 0B1AD4 800B7074 5086835E */  rlwimi  r6, r4, 0x10, 0xd, 0xf
/* 0B1AD8 800B7078 90C7007C */  stw     r6, 0x7c(r7)
/* 0B1ADC 800B707C 98658000 */  stb     r3, -0x8000(r5)
/* 0B1AE0 800B7080 8067007C */  lwz     r3, 0x7c(r7)
/* 0B1AE4 800B7084 90658000 */  stw     r3, -0x8000(r5)
/* 0B1AE8 800B7088 B0070002 */  sth     r0, 2(r7)
/* 0B1AEC 800B708C 4E800020 */  blr     

glabel GXSetPointSize
/* 0B1AF0 800B7090 80E284B0 */  lwz     r7, __GXData-_SDA2_BASE_(r2)
/* 0B1AF4 800B7094 5460063E */  clrlwi  r0, r3, 0x18
/* 0B1AF8 800B7098 38600061 */  li      r3, 0x61
/* 0B1AFC 800B709C 80C7007C */  lwz     r6, 0x7c(r7)
/* 0B1B00 800B70A0 5006442E */  rlwimi  r6, r0, 8, 0x10, 0x17
/* 0B1B04 800B70A4 3CA0CC01 */  lis     r5, 0xcc01
/* 0B1B08 800B70A8 90C7007C */  stw     r6, 0x7c(r7)
/* 0B1B0C 800B70AC 38000000 */  li      r0, 0
/* 0B1B10 800B70B0 80C7007C */  lwz     r6, 0x7c(r7)
/* 0B1B14 800B70B4 50869A98 */  rlwimi  r6, r4, 0x13, 0xa, 0xc
/* 0B1B18 800B70B8 90C7007C */  stw     r6, 0x7c(r7)
/* 0B1B1C 800B70BC 98658000 */  stb     r3, -0x8000(r5)
/* 0B1B20 800B70C0 8067007C */  lwz     r3, 0x7c(r7)
/* 0B1B24 800B70C4 90658000 */  stw     r3, -0x8000(r5)
/* 0B1B28 800B70C8 B0070002 */  sth     r0, 2(r7)
/* 0B1B2C 800B70CC 4E800020 */  blr     

glabel GXEnableTexOffsets
/* 0B1B30 800B70D0 80E284B0 */  lwz     r7, __GXData-_SDA2_BASE_(r2)
/* 0B1B34 800B70D4 5463103A */  slwi    r3, r3, 2
/* 0B1B38 800B70D8 54A0063E */  clrlwi  r0, r5, 0x18
/* 0B1B3C 800B70DC 7CC71A14 */  add     r6, r7, r3
/* 0B1B40 800B70E0 806600B8 */  lwz     r3, 0xb8(r6)
/* 0B1B44 800B70E4 5083935A */  rlwimi  r3, r4, 0x12, 0xd, 0xd
/* 0B1B48 800B70E8 3C80CC01 */  lis     r4, 0xcc01
/* 0B1B4C 800B70EC 906600B8 */  stw     r3, 0xb8(r6)
/* 0B1B50 800B70F0 38600061 */  li      r3, 0x61
/* 0B1B54 800B70F4 80A600B8 */  lwz     r5, 0xb8(r6)
/* 0B1B58 800B70F8 50059B18 */  rlwimi  r5, r0, 0x13, 0xc, 0xc
/* 0B1B5C 800B70FC 38000000 */  li      r0, 0
/* 0B1B60 800B7100 90A600B8 */  stw     r5, 0xb8(r6)
/* 0B1B64 800B7104 98648000 */  stb     r3, -0x8000(r4)
/* 0B1B68 800B7108 806600B8 */  lwz     r3, 0xb8(r6)
/* 0B1B6C 800B710C 90648000 */  stw     r3, -0x8000(r4)
/* 0B1B70 800B7110 B0070002 */  sth     r0, 2(r7)
/* 0B1B74 800B7114 4E800020 */  blr     

glabel GXSetCullMode
/* 0B1B78 800B7118 2C030002 */  cmpwi   r3, 2
/* 0B1B7C 800B711C 4182001C */  beq     lbl_800B7138
/* 0B1B80 800B7120 4080001C */  bge     lbl_800B713C
/* 0B1B84 800B7124 2C030001 */  cmpwi   r3, 1
/* 0B1B88 800B7128 40800008 */  bge     lbl_800B7130
/* 0B1B8C 800B712C 48000010 */  b       lbl_800B713C
lbl_800B7130:
/* 0B1B90 800B7130 38600002 */  li      r3, 2
/* 0B1B94 800B7134 48000008 */  b       lbl_800B713C
lbl_800B7138:
/* 0B1B98 800B7138 38600001 */  li      r3, 1
lbl_800B713C:
/* 0B1B9C 800B713C 808284B0 */  lwz     r4, __GXData-_SDA2_BASE_(r2)
/* 0B1BA0 800B7140 80040204 */  lwz     r0, 0x204(r4)
/* 0B1BA4 800B7144 50607422 */  rlwimi  r0, r3, 0xe, 0x10, 0x11
/* 0B1BA8 800B7148 90040204 */  stw     r0, 0x204(r4)
/* 0B1BAC 800B714C 800405AC */  lwz     r0, 0x5ac(r4)
/* 0B1BB0 800B7150 60000004 */  ori     r0, r0, 4
/* 0B1BB4 800B7154 900405AC */  stw     r0, 0x5ac(r4)
/* 0B1BB8 800B7158 4E800020 */  blr     

glabel GXSetCoPlanar
/* 0B1BBC 800B715C 80C284B0 */  lwz     r6, __GXData-_SDA2_BASE_(r2)
/* 0B1BC0 800B7160 38800061 */  li      r4, 0x61
/* 0B1BC4 800B7164 3C00FE08 */  lis     r0, 0xfe08
/* 0B1BC8 800B7168 80A60204 */  lwz     r5, 0x204(r6)
/* 0B1BCC 800B716C 50659B18 */  rlwimi  r5, r3, 0x13, 0xc, 0xc
/* 0B1BD0 800B7170 3C60CC01 */  lis     r3, 0xcc01
/* 0B1BD4 800B7174 90A60204 */  stw     r5, 0x204(r6)
/* 0B1BD8 800B7178 98838000 */  stb     r4, -0x8000(r3)
/* 0B1BDC 800B717C 90038000 */  stw     r0, -0x8000(r3)
/* 0B1BE0 800B7180 98838000 */  stb     r4, -0x8000(r3)
/* 0B1BE4 800B7184 80060204 */  lwz     r0, 0x204(r6)
/* 0B1BE8 800B7188 90038000 */  stw     r0, -0x8000(r3)
/* 0B1BEC 800B718C 4E800020 */  blr     

glabel __GXSetGenMode
/* 0B1BF0 800B7190 38000061 */  li      r0, 0x61
/* 0B1BF4 800B7194 808284B0 */  lwz     r4, __GXData-_SDA2_BASE_(r2)
/* 0B1BF8 800B7198 3CA0CC01 */  lis     r5, 0xcc01
/* 0B1BFC 800B719C 98058000 */  stb     r0, -0x8000(r5)
/* 0B1C00 800B71A0 38000000 */  li      r0, 0
/* 0B1C04 800B71A4 80640204 */  lwz     r3, 0x204(r4)
/* 0B1C08 800B71A8 90658000 */  stw     r3, -0x8000(r5)
/* 0B1C0C 800B71AC B0040002 */  sth     r0, 2(r4)
/* 0B1C10 800B71B0 4E800020 */  blr     


