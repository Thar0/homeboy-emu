# EXIUart.c
.include "macros.inc"

.section .text, "ax"

.balign 4

ProbeBarnacle:
/* 0AA614 800AFBB4 7C0802A6 */  mflr	r0
/* 0AA618 800AFBB8 90010004 */  stw		r0, 4(r1)
/* 0AA61C 800AFBBC 9421FFD8 */  stwu	r1, -0x28(r1)
/* 0AA620 800AFBC0 93E10024 */  stw		r31, 0x24(r1)
/* 0AA624 800AFBC4 3BE50000 */  addi	r31, r5, 0
/* 0AA628 800AFBC8 93C10020 */  stw		r30, 0x20(r1)
/* 0AA62C 800AFBCC 3BC40000 */  addi	r30, r4, 0
/* 0AA630 800AFBD0 93A1001C */  stw		r29, 0x1c(r1)
/* 0AA634 800AFBD4 3BA30000 */  addi	r29, r3, 0
/* 0AA638 800AFBD8 2C1D0002 */  cmpwi	r29, 2
/* 0AA63C 800AFBDC 93810018 */  stw		r28, 0x18(r1)
/* 0AA640 800AFBE0 41820028 */  beq		lbl_800AFC08
/* 0AA644 800AFBE4 281E0000 */  cmplwi	r30, 0
/* 0AA648 800AFBE8 40820020 */  bne		lbl_800AFC08
/* 0AA64C 800AFBEC 387D0000 */  addi	r3, r29, 0
/* 0AA650 800AFBF0 38800000 */  li		r4, 0
/* 0AA654 800AFBF4 4BFFF079 */  bl		EXIAttach
/* 0AA658 800AFBF8 2C030000 */  cmpwi	r3, 0
/* 0AA65C 800AFBFC 4082000C */  bne		lbl_800AFC08
/* 0AA660 800AFC00 38600000 */  li		r3, 0
/* 0AA664 800AFC04 4800011C */  b		lbl_800AFD20
lbl_800AFC08:
/* 0AA668 800AFC08 387D0000 */  addi	r3, r29, 0
/* 0AA66C 800AFC0C 389E0000 */  addi	r4, r30, 0
/* 0AA670 800AFC10 38A00000 */  li		r5, 0
/* 0AA674 800AFC14 4BFFF9E1 */  bl		EXILock
/* 0AA678 800AFC18 7C600034 */  cntlzw	r0, r3
/* 0AA67C 800AFC1C 5400D97E */  srwi	r0, r0, 5
/* 0AA680 800AFC20 7C1C0379 */  or.		r28, r0, r0
/* 0AA684 800AFC24 408200B8 */  bne		lbl_800AFCDC
/* 0AA688 800AFC28 387D0000 */  addi	r3, r29, 0
/* 0AA68C 800AFC2C 389E0000 */  addi	r4, r30, 0
/* 0AA690 800AFC30 38A00000 */  li		r5, 0
/* 0AA694 800AFC34 4BFFF201 */  bl		EXISelect
/* 0AA698 800AFC38 7C600034 */  cntlzw	r0, r3
/* 0AA69C 800AFC3C 5400D97E */  srwi	r0, r0, 5
/* 0AA6A0 800AFC40 7C1C0379 */  or.		r28, r0, r0
/* 0AA6A4 800AFC44 40820090 */  bne		lbl_800AFCD4
/* 0AA6A8 800AFC48 3C602001 */  lis		r3, 0x2001
/* 0AA6AC 800AFC4C 38031300 */  addi	r0, r3, 0x1300
/* 0AA6B0 800AFC50 90010014 */  stw		r0, 0x14(r1)
/* 0AA6B4 800AFC54 387D0000 */  addi	r3, r29, 0
/* 0AA6B8 800AFC58 38810014 */  addi	r4, r1, 0x14
/* 0AA6BC 800AFC5C 38A00004 */  li		r5, 4
/* 0AA6C0 800AFC60 38C00001 */  li		r6, 1
/* 0AA6C4 800AFC64 38E00000 */  li		r7, 0
/* 0AA6C8 800AFC68 4BFFE665 */  bl		EXIImm
/* 0AA6CC 800AFC6C 7C600034 */  cntlzw	r0, r3
/* 0AA6D0 800AFC70 387D0000 */  addi	r3, r29, 0
/* 0AA6D4 800AFC74 541CD97E */  srwi	r28, r0, 5
/* 0AA6D8 800AFC78 4BFFEA3D */  bl		EXISync
/* 0AA6DC 800AFC7C 7C600034 */  cntlzw	r0, r3
/* 0AA6E0 800AFC80 5400D97E */  srwi	r0, r0, 5
/* 0AA6E4 800AFC84 387D0000 */  addi	r3, r29, 0
/* 0AA6E8 800AFC88 389F0000 */  addi	r4, r31, 0
/* 0AA6EC 800AFC8C 7F9C0378 */  or		r28, r28, r0
/* 0AA6F0 800AFC90 38A00004 */  li		r5, 4
/* 0AA6F4 800AFC94 38C00000 */  li		r6, 0
/* 0AA6F8 800AFC98 38E00000 */  li		r7, 0
/* 0AA6FC 800AFC9C 4BFFE631 */  bl		EXIImm
/* 0AA700 800AFCA0 7C600034 */  cntlzw	r0, r3
/* 0AA704 800AFCA4 5400D97E */  srwi	r0, r0, 5
/* 0AA708 800AFCA8 387D0000 */  addi	r3, r29, 0
/* 0AA70C 800AFCAC 7F9C0378 */  or		r28, r28, r0
/* 0AA710 800AFCB0 4BFFEA05 */  bl		EXISync
/* 0AA714 800AFCB4 7C600034 */  cntlzw	r0, r3
/* 0AA718 800AFCB8 5400D97E */  srwi	r0, r0, 5
/* 0AA71C 800AFCBC 387D0000 */  addi	r3, r29, 0
/* 0AA720 800AFCC0 7F9C0378 */  or		r28, r28, r0
/* 0AA724 800AFCC4 4BFFF29D */  bl		EXIDeselect
/* 0AA728 800AFCC8 7C600034 */  cntlzw	r0, r3
/* 0AA72C 800AFCCC 5400D97E */  srwi	r0, r0, 5
/* 0AA730 800AFCD0 7F9C0378 */  or		r28, r28, r0
lbl_800AFCD4:
/* 0AA734 800AFCD4 7FA3EB78 */  mr		r3, r29
/* 0AA738 800AFCD8 4BFFFA11 */  bl		EXIUnlock
lbl_800AFCDC:
/* 0AA73C 800AFCDC 2C1D0002 */  cmpwi	r29, 2
/* 0AA740 800AFCE0 41820014 */  beq		lbl_800AFCF4
/* 0AA744 800AFCE4 281E0000 */  cmplwi	r30, 0
/* 0AA748 800AFCE8 4082000C */  bne		lbl_800AFCF4
/* 0AA74C 800AFCEC 7FA3EB78 */  mr		r3, r29
/* 0AA750 800AFCF0 4BFFF089 */  bl		EXIDetach
lbl_800AFCF4:
/* 0AA754 800AFCF4 2C1C0000 */  cmpwi	r28, 0
/* 0AA758 800AFCF8 4182000C */  beq		lbl_800AFD04
/* 0AA75C 800AFCFC 38600000 */  li		r3, 0
/* 0AA760 800AFD00 48000020 */  b		lbl_800AFD20
lbl_800AFD04:
/* 0AA764 800AFD04 807F0000 */  lwz		r3, 0(r31)
/* 0AA768 800AFD08 3C030001 */  addis	r0, r3, 1
/* 0AA76C 800AFD0C 2800FFFF */  cmplwi	r0, 0xffff
/* 0AA770 800AFD10 4182000C */  beq		lbl_800AFD1C
/* 0AA774 800AFD14 38600001 */  li		r3, 1
/* 0AA778 800AFD18 48000008 */  b		lbl_800AFD20
lbl_800AFD1C:
/* 0AA77C 800AFD1C 38600000 */  li		r3, 0
lbl_800AFD20:
/* 0AA780 800AFD20 8001002C */  lwz		r0, 0x2c(r1)
/* 0AA784 800AFD24 83E10024 */  lwz		r31, 0x24(r1)
/* 0AA788 800AFD28 83C10020 */  lwz		r30, 0x20(r1)
/* 0AA78C 800AFD2C 83A1001C */  lwz		r29, 0x1c(r1)
/* 0AA790 800AFD30 83810018 */  lwz		r28, 0x18(r1)
/* 0AA794 800AFD34 38210028 */  addi	r1, r1, 0x28
/* 0AA798 800AFD38 7C0803A6 */  mtlr	r0
/* 0AA79C 800AFD3C 4E800020 */  blr		

glabel __OSEnableBarnacle
/* 0AA7A0 800AFD40 7C0802A6 */  mflr	r0
/* 0AA7A4 800AFD44 90010004 */  stw		r0, 4(r1)
/* 0AA7A8 800AFD48 9421FFE0 */  stwu	r1, -0x20(r1)
/* 0AA7AC 800AFD4C 93E1001C */  stw		r31, 0x1c(r1)
/* 0AA7B0 800AFD50 3BE40000 */  addi	r31, r4, 0
/* 0AA7B4 800AFD54 38A10010 */  addi	r5, r1, 0x10
/* 0AA7B8 800AFD58 93C10018 */  stw		r30, 0x18(r1)
/* 0AA7BC 800AFD5C 3BC30000 */  addi	r30, r3, 0
/* 0AA7C0 800AFD60 4BFFFAA5 */  bl		EXIGetID
/* 0AA7C4 800AFD64 2C030000 */  cmpwi	r3, 0
/* 0AA7C8 800AFD68 4182017C */  beq		lbl_800AFEE4
/* 0AA7CC 800AFD6C 80810010 */  lwz		r4, 0x10(r1)
/* 0AA7D0 800AFD70 3C000102 */  lis		r0, 0x102
/* 0AA7D4 800AFD74 7C040000 */  cmpw	r4, r0
/* 0AA7D8 800AFD78 4182016C */  beq		lbl_800AFEE4
/* 0AA7DC 800AFD7C 40800094 */  bge		lbl_800AFE10
/* 0AA7E0 800AFD80 2C040004 */  cmpwi	r4, 4
/* 0AA7E4 800AFD84 41820160 */  beq		lbl_800AFEE4
/* 0AA7E8 800AFD88 40800054 */  bge		lbl_800AFDDC
/* 0AA7EC 800AFD8C 3C608000 */  lis		r3, 0x8000
/* 0AA7F0 800AFD90 38030010 */  addi	r0, r3, 0x10
/* 0AA7F4 800AFD94 7C040000 */  cmpw	r4, r0
/* 0AA7F8 800AFD98 4182014C */  beq		lbl_800AFEE4
/* 0AA7FC 800AFD9C 40800024 */  bge		lbl_800AFDC0
/* 0AA800 800AFDA0 38030008 */  addi	r0, r3, 8
/* 0AA804 800AFDA4 7C040000 */  cmpw	r4, r0
/* 0AA808 800AFDA8 4182013C */  beq		lbl_800AFEE4
/* 0AA80C 800AFDAC 40800108 */  bge		lbl_800AFEB4
/* 0AA810 800AFDB0 38030004 */  addi	r0, r3, 4
/* 0AA814 800AFDB4 7C040000 */  cmpw	r4, r0
/* 0AA818 800AFDB8 4182012C */  beq		lbl_800AFEE4
/* 0AA81C 800AFDBC 480000F8 */  b		lbl_800AFEB4
lbl_800AFDC0:
/* 0AA820 800AFDC0 2C04FFFF */  cmpwi	r4, -1
/* 0AA824 800AFDC4 41820120 */  beq		lbl_800AFEE4
/* 0AA828 800AFDC8 408000EC */  bge		lbl_800AFEB4
/* 0AA82C 800AFDCC 38030020 */  addi	r0, r3, 0x20
/* 0AA830 800AFDD0 7C040000 */  cmpw	r4, r0
/* 0AA834 800AFDD4 41820110 */  beq		lbl_800AFEE4
/* 0AA838 800AFDD8 480000DC */  b		lbl_800AFEB4
lbl_800AFDDC:
/* 0AA83C 800AFDDC 2C040020 */  cmpwi	r4, 0x20
/* 0AA840 800AFDE0 41820104 */  beq		lbl_800AFEE4
/* 0AA844 800AFDE4 4080001C */  bge		lbl_800AFE00
/* 0AA848 800AFDE8 2C040010 */  cmpwi	r4, 0x10
/* 0AA84C 800AFDEC 418200F8 */  beq		lbl_800AFEE4
/* 0AA850 800AFDF0 408000C4 */  bge		lbl_800AFEB4
/* 0AA854 800AFDF4 2C040008 */  cmpwi	r4, 8
/* 0AA858 800AFDF8 418200EC */  beq		lbl_800AFEE4
/* 0AA85C 800AFDFC 480000B8 */  b		lbl_800AFEB4
lbl_800AFE00:
/* 0AA860 800AFE00 3C000101 */  lis		r0, 0x101
/* 0AA864 800AFE04 7C040000 */  cmpw	r4, r0
/* 0AA868 800AFE08 418200DC */  beq		lbl_800AFEE4
/* 0AA86C 800AFE0C 480000A8 */  b		lbl_800AFEB4
lbl_800AFE10:
/* 0AA870 800AFE10 3C600404 */  lis		r3, 0x404
/* 0AA874 800AFE14 38030404 */  addi	r0, r3, 0x404
/* 0AA878 800AFE18 7C040000 */  cmpw	r4, r0
/* 0AA87C 800AFE1C 418200C8 */  beq		lbl_800AFEE4
/* 0AA880 800AFE20 40800058 */  bge		lbl_800AFE78
/* 0AA884 800AFE24 3C600402 */  lis		r3, 0x402
/* 0AA888 800AFE28 38030100 */  addi	r0, r3, 0x100
/* 0AA88C 800AFE2C 7C040000 */  cmpw	r4, r0
/* 0AA890 800AFE30 418200B4 */  beq		lbl_800AFEE4
/* 0AA894 800AFE34 40800024 */  bge		lbl_800AFE58
/* 0AA898 800AFE38 3C000301 */  lis		r0, 0x301
/* 0AA89C 800AFE3C 7C040000 */  cmpw	r4, r0
/* 0AA8A0 800AFE40 418200A4 */  beq		lbl_800AFEE4
/* 0AA8A4 800AFE44 40800070 */  bge		lbl_800AFEB4
/* 0AA8A8 800AFE48 3C000202 */  lis		r0, 0x202
/* 0AA8AC 800AFE4C 7C040000 */  cmpw	r4, r0
/* 0AA8B0 800AFE50 41820094 */  beq		lbl_800AFEE4
/* 0AA8B4 800AFE54 48000060 */  b		lbl_800AFEB4
lbl_800AFE58:
/* 0AA8B8 800AFE58 38030300 */  addi	r0, r3, 0x300
/* 0AA8BC 800AFE5C 7C040000 */  cmpw	r4, r0
/* 0AA8C0 800AFE60 41820084 */  beq		lbl_800AFEE4
/* 0AA8C4 800AFE64 40800050 */  bge		lbl_800AFEB4
/* 0AA8C8 800AFE68 38030200 */  addi	r0, r3, 0x200
/* 0AA8CC 800AFE6C 7C040000 */  cmpw	r4, r0
/* 0AA8D0 800AFE70 41820074 */  beq		lbl_800AFEE4
/* 0AA8D4 800AFE74 48000040 */  b		lbl_800AFEB4
lbl_800AFE78:
/* 0AA8D8 800AFE78 3C000413 */  lis		r0, 0x413
/* 0AA8DC 800AFE7C 7C040000 */  cmpw	r4, r0
/* 0AA8E0 800AFE80 41820064 */  beq		lbl_800AFEE4
/* 0AA8E4 800AFE84 40800024 */  bge		lbl_800AFEA8
/* 0AA8E8 800AFE88 3C000412 */  lis		r0, 0x412
/* 0AA8EC 800AFE8C 7C040000 */  cmpw	r4, r0
/* 0AA8F0 800AFE90 41820054 */  beq		lbl_800AFEE4
/* 0AA8F4 800AFE94 40800020 */  bge		lbl_800AFEB4
/* 0AA8F8 800AFE98 3C000406 */  lis		r0, 0x406
/* 0AA8FC 800AFE9C 7C040000 */  cmpw	r4, r0
/* 0AA900 800AFEA0 41820044 */  beq		lbl_800AFEE4
/* 0AA904 800AFEA4 48000010 */  b		lbl_800AFEB4
lbl_800AFEA8:
/* 0AA908 800AFEA8 3C000422 */  lis		r0, 0x422
/* 0AA90C 800AFEAC 7C040000 */  cmpw	r4, r0
/* 0AA910 800AFEB0 41820034 */  beq		lbl_800AFEE4
lbl_800AFEB4:
/* 0AA914 800AFEB4 387E0000 */  addi	r3, r30, 0
/* 0AA918 800AFEB8 389F0000 */  addi	r4, r31, 0
/* 0AA91C 800AFEBC 38A10010 */  addi	r5, r1, 0x10
/* 0AA920 800AFEC0 4BFFFCF5 */  bl		ProbeBarnacle
/* 0AA924 800AFEC4 2C030000 */  cmpwi	r3, 0
/* 0AA928 800AFEC8 4182001C */  beq		lbl_800AFEE4
/* 0AA92C 800AFECC 3C60A5FF */  lis		r3, 0xa5ff
/* 0AA930 800AFED0 93CD9190 */  stw		r30, Chan-_SDA_BASE_(r13)
/* 0AA934 800AFED4 3803005A */  addi	r0, r3, 0x5a
/* 0AA938 800AFED8 93ED9194 */  stw		r31, Dev-_SDA_BASE_(r13)
/* 0AA93C 800AFEDC 900D919C */  stw		r0, BarnacleEnabled-_SDA_BASE_(r13)
/* 0AA940 800AFEE0 900D9198 */  stw		r0, Enabled-_SDA_BASE_(r13)
lbl_800AFEE4:
/* 0AA944 800AFEE4 80010024 */  lwz		r0, 0x24(r1)
/* 0AA948 800AFEE8 83E1001C */  lwz		r31, 0x1c(r1)
/* 0AA94C 800AFEEC 83C10018 */  lwz		r30, 0x18(r1)
/* 0AA950 800AFEF0 38210020 */  addi	r1, r1, 0x20
/* 0AA954 800AFEF4 7C0803A6 */  mtlr	r0
/* 0AA958 800AFEF8 4E800020 */  blr		

glabel InitializeUART
/* 0AA95C 800AFEFC 7C0802A6 */  mflr	r0
/* 0AA960 800AFF00 90010004 */  stw		r0, 4(r1)
/* 0AA964 800AFF04 9421FFF8 */  stwu	r1, -8(r1)
/* 0AA968 800AFF08 806D919C */  lwz		r3, BarnacleEnabled-_SDA_BASE_(r13)
/* 0AA96C 800AFF0C 3C035A01 */  addis	r0, r3, 0x5a01
/* 0AA970 800AFF10 2800005A */  cmplwi	r0, 0x5a
/* 0AA974 800AFF14 4082000C */  bne		lbl_800AFF20
/* 0AA978 800AFF18 38600000 */  li		r3, 0
/* 0AA97C 800AFF1C 48000040 */  b		lbl_800AFF5C
lbl_800AFF20:
/* 0AA980 800AFF20 4BFF784D */  bl		OSGetConsoleType
/* 0AA984 800AFF24 546000C7 */  rlwinm.	r0, r3, 0, 3, 3
/* 0AA988 800AFF28 40820014 */  bne		lbl_800AFF3C
/* 0AA98C 800AFF2C 38000000 */  li		r0, 0
/* 0AA990 800AFF30 900D9198 */  stw		r0, Enabled-_SDA_BASE_(r13)
/* 0AA994 800AFF34 38600002 */  li		r3, 2
/* 0AA998 800AFF38 48000024 */  b		lbl_800AFF5C
lbl_800AFF3C:
/* 0AA99C 800AFF3C 3C60A5FF */  lis		r3, 0xa5ff
/* 0AA9A0 800AFF40 3803005A */  addi	r0, r3, 0x5a
/* 0AA9A4 800AFF44 38600000 */  li		r3, 0
/* 0AA9A8 800AFF48 900D9198 */  stw		r0, Enabled-_SDA_BASE_(r13)
/* 0AA9AC 800AFF4C 38000001 */  li		r0, 1
/* 0AA9B0 800AFF50 906D9190 */  stw		r3, Chan-_SDA_BASE_(r13)
/* 0AA9B4 800AFF54 38600000 */  li		r3, 0
/* 0AA9B8 800AFF58 900D9194 */  stw		r0, Dev-_SDA_BASE_(r13)
lbl_800AFF5C:
/* 0AA9BC 800AFF5C 8001000C */  lwz		r0, 0xc(r1)
/* 0AA9C0 800AFF60 38210008 */  addi	r1, r1, 8
/* 0AA9C4 800AFF64 7C0803A6 */  mtlr	r0
/* 0AA9C8 800AFF68 4E800020 */  blr		

glabel ReadUARTN
/* 0AA9CC 800AFF6C 38600004 */  li		r3, 4
/* 0AA9D0 800AFF70 4E800020 */  blr		

glabel WriteUARTN
/* 0AA9D4 800AFF74 7C0802A6 */  mflr	r0
/* 0AA9D8 800AFF78 90010004 */  stw		r0, 4(r1)
/* 0AA9DC 800AFF7C 9421FFC8 */  stwu	r1, -0x38(r1)
/* 0AA9E0 800AFF80 BF21001C */  stmw	r25, 0x1c(r1)
/* 0AA9E4 800AFF84 3BC30000 */  addi	r30, r3, 0
/* 0AA9E8 800AFF88 3BE40000 */  addi	r31, r4, 0
/* 0AA9EC 800AFF8C 80AD9198 */  lwz		r5, Enabled-_SDA_BASE_(r13)
/* 0AA9F0 800AFF90 3C055A01 */  addis	r0, r5, 0x5a01
/* 0AA9F4 800AFF94 2800005A */  cmplwi	r0, 0x5a
/* 0AA9F8 800AFF98 4182000C */  beq		lbl_800AFFA4
/* 0AA9FC 800AFF9C 38600002 */  li		r3, 2
/* 0AAA00 800AFFA0 480001DC */  b		lbl_800B017C
lbl_800AFFA4:
/* 0AAA04 800AFFA4 4BFFA7CD */  bl		OSDisableInterrupts
/* 0AAA08 800AFFA8 7C601B78 */  mr		r0, r3
/* 0AAA0C 800AFFAC 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAA10 800AFFB0 808D9194 */  lwz		r4, Dev-_SDA_BASE_(r13)
/* 0AAA14 800AFFB4 7C1B0378 */  mr		r27, r0
/* 0AAA18 800AFFB8 38A00000 */  li		r5, 0
/* 0AAA1C 800AFFBC 4BFFF639 */  bl		EXILock
/* 0AAA20 800AFFC0 2C030000 */  cmpwi	r3, 0
/* 0AAA24 800AFFC4 40820014 */  bne		lbl_800AFFD8
/* 0AAA28 800AFFC8 7F63DB78 */  mr		r3, r27
/* 0AAA2C 800AFFCC 4BFFA7CD */  bl		OSRestoreInterrupts
/* 0AAA30 800AFFD0 38600000 */  li		r3, 0
/* 0AAA34 800AFFD4 480001A8 */  b		lbl_800B017C
lbl_800AFFD8:
/* 0AAA38 800AFFD8 389E0000 */  addi	r4, r30, 0
/* 0AAA3C 800AFFDC 3860000D */  li		r3, 0xd
/* 0AAA40 800AFFE0 48000018 */  b		lbl_800AFFF8
lbl_800AFFE4:
/* 0AAA44 800AFFE4 88040000 */  lbz		r0, 0(r4)
/* 0AAA48 800AFFE8 2C00000A */  cmpwi	r0, 0xa
/* 0AAA4C 800AFFEC 40820008 */  bne		lbl_800AFFF4
/* 0AAA50 800AFFF0 98640000 */  stb		r3, 0(r4)
lbl_800AFFF4:
/* 0AAA54 800AFFF4 38840001 */  addi	r4, r4, 1
lbl_800AFFF8:
/* 0AAA58 800AFFF8 7C1E2050 */  subf	r0, r30, r4
/* 0AAA5C 800AFFFC 7C00F840 */  cmplw	r0, r31
/* 0AAA60 800B0000 4180FFE4 */  blt		lbl_800AFFE4
/* 0AAA64 800B0004 3C00A001 */  lis		r0, 0xa001
/* 0AAA68 800B0008 90010014 */  stw		r0, 0x14(r1)
/* 0AAA6C 800B000C 3B200000 */  li		r25, 0
/* 0AAA70 800B0010 3FA02001 */  lis		r29, 0x2001
/* 0AAA74 800B0014 4800014C */  b		lbl_800B0160
lbl_800B0018:
/* 0AAA78 800B0018 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAA7C 800B001C 38A00003 */  li		r5, 3
/* 0AAA80 800B0020 808D9194 */  lwz		r4, Dev-_SDA_BASE_(r13)
/* 0AAA84 800B0024 4BFFEE11 */  bl		EXISelect
/* 0AAA88 800B0028 2C030000 */  cmpwi	r3, 0
/* 0AAA8C 800B002C 4082000C */  bne		lbl_800B0038
/* 0AAA90 800B0030 3800FFFF */  li		r0, -1
/* 0AAA94 800B0034 4800005C */  b		lbl_800B0090
lbl_800B0038:
/* 0AAA98 800B0038 93A10010 */  stw		r29, 0x10(r1)
/* 0AAA9C 800B003C 38810010 */  addi	r4, r1, 0x10
/* 0AAAA0 800B0040 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAAA4 800B0044 38A00004 */  li		r5, 4
/* 0AAAA8 800B0048 38C00001 */  li		r6, 1
/* 0AAAAC 800B004C 38E00000 */  li		r7, 0
/* 0AAAB0 800B0050 4BFFE27D */  bl		EXIImm
/* 0AAAB4 800B0054 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAAB8 800B0058 4BFFE65D */  bl		EXISync
/* 0AAABC 800B005C 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAAC0 800B0060 38810010 */  addi	r4, r1, 0x10
/* 0AAAC4 800B0064 38A00001 */  li		r5, 1
/* 0AAAC8 800B0068 38C00000 */  li		r6, 0
/* 0AAACC 800B006C 38E00000 */  li		r7, 0
/* 0AAAD0 800B0070 4BFFE25D */  bl		EXIImm
/* 0AAAD4 800B0074 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAAD8 800B0078 4BFFE63D */  bl		EXISync
/* 0AAADC 800B007C 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAAE0 800B0080 4BFFEEE1 */  bl		EXIDeselect
/* 0AAAE4 800B0084 80010010 */  lwz		r0, 0x10(r1)
/* 0AAAE8 800B0088 5400463E */  srwi	r0, r0, 0x18
/* 0AAAEC 800B008C 20000010 */  subfic	r0, r0, 0x10
lbl_800B0090:
/* 0AAAF0 800B0090 2C000000 */  cmpwi	r0, 0
/* 0AAAF4 800B0094 7C1A0378 */  mr		r26, r0
/* 0AAAF8 800B0098 4080000C */  bge		lbl_800B00A4
/* 0AAAFC 800B009C 3B200003 */  li		r25, 3
/* 0AAB00 800B00A0 480000C8 */  b		lbl_800B0168
lbl_800B00A4:
/* 0AAB04 800B00A4 2C00000C */  cmpwi	r0, 0xc
/* 0AAB08 800B00A8 4080000C */  bge		lbl_800B00B4
/* 0AAB0C 800B00AC 7C00F840 */  cmplw	r0, r31
/* 0AAB10 800B00B0 418000B0 */  blt		lbl_800B0160
lbl_800B00B4:
/* 0AAB14 800B00B4 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAB18 800B00B8 38A00003 */  li		r5, 3
/* 0AAB1C 800B00BC 808D9194 */  lwz		r4, Dev-_SDA_BASE_(r13)
/* 0AAB20 800B00C0 4BFFED75 */  bl		EXISelect
/* 0AAB24 800B00C4 2C030000 */  cmpwi	r3, 0
/* 0AAB28 800B00C8 4082000C */  bne		lbl_800B00D4
/* 0AAB2C 800B00CC 3B200003 */  li		r25, 3
/* 0AAB30 800B00D0 48000098 */  b		lbl_800B0168
lbl_800B00D4:
/* 0AAB34 800B00D4 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAB38 800B00D8 38810014 */  addi	r4, r1, 0x14
/* 0AAB3C 800B00DC 38A00004 */  li		r5, 4
/* 0AAB40 800B00E0 38C00001 */  li		r6, 1
/* 0AAB44 800B00E4 38E00000 */  li		r7, 0
/* 0AAB48 800B00E8 4BFFE1E5 */  bl		EXIImm
/* 0AAB4C 800B00EC 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAB50 800B00F0 4BFFE5C5 */  bl		EXISync
/* 0AAB54 800B00F4 48000054 */  b		lbl_800B0148
lbl_800B00F8:
/* 0AAB58 800B00F8 2C1A0004 */  cmpwi	r26, 4
/* 0AAB5C 800B00FC 4080000C */  bge		lbl_800B0108
/* 0AAB60 800B0100 7C1AF840 */  cmplw	r26, r31
/* 0AAB64 800B0104 41800054 */  blt		lbl_800B0158
lbl_800B0108:
/* 0AAB68 800B0108 281F0004 */  cmplwi	r31, 4
/* 0AAB6C 800B010C 4080000C */  bge		lbl_800B0118
/* 0AAB70 800B0110 7FFCFB78 */  mr		r28, r31
/* 0AAB74 800B0114 48000008 */  b		lbl_800B011C
lbl_800B0118:
/* 0AAB78 800B0118 3B800004 */  li		r28, 4
lbl_800B011C:
/* 0AAB7C 800B011C 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAB80 800B0120 7F85E378 */  mr		r5, r28
/* 0AAB84 800B0124 389E0000 */  addi	r4, r30, 0
/* 0AAB88 800B0128 38C00001 */  li		r6, 1
/* 0AAB8C 800B012C 38E00000 */  li		r7, 0
/* 0AAB90 800B0130 4BFFE19D */  bl		EXIImm
/* 0AAB94 800B0134 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AAB98 800B0138 7FDEE214 */  add		r30, r30, r28
/* 0AAB9C 800B013C 7FFCF850 */  subf	r31, r28, r31
/* 0AABA0 800B0140 7F5CD050 */  subf	r26, r28, r26
/* 0AABA4 800B0144 4BFFE571 */  bl		EXISync
lbl_800B0148:
/* 0AABA8 800B0148 2C1A0000 */  cmpwi	r26, 0
/* 0AABAC 800B014C 4182000C */  beq		lbl_800B0158
/* 0AABB0 800B0150 281F0000 */  cmplwi	r31, 0
/* 0AABB4 800B0154 4082FFA4 */  bne		lbl_800B00F8
lbl_800B0158:
/* 0AABB8 800B0158 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AABBC 800B015C 4BFFEE05 */  bl		EXIDeselect
lbl_800B0160:
/* 0AABC0 800B0160 281F0000 */  cmplwi	r31, 0
/* 0AABC4 800B0164 4082FEB4 */  bne		lbl_800B0018
lbl_800B0168:
/* 0AABC8 800B0168 806D9190 */  lwz		r3, Chan-_SDA_BASE_(r13)
/* 0AABCC 800B016C 4BFFF57D */  bl		EXIUnlock
/* 0AABD0 800B0170 7F63DB78 */  mr		r3, r27
/* 0AABD4 800B0174 4BFFA625 */  bl		OSRestoreInterrupts
/* 0AABD8 800B0178 7F23CB78 */  mr		r3, r25
lbl_800B017C:
/* 0AABDC 800B017C BB21001C */  lmw		r25, 0x1c(r1)
/* 0AABE0 800B0180 8001003C */  lwz		r0, 0x3c(r1)
/* 0AABE4 800B0184 38210038 */  addi	r1, r1, 0x38
/* 0AABE8 800B0188 7C0803A6 */  mtlr	r0
/* 0AABEC 800B018C 4E800020 */  blr		


.section .sbss, "wa"

.balign 8

/* 001003D0 80145B70 0004 */
Chan:
    .skip 4

.balign 4

/* 001003D4 80145B74 0004 */
Dev:
    .skip 4

.balign 4

/* 001003D8 80145B78 0004 */
Enabled:
    .skip 4

.balign 4

/* 001003DC 80145B7C 0004 */
BarnacleEnabled:
    .skip 4


